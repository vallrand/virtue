{"version":3,"sources":["node_modules/regenerator-runtime/runtime.js","src/modules/util/polyfill/polyfill.js","src/modules/util/polyfill/object.js","src/input.js","src/modules/util/polyfill/array.js","src/modules/util/polyfill/function.js","src/modules/util/common/factory.js","src/modules/util/common/queue.js","src/modules/util/common/worker.js","src/modules/util/common/signal.js","src/modules/util/common/stream.js","src/modules/util/common/pool.js","src/modules/util/util.js","src/modules/util/path.js","src/modules/util/query.js","src/modules/math/abstract.js","src/modules/math/constants.js","src/modules/math/structs/vec2.js","src/modules/math/structs/vec3.js","src/modules/math/structs/vec4.js","src/modules/math/structs/mat2.js","src/modules/math/structs/mat3.js","src/modules/math/structs/mat4.js","src/modules/math/structs/quat.js","src/modules/math/structs/dualquat.js","src/modules/math/structs/frustum.js","src/modules/math/structs/ray.js","src/modules/math/structs/binaryHeap.js","src/modules/math/structs/graph.js","src/modules/math/algorithm/random.js","src/modules/math/algorithm/poissonDisk.js","src/modules/math/algorithm/binPacker.js","src/modules/math/algorithm/raycaster.js","src/modules/math/algorithm/octree.js","src/modules/math/algorithm/astar.js","src/modules/events/time.js","src/modules/events/eventbus.js","src/modules/events/emitter.js","src/modules/math/algorithm/cluster.js","src/modules/geometry/primitives/plane.js","src/modules/geometry/primitives/box.js","src/modules/geometry/primitives/sphere.js","src/modules/geometry/primitives/polyhedron.js","src/modules/geometry/primitives/grid.js","src/modules/geometry/csg/util.js","src/modules/geometry/csg/solids.js","src/modules/geometry/csg/bsp.js","src/modules/geometry/csg/csg.js","src/modules/geometry/navigationMesh/util.js","src/modules/geometry/navigationMesh/graph.js","src/modules/geometry/navigationMesh/funnel.js","src/modules/debug/logger.js","src/modules/geometry/navigationMesh/generation.js","src/modules/geometry/navigationMesh/group.js","src/modules/geometry/navigationMesh/navigation.js","src/modules/geometry/serializer.js","src/modules/device/screen.js","src/modules/resources/loader/resource.js","src/modules/resources/loader/loader.js","src/modules/resources/loader/parser.js","src/tools/vmf/vmfFormat.js","src/modules/resources/geometry/vmfParser.js","src/modules/graphics/context.js","src/modules/graphics/glutil/typedef.js","src/modules/graphics/glutil/blendModes.js","src/modules/graphics/glutil/glstate.js","src/modules/graphics/glutil/extensions.js","src/modules/graphics/shader/autowire.js","src/modules/graphics/shader/uniformAccessObject.js","src/modules/graphics/shader/attributeBinder.js","src/modules/graphics/shader/shader.js","src/modules/graphics/vglsl/vglsl.js","src/modules/graphics/vglsl/lib/fullscreen.js","src/modules/graphics/vglsl/lib/depth.js","src/modules/graphics/vglsl/lib/lighting.js","src/modules/graphics/vglsl/lib/static_geometry.js","src/modules/graphics/vglsl/lib/linear_skinning.js","src/modules/graphics/vglsl/lib/dualquat_skinning.js","src/modules/graphics/vglsl/lib/geometry.js","src/modules/graphics/vglsl/lib/shadow_vsm.js","src/modules/graphics/vglsl/lib/blur.js","src/modules/graphics/vglsl/lib/dilate.js","src/modules/graphics/vglsl/lib/light_mapping.js","src/modules/graphics/vglsl/lib/fog.js","src/modules/graphics/vglsl/lib/blinn_phong.js","src/modules/graphics/vglsl/lib/cook_torrance.js","src/modules/graphics/vglsl/lib/normal_mapping.js","src/modules/graphics/vglsl/lib/ambient_light.js","src/modules/graphics/vglsl/index.js","src/modules/graphics/shader/shaderFactory.js","src/modules/graphics/buffer/vertexBufferObject.js","src/modules/graphics/buffer/vertexArrayObject.js","src/modules/graphics/buffer/vertexDataManager.js","src/modules/graphics/texture/texture.js","src/modules/graphics/texture/textureFactory.js","src/modules/graphics/offscreen/framebuffer.js","src/modules/graphics/offscreen/framebufferStack.js","src/modules/graphics/pipeline/pipeline.js","src/modules/graphics/pipeline/lightmapper.js","src/modules/graphics/pipeline/shadowmapper.js","src/modules/graphics/pipeline/filter.js","src/modules/graphics/pipeline/skyboxPass.js","src/modules/graphics/pipeline/staticGeometryPass.js","src/modules/graphics/pipeline/realtimeLightingPass.js","src/modules/graphics/pipeline/skinnedGeometryPass.js","src/modules/graphics/pipeline/decalGeometryPass.js","src/modules/graphics/effects/particleSystem/util.js","src/modules/graphics/effects/particleSystem/emitter.js","src/modules/graphics/effects/particleSystem/group.js","src/modules/graphics/effects/particleSystem/particleSystem.js","src/modules/physics/math/vec3.js","src/modules/physics/math/vec2.js","src/modules/physics/math/mat3.js","src/modules/physics/math/quat.js","src/modules/physics/math/transform.js","src/modules/physics/math/aabb.js","src/modules/physics/math/ray.js","src/modules/physics/math/separatingAxis.js","src/modules/physics/math/index.js","src/modules/graphics/effects/decals/util.js","src/modules/graphics/effects/decals/decalProjector.js","src/modules/graphics/pipeline/particleEffectPass.js","src/modules/graphics/pipeline/liquidSurfacePass.js","src/modules/graphics/pipeline/index.js","src/modules/graphics/mesh.js","src/modules/resources/geometry/unwrapper.js","src/modules/resources/texture/zlib.js","src/modules/resources/texture/pngDecoder.js","src/modules/resources/texture/pngParser.js","src/modules/resources/audio/audio.js","src/modules/audio/context.js","src/modules/audio/mixer.js","src/modules/audio/spatial.js","src/modules/audio/player.js","src/modules/behavior/behavior.js","src/modules/behavior/boid.js","src/modules/behavior/navigation.js","src/modules/physics/collision/collisionDetector.js","src/modules/physics/collision/sphereSphere.js","src/modules/physics/collision/sphereBox.js","src/modules/physics/collision/boxBox.js","src/modules/physics/collision/sphereConvex.js","src/modules/physics/collision/convexConvex.js","src/modules/physics/collision/spherePlane.js","src/modules/physics/collision/planeConvex.js","src/modules/physics/shape/convex.js","src/modules/physics/shape/cylinder.js","src/modules/physics/shape/sphere.js","src/modules/physics/shape/plane.js","src/modules/physics/shape/box.js","src/modules/physics/shape/index.js","src/modules/physics/collision/index.js","src/modules/physics/foundation/simulation.js","src/modules/physics/foundation/materialLibrary.js","src/modules/physics/foundation/overlapMatrix.js","src/modules/physics/foundation/world.js","src/modules/physics/narrowphase/manifold.js","src/modules/physics/equation/equation.js","src/modules/physics/equation/contactEquation.js","src/modules/physics/equation/frictionEquation.js","src/modules/physics/narrowphase/narrowphase.js","src/modules/physics/narrowphase/index.js","src/modules/physics/solver/gaussSeidel.js","src/modules/physics/solver/islandSplit.js","src/modules/physics/solver/index.js","src/modules/physics/foundation/physics.js","src/modules/physics/foundation/dynamics.js","src/modules/physics/foundation/query.js","src/modules/physics/foundation/rigidBody.js","src/modules/physics/foundation/sleep.js","src/modules/physics/broadphase/broadphase.js","src/modules/physics/broadphase/bruteForce.js","src/modules/physics/broadphase/simpleSAP.js","src/modules/physics/broadphase/sweepAndPrune.js","src/modules/physics/broadphase/uniformGrid.js","src/modules/physics/broadphase/boundingVolumeTree.js","src/modules/physics/broadphase/index.js","src/modules/physics/equation/rotationalEquation.js","src/modules/physics/equation/rotationalMotorEquation.js","src/modules/physics/constraint/constraint.js","src/modules/physics/constraint/distanceConstraint.js","src/modules/physics/constraint/pointToPointConstraint.js","src/modules/physics/constraint/hingeConstraint.js","src/modules/physics/constraint/lockConstraint.js","src/modules/physics/constraint/coneTwistConstraint.js","src/modules/physics/subsystem/subsystem.js","src/modules/physics/subsystem/spring.js","src/modules/physics/subsystem/particleHydrodynamics.js","src/modules/physics/serializer.js","src/modules/scene/scene.js","src/modules/scene/camera/camera.js","src/modules/scene/camera/perspective.js","src/modules/scene/camera/cube.js","src/modules/scene/instance/observable.js","src/modules/scene/instance/instance.js","src/modules/scene/instance/node.js","src/modules/scene/instance/instanceFactory.js","src/modules/scene/light/environment.js","src/modules/scene/light/spotlight.js","src/modules/scene/light/omnilight.js","src/modules/scene/light/hemisphere.js","src/modules/scene/light/lighting.js","src/modules/scene/audio/audioSource.js","src/modules/scene/spatial/bsp.js","src/modules/scene/spatial/spatial.js","src/modules/scene/spatial/cluster.js","src/modules/scene/effects/particleEmitter.js","src/modules/scene/effects/liquid.js","src/modules/animation/skeletal/timeline.js","src/modules/animation/skeletal/animation.js","src/modules/animation/skeletal/armature.js","src/modules/animation/clip.js","src/modules/animation/adapter.js","src/modules/animation/ragdoll.js","src/modules/interaction/interaction.js","src/modules/interaction/mouse.js","src/modules/interaction/keyboard.js","src/modules/interaction/touchpad.js","src/modules/interaction/pointerlock.js","src/modules/interaction/index.js","src/modules/framework/application.js","src/modules/framework/taskManager.js","src/modules/framework/resourceManager.js","src/modules/framework/pipelineManager.js","src/modules/debug/visualization/shader.js","src/modules/debug/visualization/renderer.js","src/modules/debug/visualization/physics.js","src/modules/debug/visualization/lights.js","src/modules/debug/visualization/decals.js","src/modules/debug/visualization/raycast.js","src/modules/debug/visualization/navigation.js","src/modules/debug/visualization/index.js","src/modules/debug/control/cameraController.js","src/modules/debug/monitoring/toolkit.js","src/modules/debug/monitoring/monitoring.js","src/modules/debug/index.js","src/demo/settings/particleEffects.js","src/demo/settings/physics.js","src/demo/settings/index.js","src/demo/core/world.js","src/demo/player/player.js","src/demo/player/weapon.js","src/demo/environment/chamberA.js","src/demo/environment/chamberB.js","src/demo/environment/chamberC.js","src/demo/environment/chamberD.js","src/demo/environment/chamberE.js","src/demo/environment/synchronizeDynamic.js","src/demo/environment/zoneGenerator.js","src/demo/critters/ragdoll.js","src/demo/critters/stalker.js","src/demo/critters/critterSpawner.js","src/demo/index.js","src/main.js"],"names":["global","Op","Object","prototype","hasOwn","hasOwnProperty","undefined","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","inModule","module","runtime","regeneratorRuntime","exports","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","makeInvokeMethod","tryCatch","fn","obj","arg","type","call","err","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","constructor","displayName","defineIteratorMethods","forEach","method","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","__await","AsyncIterator","invoke","resolve","reject","record","result","value","Promise","then","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","async","iter","next","done","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","return","TypeError","info","resultName","nextLoc","toString","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","keys","object","key","reverse","length","pop","iterable","iteratorMethod","isNaN","i","skipTempReset","prev","charAt","slice","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","Function","window","performance","now","Date","startOffset","decodeText","TextDecoder","decode","bind","array","out","idx","String","fromCharCode","target","map","deepEquals","a","b","k1","k2","Array","remove","elements","index","indexOf","splice","range","from","to","c","shuffle","j","Math","random","flatten","inner","innerLength","unique","uniqueBy","lookupMap","fieldValue","once","original","args","if","assert","extend","base","tie","modules","filter","instance","getOwnPropertyNames","defineProperty","property","getOwnPropertyDescriptor","factory","core","declare","location","provider","build","options","reduce","Queue","queue","front","tail","frontIdx","tailIdx","item","shift","hasElement","el","worker","requestId","drain","callback","schedule","setTimeout","defer","time","Signal","signal","status","PENDING","executor","onSuccess","onError","SUCCEEDED","FAILED","callHandler","handler","listen","error","nextNode","pipe","transform","fix","validate","split","signals","all","intermediate","just","succeed","fail","delay","every","s","onReady","document","readyState","addEventListener","Stream","stream","emitter","node","attach","prevNode","detach","default","until","initCallback","clear","buffer","bufferSize","valueCount","emitValue","spreadValue","spreadError","minInterval","timeoutId","clearTimeout","minTime","consume","Pool","pool","size","allocate","max","factoryFunction","obtain","release","PoolManager","manager","trackedItems","assign","globalPool","apply","ObjectPool","snapshot","JSON","parse","stringify","genRandomFloat","min","rand","genRandomInt","floor","unCapitalize","string","replace","word","toLowerCase","substr","path","extension","fullpath","lastIndexOf","URLQuery","url","createElement","href","query","search","substring","regex","tokens","exec","decodeURIComponent","util","freeze","clamp","v","mod","n","m","unrollVectorBinaryOperator","defaultValue","operator","callable","concat","fill","_","join","unrollVectorScalarOperator","unrollVectorUnaryOperator","lerp","v1","v2","f","generateUUID","id","lookupTable","randomNumbers","Uint32Array","formatUUID","d0","d1","d2","d3","greatestCommonDivisor","abs","temp","HALF_DEG_RAD","PI","DEG_RAD","EPSILON","SQRT2","sqrt","vec2","Float32Array","copy","scale","add","subtract","multiply","divide","sqrtLength","distance","normalize","x","y","invSqrt","dot","ax","ay","direction","angle","cos","sin","truncate","maxLength","ZERO","rotation","atan2","fromAngle","rotate","vec","vec3","manhattan","z","cross","az","bx","by","bz","transformQuat","q","qx","qy","qz","qw","ix","iy","iz","iw","eyeUp","w","eyeForward","eyeRight","UP","LEFT","eulerFromMat3","mat","order","m00","m01","m02","m10","m11","m12","m20","m21","m22","asin","translationFromMat4","scaleFromMat4","unproject","m03","m13","m23","m30","m31","m32","m33","invW","vec4","aw","rx","ry","rz","rw","mat2","identity","transpose","m1","invert","det","invDet","mat3","tm01","tm02","tm12","d01","d11","d21","fromQuat","x2","y2","z2","xx","yy","zz","yx","zx","zy","wx","wy","wz","fromMat4","m2","by0","by1","by2","mat4","d00","d02","d03","d04","d05","d06","d07","d08","d09","d10","frustum","left","right","bottom","top","zNear","zFar","rl","tb","nf","perspective","fovy","aspectRatio","tan","ortho","lr","bt","translate","mat1","by3","sv","rad","rv","icos","r00","r01","r02","r10","r11","r12","r20","r21","r22","fromEuler","angles","sinx","cosx","siny","cosy","sinz","cosz","determinant","decompose","t","r","sx","sy","sz","trace","fromRotationTranslationScale","xy","xz","yz","lookAt","eye","up","eyeX","eyeY","eyeZ","targetX","targetY","targetZ","upX","upY","upZ","z0","z1","invLength","x0","x1","y0","y1","targetTo","fromDualquat","dq","tx","ty","tz","tw","xw","yw","zw","quat","q1","q2","w1","w2","rotateX","rotateY","rotateZ","setAxisAngle","axis","fromEulerOrdered","cx","cy","cz","slerp","coshTheta","ratio1","ratio2","hTheta","sinhTheta","acos","fromMat3","fTrace","fRoot","k","S","rotationTo","AXIS_X","AXIS_Y","a0","a1","a2","a3","invDot","dualquat","rotationMat","tVec","dq1","dq2","rx1","ry1","rz1","rw1","rx2","ry2","rz2","rw2","px1","py1","pz1","pw1","dotProduct","fromRotationTranslation","ax0","ay0","az0","aw0","bx1","bz1","bw1","ax1","ay1","az1","aw1","bx0","bz0","bw0","fromMat","il","containsSphere","fr","containsBox","box","planes","minX","maxX","minY","maxY","minZ","maxZ","Ray","origin","fromProjectionCamera","camera","coords","position","invViewProjectionMatrix","projectionMatrix","viewMatrix","fromOrthographicCamera","intersectSphere","ray","sphere","v0","center","tca","distSq","radiusSq","radius","thc","t0","t1","pointDistance","point","directionDistance","sphereIntersection","intersectTriangle","ab","ac","normal","hit","toHit","dot00","dot01","dot02","dot11","dot12","u","intersectAABB","aabb","tmin","tmax","inv","t2","tnear","tfar","boxmin","boxmax","BinaryHeap","content","comparator","element","sinkDown","last","bubbleUp","updateElement","parentIndex","parent","rightChildIndex","leftChildIndex","compareNode","swapIndex","heuristics","diagonal","scale2","dx","dy","euclidean","Graph","init","inputGrid","minWeight","heuristic","nodes","grid","width","gridRow","inputGridRow","height","GridNode","dirtyNodes","neighbors","traversable","cleanDirty","cleanNode","markDirty","estimateWeight","neighbour","weight","rngMultiplyWithCarry","seed","mask","rngLinearCongruentialGenerator","pow","multiplier","rngSimple","PoissonDisk","rng","rejectThreshold","radiusSquared","cellSize","gridWidth","ceil","gridHeight","sampleSize","queueSize","far","cellX","cellY","col","cell","row","sample","generate","qi","rngAngle","rngRadius","limit","startingPoint","samples","stride","sampleArray","BinPacker","sort","maxside","maxWidth","maxHeight","root","h","insert","blocks","block","findNode","fit","splitNode","growNode","full","down","growRight","growDown","area","Raycaster","fromCamera","mouseCoords","intersect","entity","modelMatrix","boundingSphereRadius","INDEX_INSIDE_CROSS","INDEX_OUTSIDE_OFFSET","INDEX_OUTSIDE_POS_X","INDEX_OUTSIDE_NEG_X","INDEX_OUTSIDE_POS_Y","INDEX_OUTSIDE_NEG_Y","INDEX_OUTSIDE_POS_Z","INDEX_OUTSIDE_NEG_Z","FLAG_POS_X","FLAG_NEG_X","FLAG_POS_Y","FLAG_NEG_Y","FLAG_POS_Z","FLAG_NEG_Z","INDEX_OUTSIDE_MAP","count","OctreeSegment","pointer","segment","indexOctant","dirty","prevPosition","prevRadius","Octree","tree","maxDepth","Infinity","objectsThreshold","overlapPercent","deferred","nodeCount","objects","objectMap","segmentList","deferredActions","tempVec3","update","action","mapper","addDeferred","uuid","addObject","removeObject","removedSegment","segmentMap","octree","objectData","segments","rebuild","OctreeNode","getOctantIndex","attached","Number","MAX_VALUE","invDirection","l","nodeIndices","nodesByIndex","groupByObject","results","resultsObjectsIndices","resultObjectIndex","updateProperties","depthEnd","nodeCountEnd","objectCountEnd","depth","overlap","radiusOverlap","back","parentNode","cascade","addNode","removeNode","deferAction","some","branch","transferObject","removeContext","searchComplete","nodesRemovedFrom","removedSegments","removeObjectRecursive","wasRemoved","checkGrow","grow","objectsExpand","objectsExpandOctants","objectsSplit","objectsSplitOctants","objectsRemaining","expand","checkMerge","octants","console","log","radiusOffset","flagsOutside","indexesOutside","indexOutside0","indexBitwise0","infoPotential1","infoPotential2","indexOutside1","indexOutsideBitwise2","infoPotential3","infoPotential4","indexPotentialBitwise1","indexPotentialBitwise2","indexOutside2","octantX","octantY","octantZ","getOctantIndexFromPosition","indexOctantInverse","radiusParent","overlapParent","shrink","checkContract","nodeParent","nodeMerge","merge","objectsEnd","nodeHeaviest","nodeHeaviestObjectsCount","outsideHeaviestObjectsCount","nodeObjectsCount","contract","rootNode","objectRadius","objectPosition","deltaX","deltaY","deltaZ","distX","distY","distZ","intersectRay","diff","maxDistance","t3","t4","t5","nodeCountRecursive","objectCountStart","astar","traversePath","unshift","smoothPath","graph","checkPath","sampleLine","start","end","stepX","stepY","findClosest","openHeap","total","estimated","closestNode","closed","neighbor","traverseWeight","shortestDistance","visited","prevTimestamp","deltaTime","timestamp","metronome","requestAnimationFrame","pulse","paused","pause","cancelAnimationFrame","EventEmitter","events","event","listener","listeners","oneTime","removeEventListener","removeAllEventListeners","dispatchEvent","Cluster","padding","capacityThreshold","capacityScale","cluster","positions","pointers","accumulativeCentroid","centroid","maxConnection","connectionFactor","recompute","differenceSquared","computeWeight","averageVolume","StaticClusterPartitioning","worldScale","clusters","clusterIdx","prevCluster","partitionCluster","math","vec3$1","quat$1","PlaneGeometry","halfWidth","halfHeight","AXIS_Z","tangent","binormal","extractTangents","vertices","negate","indices","normals","uvs","BoxGeometry","halfX","halfY","halfZ","SphereGeometry","widthSegments","heightSegments","phi","theta","phiOffset","thetaOffset","vertex","d","azimuth","inclination","ConvexPolyhedronGeometry","corners","faces","faceNormals","face","faceIdx","faceNormal","offset","faceUvs","centroidAzimuth","uv","GridGeometry","columns","rows","column","round","precision","toFixed","distanceSquared","vector","constructPolygonPlane","equals","mergePolygons","verticesA","verticesB","indicesA","indicesB","contourA","contourB","edges","sharedEdges","sharedPolygonIndices","indexMap","startIndex","lengthA","mergeConvexColinearEdges","previousEdge","nextEdge","orientation","angleSum","sign","transformGeometry","geometry","Plane","dimensions","Sphere","wedges","rings","thetaAngle","phiAngle","Cuboid","halfExtents","ONE","Cylinder","Polyhedron","Polygon","plane","intoPolygonList","PLANE_NEAR_TOLERANCE","COPLANAR","FRONT","BACK","SPANNING","splitPolygonByPlane","polygon","coplanarFront","coplanarBack","polygonSide","vertexSides","side","frontVertices","backVertices","sideA","sideB","vertexA","vertexB","factor","middleVertex","BSPNode","nodePolygons","insertPolygons","polygons","stack","polygonList","splittingPolygon","fetchPolygons","swap","clipTo","bspNode","clipCoplanar","outerStack","innerStack","clippedPolygons","clippingNode","union","polygonsA","polygonsB","clippedPolygonsB","clippedPolygonsA","planeList","averageNormal","average","simplify","vertexMap","planeMap","mergedPolygons","coplanarPolygons","polygonA","polygonB","contourUnion","inwardOffset","vertexOffsets","prevEdge","inwardNormal","vertexOffset","adjacent","prevVertex","nextVertex","planeNormal","pointInsidePolygon","planeNearThreshold","flag","edgeA","edgeB","findClosestNode","minDistance","maxThreshold","measuredDistance","checkBounds","mergeVertices","verticesMap","duplicates","MeshGraph","mesh","neighbours","triangleAreaSquared","Funnel","portalsL","portalsR","traverse","leftIndex","rightIndex","leftPortal","rightPortal","apexPortal","logger","history","styles","style","DEBUG","msg","dir","registerStyle","cssText","buildConfigurationSpace","solids","margin","steepness","nearThreshold","combinedGeometry","solid","simplifiedGeometry","edgeLength","difference","vertexC","linkNavigationGeometry","vertexIdxMap","vertexIdx","boundingRadius","groupNavigationMesh","expectedGroups","groups","groupCount","polygonIdx","polygonsToProcess","group","reindexed","filtered","groupVertices","portals","findIntersectionLine","nearPrecision","edge","vertexA0","vertexA1","planeW","directionW","b0","b1","vertexB0","vertexB1","dotA","dotB","dotC","dotD","attachNavigationMesh","existingGroups","navigationMesh","prevPolygons","combinedRadius","portal","joints","joint","groupOffset","detachNavigationMesh","jointPolygon","layers","taskManager","syncWrapLayer","layer","nextTask","layerData","layerGroups","buildNodes","solidGeometry","runGenerator","nodeGroups","deleteNodes","detectNearestNode","nodeA","nodeB","queryNodes","nearPosition","nearRange","nearRangeSquared","findPath","startPosition","targetPosition","farthestNode","nodeList","pathBuilder","prevPolygon","shapeMapper","deserialize","staticObjects","json","mass","quaternion","shapes","shape","localOffset","localOrientation","documentElement","clientWidth","innerWidth","clientHeight","innerHeight","dpr","devicePixelRatio","resize","emit","screen","focus","prefixes","visibilityProperty","prefix","find","fullScreen","body","ua","navigator","userAgent","device","xhr","XMLHttpRequest","open","encodeURIComponent","responseType","load","onprogress","evt","lengthComputable","loaded","onreadystatechange","DONE","data","response","send","cache","pending","batchSize","loadQueue","onLoad","fetch","parsers","appendParser","RESOURCE_TYPE","resource","parsersSnapshot","VERTEX_ATTRIBUTE_TYPE","mapAttrbuteName","attributeTypes","attrName","HEADER_LENGTH","JOINT_LENGTH","pow2","val","decodeBuffer","header","arraybuffer","vertexArray","byteOffset","byteLength","jointArray","animationArray","indexArray","Uint16Array","formatArray","materialArray","Uint8Array","dataFormat","attr","byteSize","boneHierarchy","bufferOffset","bufferLength","bindPose","BYTES_PER_ELEMENT","localTransform","materials","bones","material","textureNames","animationLayers","armature","animation","MESH","loader","ctxOptions","alpha","stencil","antialias","premultipliedAlpha","canvasOptions","canvas","gl","getContext","pipeline","preventDefault","stopPropagation","clearColor","clearDepth","depthFunc","LEQUAL","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","resetViewport","viewport","render","run","scene","drawElements","TRIANGLES","UNSIGNED_SHORT","drawArrays","GLSL_TYPE_SIZE","GL_TYPE_SIZE","Int8Array","Int16Array","GL_GLSL_MAP","GLSL_TYPE_MAP","DEFAULT_GLSL_VALUE","Int32Array","GLSL_SETTERS","GLSL_ARRAY_SETTERS","MAX_INDEX_ARRAY_LENGTH","ATTRIBUTE_LOCATIONS","ATTRIB_GL_TYPE","MAX_BONES_PER_MESH","GL_BLEND_MODES","blend","blendEquation","FUNC_ADD","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","DST_COLOR","FUNC_REVERSE_SUBTRACT","bindings","depthTest","colorMask","depthMask","culling","blendMode","temporaryArrayBuffer","ArrayBuffer","saveState","param","restoreState","snapshotStack","onBind","allocateUint16","enable","DEPTH_TEST","disable","CULL_FACE","cullFace","BLEND","extensions","frag_depth","getExtension","shader_texture_lod","standadrd_derivatives","texture_float","texture_float_linear","texture_half_float","texture_half_float_linear","vertex_array_object","depth_texture","HALF_FLOAT","HALF_FLOAT_OES","UNSIGNED_INT_24_8","UNSIGNED_INT_24_8_WEBGL","Autowire","unfold","address","uniformGetter","uniformArraySetter","set","dirtyFlag","uniformSetter","updateUniforms","uniform","extractShaderUniforms","program","uniformAccessObject","getProgramParameter","ACTIVE_UNIFORMS","getActiveUniform","getUniformLocation","acc","list","get","enumerable","autowire","bindAttribute","normalized","enableVertexAttribArray","vertexAttribPointer","FLOAT","bindAttributeLocation","bindAttribLocation","preBindAttributes","attributeLocations","attribName","extractShaderAttributes","attributes","ACTIVE_ATTRIBUTES","getActiveAttrib","attribute","getAttribLocation","compileShader","src","shader","createShader","shaderSource","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","compileShaderProgram","vert","frag","createProgram","vertShader","VERTEX_SHADER","fragShader","FRAGMENT_SHADER","attachShader","linkProgram","deleteShader","LINK_STATUS","getProgramInfoLog","deleteProgram","ctx","uao","use","useProgram","vglsl","PRECISION","LOW","MEDIUM","HIGH","builder","findIndex","structs","constants","functions","uniforms","varyings","main","setPrecision","p","e","const","struct","params","function","head","varying","append","shaders","fullscreen","fullscreen_cube","encodedDepth","spotlight","omnilight","hemisphere","static_geometry","linear_skinning","dualquat_skinning","vsm_depth","vsm_shadow","vsm_cube_shadow","vsm_depth_encoded","vsm_shadow_encoded","box_blur","dilate","bake_lightmap","render_lightmap","fog_exp","blinn_phong","cook_torrance","normal_mapping","ambient_light","maxVertShaderPrecision","getShaderPrecisionFormat","HIGH_FLOAT","maxFragShaderPrecision","maxVertUniformSize","getParameter","MAX_VERTEX_UNIFORM_VECTORS","maxFragUniformSize","MAX_FRAGMENT_UNIFORM_VECTORS","glType","VertexBufferRange","vertexArrayLength","vertexArrayOffset","indexArrayLength","indexArrayOffset","dynamic","vertexBuffer","createBuffer","indexBuffer","uploadQueue","indexBaseOffset","clearVBOAttributePointers","deleteBuffer","bindBuffer","ARRAY_BUFFER","ELEMENT_ARRAY_BUFFER","unbind","appendData","vertexCount","vertexDataOffset","indexDataOffset","uploadEvent","uploaded","migrate","bufferRange","staticUpload","bufferData","DYNAMIC_DRAW","STATIC_DRAW","uploadVertexArray","bufferSubData","uploadIndexArray","offsetIndexArray","segmentedVertexArrayUpload","segmentLength","segmentOffset","segmentView","segmentedIndexArrayUpload","upload","MAX_SAFE_INTEGER","vertexDataSize","indexDataSize","vertexBatchSize","vertexBatchCount","indexBatchSize","indexBatchCount","indexOffset","unloadData","bufferRangeIdx","indexShift","inheritBufferRange","inherit","vaoExtension","maxAttributes","MAX_VERTEX_ATTRIBS","vao","createVertexArrayOES","deleteVertexArrayOES","bindVertexArrayOES","setup","vbo","vboPointer","bindArrayAttribute","UPLOAD_BATCH_SIZE","VBOs","VAOs","VDFs","attributePointers","uploadQueueLength","uploadMeshData","meshData","groupId","vdfIdx","format","vdf","vboIdx","uploadResponse","uploadBuffers","unload","deferredDataUpload","migrateBufferData","enableVAO","boundVBO","attrPointer","properties","props","unbindArrayAttribute","disableVertexAttribArray","tempVBO","tempVAO","isPowOf2","WRAP_MODE","REPEAT","CLAMP","MIRRORED_REPEAT","T","FILTERING_MODE","NONE","LINEAR","NEAREST","mag","mipmap","yFlip","premultiplyAlpha","cube","texture","createTexture","channels","powOf2","filteringMode","wrapMode","bindTexture","TEXTURE_CUBE_MAP","TEXTURE_2D","pixelStorei","UNPACK_FLIP_Y_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","glPointer","textureLocation","setTextureParameters","parameters","deleteTexture","wrapS","wrapT","glWrapS","CLAMP_TO_EDGE","glWrapT","texParameteri","TEXTURE_WRAP_S","TEXTURE_WRAP_T","filterMag","filterMin","mipMaps","glFilterMag","glFilterMin","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR","generateMipmap","TEXTURE_MAG_FILTER","TEXTURE_MIN_FILTER","source","naturalWidth","naturalHeight","texImage2D","RGBA","UNSIGNED_BYTE","TEXTURE_CUBE_MAP_POSITIVE_X","autoDetectTexParameters","uploadSubTexture","xOffset","yOffset","subWidth","subHeight","subTextureView","texSubImage2D","uploadTexture","maxChunkSize","RGB","ALPHA","colMaxSize","rowMaxSize","colOffset","rowOffset","blankTexture","emptyTexture","generateTexture","pixel","imageData","bindTextures","activeTexture","TEXTURE0","maxTexturePrecision","framebuffer","createFramebuffer","renderbuffer","createRenderbuffer","textures","depthTexture","bindFramebuffer","FRAMEBUFFER","attachedTextures","attachedDepthTexture","attachStencil","attachDepth","DEPTH_COMPONENT","framebufferTexture2D","DEPTH_ATTACHMENT","bindRenderbuffer","RENDERBUFFER","renderbufferStorage","DEPTH_COMPONENT16","framebufferRenderbuffer","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","attachTexture","COLOR_ATTACHMENT0","deleteFramebuffer","deleteRenderbuffer","FBOs","totalMemoryUsage","returnFramebuffer","inUse","pollFramebuffer","fboIdx","fbo","frame","pass","flush","LIGHTMAP_RESOLUTION","LIGHTMAP_SCALE_FACTOR","LightmapTexture","Lightmap","packer","instances","updateLayout","instanceLightmap","bounds","attachInstance","lightmapScale","initialBounds","internalData","uvBounds","lightmap","detachInstance","lightShaders","wireShader","light","color","outerAngle","cosOuterAngle","innerAngle","cosInnerAngle","lightViewMatrix","lightPosition","skyColor","groundColor","lightmapRegions","clearLightmap","renderTexture","lightmapper","updateRegion","lights","region","deferredLights","lightmaps","bake","bakeRegion","clearRegion","lightCleanup","onCleanup","instancesPerLightmap","maxLightmaps","lightmapIdx","bakeLightmap","cleanupProcedures","outputTexture","accumulate","applyFilter","filters","none","shadowMap","castShadow","renderShadowMap","blur","shared","bakeLight","tempFramebuffer","bindShadowMap","lightmapOffset","totalSize","bindLightmap","shadowMapScale","sharedShadowMap","sharedShadowCubeMap","renderShadowCubeMap","shadowmap","queryShadowcasters","prepareFilter","lightProjectionMatrix","FullscreenQuad","quadVBO","quad","input","output","pixelSize","sampler","SkyboxPass","cubeVBO","skyboxTexture","mutation","mutations","modelViewMatrix","StaticGeometryPass","lightmapping","albedo","Pmat","environment","fogColor","fogDensity","clusterPartitioning","awaitEvent","fetchInstancesByGroup","meshIdx","subMeshIdx","instanceIdx","subMesh","subMeshes","frameFlag","visible","frustumCulling","MVmat","RealtimeLightingPass","ambient","sun","SkinnedGeometryPass","dualQuatSkinning","animationClip","applyTransform","boneMatrix","jointMatrixArray","highlightColor","highlight","decal_geometry","DecalGeometryPass","decalRegions","staticGeometry","decals","regionData","batchDecals","regions","regionIdx","submeshIdx","submeshes","submesh","CORNERS","InterleavedArrayIterator","requireArray","arrayPointer","arrayOffset","corner","skipDefaults","generateParticleTexture","pixelBase","pixels","ColorRamp","colors","RangeSampler","approximateParticleSystemRadius","rangeLength","arrayIterator","velocity","acceleration","ParticleEmitter","colorRamp","timeRange","particle","lifeTime","frameCount","frameDuration","cursor","static","advanceTime","emitParticles","startTime","remaining","uploadRange","endIndex","dataView","emitters","reservedRanges","deferredRanges","requireRange","deferRangeUpload","mergeThreshold","mergedRange","createEmitter","particleSettings","parameterNames","syncBufferData","particleSystems","registerParticleSystem","attributeFormat","bufferFormat","shaderSrc","rampSampler","textureAtlas","MAX","MIN","dz","transformMat3","conjugate","lengthSquared","invLengthSquared","normalizeApproximation","Transform","pointToLocalFrame","pointToWorldFrame","vectorToLocalFrame","vectorToWorldFrame","AABB","lowerBound","upperBound","minA","maxA","minB","maxB","overlapX","overlapY","overlapZ","volume","contains","outer","surfaceArea","rayIntersect","_direction","lower","upper","invX","invY","invZ","tMax","tMin","computeAABB","IntersectionManifold","intersectionPoint","intersectionNormal","Raytracer","world","intersectionDetector","candidates","intersectionPool","rayAABB","skipBackFaces","nearest","vec3Pool","intersectionPoints","registerIntersection","intersection","worldPosition","worldRotation","aquireVec3Pool","bodies","broadphase","aabbQuery","shapeOrientations","shapeOffsets","intersectMethod","rayPlane","planeOrigin","planeTarget","raySphere","sphereOrigin","delta","delta0","delta1","pointInTriangle","rayConvex","worldVertices","scalar","rayBox","axisX","axisY","axisZ","rayOrigin","dotX","dotY","dotZ","minmax","maxmin","planeX","planeY","planeZ","SATContext","worldNormalsA","worldNormalsB","worldVerticesA","worldVerticesB","clippedVertices","connectedFaces","contactPoints","precompute","hullA","positionA","rotationA","hullB","positionB","rotationB","projectConvexAxis","testSeparatingAxis","dotMaxMin","findSeparatingAxis","worldPositionA","worldPositionB","worldRotationA","worldRotationB","separatingNormal","axesA","uniqueAxes","axesB","edge0","e0","uniqueEdges","e1","edge1","clipAgainstHull","quaternionA","quaternionB","minDot","maxDot","minFaceIndex","maxFaceIndex","faceA","faceB","planeConstant","planeEquation","outVertices","clipFaceAgainstPlane","prevDot","aquireVec2Pool","clipFace","interpolateVertex","clip","clippingPlanes","enabledPlanes","positionD","positionG","decal","projectDecal","outputDataFormat","vec2Pool","normalMatrix","localMatrix","offsets","vertexAttributes","cachedVertices","insertVertex","lm_uv","splitVertices","vertexList","faceVertices","duplicate","billboarded_particle","oriented_particle","ParticleEffectPass","billboarded","oriented","defaultParticleTexture","defaultColorRamp","viewProjectionMatrix","invViewMatrix","particleSystem","liquid","createGridMesh","LiquidSurfacePass","surfaces","surface","invModelMatrix","choppiness","frequency","surfaceColor","passes","calcBoundingSphere","vertexData","positionsOffset","maxRadius","vertexDataFormat","graphics","LIGHTMAP_PADDING","generateLightmapUV","MAX_BATCH_SIZE","polycount","vertexcount","attribs","tempClusterLookup","lightmappedArray","lightmapResolution","clusterCount","totalArea","selectCluster","c0","c1","transferCluster","fromIdx","intoIdx","triangle","vertIdx","processTriangle","prevClusterIdx","extractVertex","vertIndex","calculateScaleContribution","uvEdge","uvEdgeLength","xContrib","yContrib","processCluster","vertexIndices","lightmapUVs","rect","parseInt","lmUv","copyVertexData","deferIteration","attrib","zlib","MAXBITS","ENOUGH_LENS","ENOUGH_DISTS","CODES","LENS","DISTS","lbase","lext","dbase","dext","utf8lenTable","crcTable","fixedtables","lenfix","distfix","sym","lens","inflate_table","work","bits","lencode","lenbits","distcode","distbiys","HEAD","FLAGS","TIME","OS","EXLEN","EXTRA","NAME","COMMENT","HCRC","DICTID","DICT","TYPE","TYPEDO","STORED","COPY_","COPY","TABLE","LENLENS","CODELENS","LEN_","LEN","LENEXT","DIST","DISTEXT","MATCH","LIT","CHECK","LENGTH","BAD","MEM","SYNC","Z_NO_FLUSH","Z_SYNC_FLUSH","Z_FINISH","Z_BLOCK","Z_TREES","Z_OK","Z_STREAM_END","Z_NEED_DICT","Z_STREAM_ERROR","Z_DATA_ERROR","Z_MEM_ERROR","Z_BUF_ERROR","Z_DEFLATED","flattenChunks","chunks","chunk","stringToBuffer","charCodeAt","arraySet","src_offset","output_offset","subarray","input_offset","adler32","adler","s1","s2","crc32","crc","shrinkBuffer","utf8border","zswap32","Inflator","chunkSize","windowBits","raw","ZStream","InflateState","GZHeader","wbits","mode","lendyn","distdyn","onComplete","onData","onEnd","dictionary","next_out_utf8","utf8str","allowBufError","next_in","avail_in","avail_out","next_out","inflate","warn","total_in","total_out","data_type","text","xflags","os","extra","extra_len","comment","hcrc","havedict","flags","dmax","check","wsize","whave","wnext","hold","distbits","ncode","nlen","ndist","have","sane","was","put","hbuf","here","_in","_out","ret","from_source","here_bits","here_op","here_val","last_bits","last_op","last_val","len","opts","inf_leave","inflate_fast","updatewindow","lens_index","codes","table","table_index","curr","drop","used","huff","incr","low","base_index","offs","extra_index","beg","s_window","lcode","dcode","lmask","dmask","op","dist","dolen","dodist","defaultTaskManager","task","PNGDecoder","process","readInterlace","toRGBA8","inflator","rawData","rawDataLength","code","message","pixelByteSize","bytesPerPixel","bytesPerLine","bin","chunkMaxSize","uint32View","colorType","processor","iterateChunk","trns","transparency","tR","tG","tB","i3","i6","readShort","palette","ii","grey","readUshort","execOffset","processChunk","bitmapData","binary","readChunkMaxSize","bitmapOffset","parseChunk","readUint","o","compress","interlace","readOffset","pixelDimensions","unit","chromaticies","readBytes","paletteHistogram","colorGamma","rgbColorSpace","backgrounColor","read","readASCII","filterZero","colorBytesPerPixel","outputBuffer","rowBegin","colBegin","rowStep","colStep","inputOffset","writeInterlace","ci","wOffset","processInterlace","write","rb","cb","rs","cs","bytesPerSubLine","interlacePass","subArea","bytesHalfLine","processRow","outputOffset","exec0","exec1","NaN","paeth","exec0Length","exec1Length","pa","pb","pc","inputOffset1","inputOffset2","inputOffset3","paethInOffset1","paethInOffset2","paethInOffset3","nextByte","byte","pad","minLength","readUTF8","str","writeUshort","writeUint","writeASCII","TEXTURE","AUDIO","resources","unlockAudio","audioCtx","unlock","resume","AudioContext","webkitAudioContext","audio","procedures","components","initialize","disconnect","loadEvent","suspend","uploadAudioBuffer","decodeAudioData","audioData","masterGain","createGain","compressor","createDynamicsCompressor","threshold","ratio","reduction","connect","destination","gainNode","gain","setValueAtTime","currentTime","updateListenerCoordinates","forward","positionX","forwardX","positionY","positionZ","forwardY","forwardZ","setPosition","setOrientation","updateEmitterCoordinates","pannerNode","orientationX","orientationY","orientationZ","rotationMatrix","createPanner","panningModel","distanceModel","refDistance","rolloffFactor","coneInnerAngle","coneOuterAngle","coneOuterGain","initializeAudioSource","sourceNode","createBufferSource","playbackRate","rate","loop","loopStart","loopEnd","duration","playhead","restart","timeOffset","timeElapsed","prevTime","Boid","steeringForce","velocitySamples","smoothingSampleCount","maxSpeed","maxForce","wanderAngle","verlet","totalVelocity","seek","objective","arrivalThreshold","desiredVelocity","flee","wander","wanderDistance","wanderRange","pursue","distanceAhead","futureObjective","evade","followPath","pathIdx","thresholdRadius","wayPoint","addSolidGeometry","solidObjects","navigationConstructionEvent","removeSolidGeometry","FollowObjective","distanceThreshold","navigationLayer","lastPosition","wayPointIndex","agentPosition","agentTargetPosition","behavior","CollisionDetector","test","shapeA","shapeB","bailEarly","flip","detector","detectors","sphereSphere","contactNormal","contactPointA","contactPointB","registerContact","sphereBox","boxToSphere","sideX","sideY","sideZ","minOverlap","rotationMatrixA","rotationMatrixB","crossAxes","boxBox","axisXA","axisYA","axisZA","axisXB","axisYB","axisZB","dotXX","dotXY","dotXZ","dotYX","dotYY","dotYZ","dotZX","dotZY","dotZZ","dimensionA","dimensionB","axisIndex","minDepth","overlapOffset","lengthThreshold","crossAxis","sideLength","oppositeAxes","planeC1","planeC2","planeC3","planeC4","clipVertices","faceIndex","centerDot","sphereConvex","tempVertices","convexToSphere","facePeneteration","tempFaceNormal","peneteration","edgePoint","edgeDirection","edgeNormal","edgePeneteration","tempEdgeDirection","tempEdgeNormal","indexA","indexB","projection","satContext","convexConvex","separatingAxis","convexToConvex","spherePlane","planeToSphere","planeConvex","worldVertex","ConvexPolyhedron","face_iteration","maxSquared","calculateWorldAABB","calculateLocalInertia","transformAllPoints","topRadius","bottomRadius","axes","topFace","bottomFace","segmentAngle","inertia","worldNormal","Box","halfSide","sm","SHAPE_TYPE","SPHERE","PLANE","CONVEX","BOX","collisionDetector","simulationEvent","timeRemaining","elapsedTime","minDeltaTime","maxSubSteps","step","substeps","previousPosition","interpolatedPosition","previousQuaternion","interpolatedQuaternion","simulate","TupleDictionary","dataMap","materialLibrary","contactMaterials","contactMaterialMap","defaultContactMaterial","createMaterial","createContactMaterial","materialA","materialB","contactMaterial","friction","restitution","contactEquationStiffness","contactEquationRelaxation","frictionEquationStiffness","frictionEquationRelaxation","collisionResponse","getContactMaterial","composeTriangularKey","OverlapMatrix","composeKey","frameThreshold","matrix","overlaps","additions","removals","prevFrame","constraints","overlapMatrix","addConstraint","constraint","removeConstraint","addBody","removeBody","ContactManifold","ManifoldContext","contactPool","bodyA","bodyB","contact","Jacobian","spatial","angular","Equation","globalCounter","minForce","eps","jacobianElementA","jacobianElementB","setSpookParams","stiffness","relaxation","timeStep","computeRightHandSide","GW","computeBodyVelocities","Gq","computeBodyCoordinates","GiMf","computeGiMf","jacobianA","jacobianB","angularVelocity","computeGWlambda","vlambda","wlambda","computeDenominator","computeGiMGt","force","invMass","torque","invInertiaWorld","addToWlambda","deltalambda","ContactEquation","spatialA","spatialB","angularA","angularB","peneterationX","peneterationY","peneterationZ","g","FrictionEquation","contactTangent","frictionEquationGenerator","frictionEquationPool","frictionEquations","contactPoint","gravity","reducedMass","slipForce","equationA","equationB","contactEquationGenerator","contactEquationPool","contactEquations","equation","Narrowphase","frictionReduction","manifoldContext","generateContactEquation","generateFrictionEquation","generateContactManifold","contactRegistrator","shapesA","shapesB","averageContactPoint","invCount","DefaultNarrowphase","GaussSeidelSolver","iterations","tolerance","invDenominators","rightHandSideValues","lambdas","solve","equations","toleranceSquared","maxIterations","equationCount","iteration","totalError","rhs","invDenominator","lambda","GWlambda","linearFactor","angularFactor","breadthFirstSearch","visitFunction","children","SolverNode","IslandSplitSolver","subsolver","nodePoolLength","nodePool","islandBodies","islandEquations","bodyIdMap","bodyCount","idxA","idxB","child","visitNode","DefaultSolver","DefaultBroadphase","narrowphase","solver","collisionEvent","contactManifold","pairs1","pairs2","collisionPairs","queryCandidates","enabled","integrate","quaternionNormalization","invInertia","invTimeMass","rqx","rqy","rqz","halfDeltaTime","worldAABB","cachedInvInertiaWorld","normalizationFrequency","normalizationFunction","linearDamping","angularDamping","raycast","RigidBody","fixedRotation","cachedInvInertia","combinedBoundingRadius","tempQuat","tempAABB","addShape","removeShape","shapeAABB","shapeInertia","applyForce","relativePoint","angularForce","applyImpulse","impulse","vmult","applyLocalForce","applyLocalImpulse","getVelocityAtWorldPoint","worldPoint","sleeping","allowSleep","sleepSpeedLimit","sleepTimeLimit","wakeUp","sleepTimer","awakeConnected","oppositeBody","putToSleep","speedLimitSquared","speedSquared","wakeUpFlag","PairsArray","checkCollisionFlags","jointIterationCost","testAABBCollision","aabbA","aabbB","testBoundingSphereCollision","BruteForceBroadphase","testCollision","pairs","insertionSort","SimpleSAPBroadphase","sortList","autoDetectAxis","totalX","totalSquaredX","totalY","totalSquaredY","totalZ","totalSquaredZ","varianceX","varianceY","varianceZ","varianceMax","SAPMarker","connections","SAPAxis","markers","addMarker","lowerMarker","upperMarker","removeMarker","insertion_sort","marker","pivot","quick_sort","calculateTestCount","SweepAndPruneBroadphase","dynamicAxes","staticAxes","linkedQueue","index0","index1","index2","staticMarkers","dynamicMarkers","axis0","axis1","dynamicAxis","staticAxis","queueIndex","UniformGridBroadphase","aabbMin","aabbMax","binCount","bins","binSizes","stepZ","binSizeX","binSizeY","binSizeZ","xmult","ymult","zmult","insertBox","xoff0","yoff0","zoff0","xoff1","yoff1","zoff1","xoff","yoff","zoff","aabbNeedsUpdate","pairUniqueMap","DBVTNode","DBVTree","insertLeaf","leaf","sibling","creationCost","descendingCost","descLeftCost","descRightCost","prevParent","removeLeaf","grandParent","updateNodeProperties","balance","L","R","LL","LR","RL","RR","DynamicBoundingVolumeTreeBroadphase","leaves","RotationalEquation","axisA","axisB","maxAngle","normalA","normalB","RotationalMotorEquation","targetVelocity","Constraint","DistanceConstraint","halfDistance","PointToPointConstraint","equationX","equationY","equationZ","pivotA","pivotB","HingeConstraint","motorEquation","enableMotor","disableMotor","setMotorSpeed","setMotorMaxForce","LockConstraint","middle","initialXUnitA","initialXUnitB","initialYUnitA","initialYUnitB","initialZUnitA","initialZUnitB","rotationalEquationX","rotationalEquationY","rotationalEquationZ","ConeTwistConstraint","coneEquation","twistEquation","twistAngle","subsystems","Spring","restLength","damping","localAnchorA","localAnchorB","worldAnchorA","worldAnchorB","offsetA","offsetB","relativeVelocity","SmoothedParticleHydrodynamicsSystem","density","smoothingRadius","speedOfSound","viscosity","epsilon","particles","pressures","densities","computeWeightGradient","radiusVector","computeNabla","neighborList","totalDensity","pressure","weightGradient","pressureContribution","viscosityContribution","nabla","bodyParameters","shapeGeometry","physics","Ray$1","PairsArray$1","Sphere$1","Plane$1","Cylinder$1","shapeMapper$1","deserialize$1","recalculateView","eyePosition","eyeRotation","viewFrustum","yaw","pitch","cameras","Observable","delete","procedure","propagate","MutationEvent","eventName","Instance","recalculateModelMatrix","Node","removeElement","addElement","INSTANCE_GROUP","STATIC","DYNAMIC","SKINNED","resourceManager","instanceGroups","resourceMap","createInstance","requestResource","removeInstance","worldDestination","createLight","audioSources","createAudioSource","play","OctreeObjectSegmentMappers","boundingSphere","cachedPosition","BinaryPartitionTree","bsp","entities","trackSpatial","raytrace","raycaster","sceenCoords","mutatedInstances","mutatedClusters","addDeferredInstance","addDeferredCluster","particleEmitters","defineParticleSystem","createParticleEmitter","amountToSpawn","trigger","createLiquidSurface","TIME_RESOLUTION","DQS","frames","endTime","pointerArray","interpolatedFrame","frameIdx","nextFrame","timelines","timeline","accPosition","accRotation","frameTransform","getLayerLength","boneId","mixer","clipDuration","crop","framePosition","frameRotation","TRANSFORM_MATRIX_SIZE","transformArray","worldTransform","tempMat","bone","offsetId","invBindPose","parentBoneId","AnimationClip","repeat","mixerStack","insertClip","defaultTransform","tempTransform","boundRagdoll","findImposter","imposter","imposterMap","bindRagdoll","ragdollEnabled","MOUSE","LEFT_CLICK","MIDDLE_CLICK","RIGHT_CLICK","capture","mouseState","gesture","button","pointerLocked","sensitivity","movementX","mozMovementX","webkitMovementX","movementY","mozMovementY","webkitMovementY","clientX","clientY","passive","mouse","screenSpaceCoords","KEY_BINDINGS","which","keyCode","keyboard","getKey","keyName","requestPointerlock","interaction","appendChild","tasks","maxInterval","thresholdStep","begin","deferredMap","generatorState","immediateInvoker","GLContext","audioContext","unloadResource","filename","responses","framework","flat_color","createVisualRepresentation","debugOptions","deferredVisuals","debugPasses","visual","renderVisual","wireframe","LINES","addDebugVisuals","removeDebugVisuals","addDebugPass","visuals","pair","WireframeBox","app","V","navigation","navigationWireframe","wireframeGeometry","navigationMeshGeometry","debugTexture","setDebugTexture","WalkingCameraController","initialPosition","initialRotation","speedScale","walkingPlane","movement","speed","dt","defaultColors","DomElement","dom","tagName","removeProperty","setProperty","innerHTML","Canvas","imageSmoothingEnabled","clearRect","offsetX","offsetY","globalCompositeOperation","fillStyle","fillRect","blit","sourceOffsetX","sourceOffsetY","sourceWidth","sourceHeight","drawImage","label","heights","maxScale","sum","edgeMax","scaleY","Indicator","globalAlpha","barWidth","Display","background","MonitoringToolkit","display","fpsDisplay","msDisplay","memoryDisplay","queueDisplay","drawCallDisplay","frameCounter","captureFrame","drawCalls","ms","memory","usedJSHeapSize","jsHeapSizeLimit","sharedData","passId","monitoring","frameEvent","setupParticleEffects","worldVelocity","worldAcceleration","conf","startSize","endSize","spinStart","spinSpeed","frameStart","setupPhysics","defineMaterials","obstacleMaterial","ragdollMaterial","playerMaterial","setupConfiguration","World","regulation","synchronize","deserializeVisuals","className","addEntity","initRegulation","removeEntity","GroundPin","detachThreshold","rayLength","rayTarget","rayNormal","pinned","ground","pin","spring","hitTestGround","rayIntersection","grounded","Player","handlers","floorNormal","processCameraMovement","groundPin","cameraOffset","footsteps","concrete","metal","playing","updateContext","cover","weapon","Weapon","projectile","lifespan","buildLadder","buildWalls","chamberA","metaData","connectors","chamberB","chamberC","chamberD","chamberE","SynchronizeDynamic","imposters","genRandomChar","chambers","cloneConfiguration","ZoneGenerator","player","identifier","unloadZone","zone","loadZone","connector","zoneOptions","zoneConnector","applyRotation","applyTranslation","minIndex","buildRagdoll","boneOrigins","boneWidth","boneFromTo","worldOrientation","boneIndex","linkBodies","parentImposter","boneHalfLength","jointPivot","jointAxis","parentJointPivot","parentJointAxis","traverseBoneHierarchy","RandomRepeat","cooldown","STATES","DEAD","FOLLOW","RAGDOLL","StalkerAI","harness","boid","followPlayer","sounds","randomNoise","switchToRagdoll","Stalker","CritterSpawner","critters","tempPosition","tile","critter","closest","DemoGame","setupEnvironment","ambience","util.onReady","util.factory"],"mappings":"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","file":"main.js","sourcesContent":["/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // In sloppy mode, unbound `this` refers to the global object, fallback to\n  // Function constructor if we're in global strict mode. That is sadly a form\n  // of indirect eval which violates Content Security Policy.\n  (function() { return this })() || Function(\"return this\")()\n);\n","import 'regenerator-runtime/runtime'\n\nif(typeof(global) !== 'undefined')global.window = global\n\nif(!window.performance)\n    window.performance = {\n        now: (startOffset =>  _ => Date.now() - startOffset)(Date.now())\n    }\n\nconst decodeText = window.TextDecoder ? TextDecoder.prototype.decode.bind(new TextDecoder('utf-8'))\n: (array) => {\n\tlet out = '',\n\t\tidx = array.length\n\twhile(idx--)\n\t\tout = String.fromCharCode(array[idx]) + out\n\treturn out\n}\n\nexport {decodeText}","if(!Object.keys)\n    Object.keys = function(obj){\n        const keys = []\n        for(let key in obj) keys.push(key)\n        return keys\n    }\n\nif(!Object.values) Object.values = function(target){ return Object.keys(target).map(key => target[key]) }\n    \nObject.deepEquals = function(a, b){\n    if(!a || !b || typeof a !== 'object' || typeof b !== 'object') return a === b\n    const k1 = Object.keys(a),\n          k2 = Object.keys(b)\n    if(k1.length !== k2.length) return false\n    \n    for(let i = 0; i < k1.length; i++)\n        if(!Object.deepEquals(a[k1[i]], b[k2[i]]))\n            return false\n    return true\n}","import * as util from './modules/util'\nimport * as math from './modules/math'\nimport * as geometry from './modules/geometry'\nimport * as events from './modules/events'\nimport * as device from './modules/device'\nimport * as resources from './modules/resources'\nimport * as graphics from './modules/graphics'\nimport * as audio from './modules/audio'\nimport * as behavior from './modules/behavior'\nimport * as physics from './modules/physics'\nimport * as scene from './modules/scene'\nimport * as animation from './modules/animation'\nimport * as interaction from './modules/interaction'\nimport * as framework from './modules/framework'\n\nimport './modules/debug'\n\nwindow.V = {\n    util,\n    math,\n    geometry,\n    events,\n    device,\n    resources,\n    graphics,\n    audio,\n    animation,\n    behavior,\n    physics,\n    scene,\n    interaction,\n    framework,\n    \n    init: options => util.onReady().pipe(_ => util.factory.build('application', options))\n}\n\nimport main from './main'\nmain()","Array.prototype.remove = function(...elements){\n    let idx = elements.length\n    while(idx--){\n        let index = this.indexOf(elements[idx])\n        if(index !== -1)\n            this.splice(index, 1)\n    }\n    return this\n}\n\nArray.range = function(from, to){\n    if(to === undefined){\n        to = from\n        from = 0\n    } \n    const result = []\n    for(let i = from, c = 0; i < to; i++, c++)\n        result[c] = i\n    return result\n}\n\nArray.prototype.shuffle = function(){\n    for(let j, i = this.length; i; (j = (Math.random() * i--) | 0), [this[i], this[j]] = [this[j], this[i]]);\n    return this\n}\n\nArray.prototype.flatten = function(out = []){\n    for(let length = this.length, i = 0; i < length; i++)\n        for(let inner = this[i], innerLength = inner.length, j = 0; j < innerLength; j++)\n            out.push(inner[j])\n    return out\n}\n\nArray.prototype.unique = function(uniqueBy, result = []){\n    const lookupMap = Object.create(null)\n    for(let length = this.length, i = 0; i < length; i++){\n        let value = this[i],\n            fieldValue = uniqueBy(value)\n        if(lookupMap[fieldValue]) continue\n        lookupMap[fieldValue] = true\n        result.push(value)\n    }\n    return result\n}","Function.prototype.once = function(){\n\tlet original = this\n\treturn function(...args){\n\t\tif(original === null)\n\t\t\treturn false\n\t\toriginal.call(this, ...args)\n        original = null\n\t}\n}\n\nFunction.prototype.if = function(assert){\n    const original = this\n    return function(...args){\n        if(assert.call(this, ...args))\n            original.call(this, ...args)\n    }\n}\n\nFunction.prototype.extend = function(base){ //TODO function overwrites\n    const original = this\n    return base ? function(...args){\n        original.call(this, ...args)\n        return base.call(this, ...args)\n    } : this\n}","const tie = function(target, ...modules){\n\tmodules.filter(instance => !!instance)\n\t.forEach(module => Object.getOwnPropertyNames(module)\n\t.forEach(property => Object.defineProperty(target, property, \n\tObject.getOwnPropertyDescriptor(module, property))))\n\treturn target\n}\n\nconst factory = (core => {\n\tconst map = Object.create(null)\n\t\n\treturn tie(core, {\n\t\tdeclare: (location, provider) => (map[location] ? \n\t\t\tmap[location].push(provider)\n\t\t\t: map[location] = [provider], core),\n\t\tbuild: (location, options = Object.create(null)) => !map[location] ? null : map[location]\n\t\t.reduce((target, provider) => tie(target, provider(target, options) || {}), Object.create(null))\n\t})\n})(Object.create(null))\n\nexport {tie, factory}","import {tie} from './factory'\n\nconst Queue = function(){\n    const queue = Object.create(Queue.prototype)\n    queue.front = []\n    queue.tail = []\n    queue.frontIdx = 0\n    queue.tailIdx = 0\n    return queue\n}\n\nQueue.prototype = tie(Object.create(null), {\n    push: function(item){\n        this.front[this.frontIdx++] = item\n        return this\n    },\n    shift: function(){\n        if(this.tailIdx >= this.tail.length){\n            this.front.length = this.frontIdx\n            let front = this.tail\n            this.tail = this.front\n            this.front = front\n            this.frontIdx = 0\n            this.tailIdx = 0\n        }\n        if(this.tail.length <= 0)\n            return null\n        const item = this.tail[this.tailIdx]\n        this.tail[this.tailIdx++] = undefined\n        return item\n    },\n    get length(){\n        return this.frontIdx + this.tail.length - this.tailIdx\n    },\n    hasElement: function(el){\n        return this.front.indexOf(el) != -1 || this.tail.indexOf(el) != -1\n    }\n})\n\nexport {Queue}","import {tie} from './factory'\nimport {Queue} from './queue'\n\nconst worker = (core => {\n    const queue = Queue()\n    let requestId = null\n    \n    const drain = function(){\n        let callback = null\n        while(callback = queue.shift())\n            callback()\n        requestId = null\n    }\n    \n    return tie(core, {\n        schedule: callback => (queue.push(callback), requestId || (requestId = window.setTimeout(drain, 0))) //::ALTERNATIVE:: window.requestAnimationFrame(drain)\n    })\n})(Object.create(null))\n\nconst defer = (callback, time = 0) => time ? window.setTimeout(callback, time) : worker.schedule(callback)\n\nexport {worker, defer}","import {tie} from './factory'\nimport {defer} from './worker'\n\nconst Signal = executor => {\n    const signal = Object.create(Signal.prototype)\n    signal.status = Signal.PENDING\n    if(executor)\n        executor(signal.onSuccess.bind(signal), signal.onError.bind(signal))\n    return signal\n}\nSignal.PENDING = 0\nSignal.SUCCEEDED = 1\nSignal.FAILED = 2\nSignal.prototype = tie(Object.create(null), {\n    callHandler: function(handler, value){\n        try{\n            const result = handler(value)\n            if(result instanceof Signal)\n                result.listen(this.onSuccess.bind(this), this.onError.bind(this))\n            else\n                this.onSuccess(result)\n        }catch(error){\n            this.onError(error)\n        }\n    },\n    listen: function(onSuccess, onError, defer = true){\n        if(this.status === Signal.SUCCEEDED)\n            onSuccess(this.value)\n        else if(this.status === Signal.FAILED)\n            onError(this.value)\n        else\n            this.nextNode = {\n                next: this.nextNode, defer,\n                onSuccess, onError\n            }\n    },\n    onSuccess: function(value){\n        if(this.status !== Signal.PENDING)\n            return false\n        this.status = Signal.SUCCEEDED\n        this.value = value\n        while(this.nextNode)\n            this.nextNode = (this.nextNode.defer ? defer(this.nextNode.onSuccess.bind(null, value))\n                             : this.nextNode.onSuccess(value), this.nextNode.next)\n    },\n    onError: function(error){\n        if(this.status !== Signal.PENDING)\n            return false\n        this.status = Signal.FAILED\n        this.value = error\n        while(this.nextNode)\n            this.nextNode = (this.nextNode.defer ? defer(this.nextNode.onError.bind(null, error))\n                             : this.nextNode.onError(error), this.nextNode.next)\n    },\n    pipe: function(transform, defer){\n        const next = Signal()\n        this.listen(next.callHandler.bind(next, transform), next.onError.bind(next), defer)\n        return next\n    },\n    fix: function(transform, defer){\n        const next = Signal()\n        this.listen(next.onSuccess.bind(next), next.callHandler.bind(next, transform), defer)\n        return next\n    },\n    filter: function(validate){\n        const next = Signal()\n        this.listen(next.onSuccess.bind(next).if(validate), next.onError.bind(next))\n        return next\n    },\n    split: function(...signals){\n        return Signal.all(signals.reverse().map(transform => {\n            const intermediate = Signal()\n            this.listen(intermediate.callHandler.bind(intermediate, transform), intermediate.onError.bind(intermediate))\n            return intermediate\n        }))\n    }\n})\nSignal.just = value => Signal((succeed, fail) => succeed(value))\nSignal.error = error => Signal((succeed, fail) => fail(error))\nSignal.delay = time => Signal(succeed => window.setTimeout(succeed, time))\n\nSignal.all = signals => Signal((succeed, fail) => {\n    const values = []\n    signals.forEach((signal, idx) => signal.listen(value => (values[idx] = value, signals.every(s => s.status !== Signal.PENDING) && succeed(values)), error => fail(error)))\n})\n\nconst onReady = _ => Signal(resolve => window.document.readyState === 'complete' ? resolve() : window.addEventListener('load', resolve))\n\nexport {Signal, onReady}","import {tie} from './factory'\nimport {defer} from './worker'\nimport {Signal} from './signal'\n\nconst Stream = emitter => {\n    const stream = Object.create(Stream.prototype)\n    if(emitter)\n        defer(emitter.bind(stream, stream.onSuccess.bind(stream)))\n    return stream\n}\nStream.prototype = tie(Object.create(null), {\n    onSuccess: function(value){\n        let node = this.nextNode\n        while(node) node = (node.defer ? defer(node.onSuccess.bind(null, value)) : node.onSuccess(value), node.nextNode)\n    },\n    onError: function(error){\n        let node = this.nextNode\n        while(node) node = (node.defer ? defer(node.onError.bind(null, error)) : node.onError(error), node.nextNode)\n    },\n    attach: function(onSuccess, onError, defer = true){\n        const node = this.nextNode = {\n            prevNode: this,\n            nextNode: this.nextNode,\n            onSuccess, onError, defer\n        }\n        if(node.nextNode) node.nextNode.prevNode = node\n        return node\n    },\n    detach: function(node){\n        if(!node) return false\n        if(node.prevNode) node.prevNode.nextNode = node.nextNode\n        if(node.nextNode) node.nextNode.prevNode = node.prevNode\n    },\n    callHandler: function(handler, value){\n        try{\n            const result = handler.call(this, value)\n            if(result instanceof Stream)\n                result.attach(this.onSuccess.bind(this), this.onError.bind(this))\n            else if(result instanceof Signal)\n                result.listen(this.onSuccess.bind(this), this.onError.bind(this))\n            else\n                this.onSuccess(result)\n        }catch(error){\n            this.onError(error)\n        }\n    },\n    pipe: function(transform, defer){\n        const next = Stream()\n        this.attach(next.callHandler.bind(next, transform), next.onError.bind(next), defer)\n        return next\n    },\n    fix: function(transform, defer){\n        const next = Stream()\n        this.attach(next.onSuccess.bind(next), next.callHandler.bind(next, transform), defer)\n        return next\n    },\n    default: function(value){\n        this.attach = function(onSuccess, onError){\n            defer(onSuccess.bind(null, value))\n            Stream.prototype.attach.call(this, onSuccess, onError)\n        }\n        return this\n    },\n    once: function(){\n        const next = Stream(),\n              node = this.attach(value => (this.detach(node), next.onSuccess(value)),\n                              error => (this.detach(node), next.onError(error)))\n        return next\n    },\n    until: function(initCallback){\n        const next = Stream(),\n              node = this.attach(next.onSuccess.bind(next), next.onError.bind(next))\n        initCallback(this.detach.bind(this, node).once())\n        return next\n    },\n    filter: function(validate){\n        const next = Stream()\n        this.attach(next.onSuccess.bind(next).if(validate), next.onError.bind(next))\n        return next\n    },\n    clear: function(){\n        while(this.nextNode)\n            this.detach(this.nextNode)\n    },\n    buffer: function(bufferSize, executor){\n        let valueCount = 0\n        const next = Stream(),\n              buffer = [],\n              emitValue = value => (valueCount++, Signal(executor.bind(null, value)).listen(spreadValue, spreadError)),\n              spreadValue = value => (valueCount--, buffer.length == 0 || emitValue(buffer.shift()), next.onSuccess.call(next, value)),\n              spreadError = error => (valueCount--, buffer.length == 0 || emitValue(buffer.shift()), next.onError.call(next, error))\n              \n        this.attach(value => valueCount < bufferSize ? emitValue(value) : buffer.push(value), next.onError.bind(next))\n        return next\n    }\n})\nStream.minInterval = minTime => {\n    let timeoutId = null\n    return _ => Signal(resolve => (window.clearTimeout(timeoutId), timeoutId = window.setTimeout(resolve, minTime)))\n}\nStream.from = array => Stream(consume => array.forEach(value => consume(value)))\n\nexport {Stream}","const Pool = factoryFunction => {\n    const pool = []\n    let index = 0\n    return {\n        get size(){ return pool.length },\n        allocate: size => {\n            let extend = Math.max(pool.length - size, 0)\n            while(extend--) pool.push(factoryFunction(index++))\n        },\n        clear: _ => pool.length = 0,\n        obtain: _ => pool.pop() || factoryFunction(index++),\n        release: (...items) => pool.push(...items)\n    }\n}\n\nconst PoolManager = globalPool => {\n    const pool = Pool(id => {\n        const manager = Object.create(null),\n              trackedItems = []\n        let item = null\n        return Object.assign(manager, {\n            release: _ => {\n                globalPool.release.apply(globalPool, trackedItems)\n                pool.release(manager)\n                trackedItems.length = 0\n            },\n            obtain: _ => {\n                item = globalPool.obtain()\n                trackedItems.push(item)\n                return item\n            }\n        })\n    })\n    return pool.obtain.bind(pool)\n}\n\nconst ObjectPool = factoryFunction => { //TODO check if necessary\n    const pool = Pool(factoryFunction)\n    Object.assign(pool, {\n        obtain: (obtain => {\n            const item = obtain()\n            item.release = pool.release.bind(pool, item)\n            return item\n        })(pool.obtain)\n    })\n    return pool\n}\n\nexport {Pool, PoolManager, ObjectPool}","const snapshot = object => JSON.parse(JSON.stringify(object || null))\n\nconst genRandomFloat = (min, max, rand = Math.random) => rand() * (max - min) + min\nconst genRandomInt = (min, max, rand = Math.random) => Math.floor(rand() * (max - min + 1)) + min\n\nconst unCapitalize = string => string.replace(/\\w\\S*/g, word => word.charAt(0).toLowerCase() + word.substr(1))\n\nexport {snapshot, genRandomFloat, genRandomInt, unCapitalize}","const path = fullpath => ({\n    get extension(){ return fullpath.split('.').pop() },\n    get base(){ return fullpath.substr(0, fullpath.lastIndexOf('/') + 1) || fullpath }\n})\n\nexport {path}","export function URLQuery(url){\n    url = url ? Object.assign(document.createElement('a'), { href: url }) : location\n    const out = Object.create(null)\n    const query = url.search.substring(1)\n    const regex = /[?&]?([^=]+)=([^&]*)/g\n    for(let tokens; tokens = regex.exec(query); out[decodeURIComponent(tokens[1])] = decodeURIComponent(tokens[2]));\n    return out\n}","Math.clamp = (v, min, max) => v < min ? min : v > max ? max : v\nMath.mod = (n, m) => ((n % m) + m) % m\n\nconst unrollVectorBinaryOperator = (length, defaultValue, operator, callable = false) => new Function('v0', 'v1', 'out', \n[`out = out || this()`]\n.concat(Array(length).fill().map((_, idx) => callable ?\n`out[${idx}] = ${operator}(v0[${idx}],v1[${idx}])` : `out[${idx}] = v0[${idx}] ${operator} v1[${idx}]`))\n.concat('return out').join(';')).bind(defaultValue)\nconst unrollVectorScalarOperator = (length, defaultValue, operator, callable = false) => new Function('v0', 's', 'out', \n[`out = out || this()`]\n.concat(Array(length).fill().map((_, idx) => callable ? \n`out[${idx}] = ${operator}(v0[${idx}],s)` : `out[${idx}] = v0[${idx}] ${operator} s`))\n.concat('return out').join(';')).bind(defaultValue)\nconst unrollVectorUnaryOperator = (length, defaultValue, operator, callable = false) => new Function('v0', 'out', \n[`out = out || this()`]\n.concat(Array(length).fill().map((_, idx) => callable ? \n`out[${idx}] = ${operator}(v0[${idx}])` : `out[${idx}] = ${operator} v0[${idx}]`))\n.concat('return out').join(';')).bind(defaultValue)\n\nconst lerp = (v1, v2, f) => v1 + f * (v2 - v1)\n\nconst generateUUID = (rng => {\n    let id = 0\n    return _ => ++id\n    \n    const lookupTable = Array(256).fill().map((_, i) => (i<16?'0':'') + i.toString(16))\n    const randomNumbers = new Uint32Array(4)\n    const formatUUID = ([d0, d1, d2, d3]) => lookupTable[d0&0xFF]+lookupTable[d0>>8&0xFF]+lookupTable[d0>>16&0xFF]+lookupTable[d0>>24&0xFF]\n    +'-'+lookupTable[d1&0xFF]+lookupTable[d1>>8&0xFF]\n    +'-'+lookupTable[d1>>16&0x0F|0x40]+lookupTable[d1>>24&0xFF]\n    +'-'+lookupTable[d2&0x3F|0x80]+lookupTable[d2>>8&0xFF]\n    +'-'+lookupTable[d2>>16&0xFF]+lookupTable[d2>>24&0xFF]+lookupTable[d3&0xFF]+lookupTable[d3>>8&0xFF]+lookupTable[d3>>16&0xFF]+lookupTable[d3>>24&0xFF]\n    return _ => {\n        randomNumbers[0] = Math.random()*0x100000000 >>> 0\n        randomNumbers[1] = Math.random()*0x100000000 >>> 0\n        randomNumbers[2] = Math.random()*0x100000000 >>> 0\n        randomNumbers[3] = Math.random()*0x100000000 >>> 0\n        return formatUUID(randomNumbers)\n    }\n})(Math.random)\n\nexport function greatestCommonDivisor(a, b){\n\ta = Math.abs(a)\n\tb = Math.abs(b)\n\twhile(b > 1e-6){\n\t\tlet temp = b\n\t\tb = a % b\n\t\ta = temp\n\t}\n\treturn a\n}\n\nexport {unrollVectorBinaryOperator, unrollVectorScalarOperator, unrollVectorUnaryOperator, lerp, generateUUID}","const HALF_DEG_RAD = 0.5 * Math.PI/180\nconst DEG_RAD = Math.PI/180\nconst EPSILON = 1e-6\nconst SQRT2 = Math.sqrt(2)\n\nexport {HALF_DEG_RAD, DEG_RAD, EPSILON, SQRT2}","import {unrollVectorBinaryOperator, unrollVectorScalarOperator, unrollVectorUnaryOperator} from '../abstract'\n\nconst vec2 = (...args) => new Float32Array(args.length ? (args.length === 2 ? args : Array(2).fill(args[0])) : 2)\n\nvec2.copy = unrollVectorUnaryOperator(2, vec2, '')\nvec2.scale = unrollVectorScalarOperator(2, vec2, '*')\n\nvec2.add = unrollVectorBinaryOperator(2, vec2, '+')\nvec2.subtract = unrollVectorBinaryOperator(2, vec2, '-')\nvec2.multiply = unrollVectorBinaryOperator(2, vec2, '*')\nvec2.divide = unrollVectorBinaryOperator(2, vec2, '/')\nvec2.min = unrollVectorBinaryOperator(2, vec2, 'Math.min', true)\nvec2.max = unrollVectorBinaryOperator(2, vec2, 'Math.max', true)\n\nvec2.sqrtLength = v => v[0]*v[0] + v[1]*v[1]\nvec2.distance = v => Math.sqrt(vec2.sqrtLength(v))\n\nvec2.normalize = (v, out = vec2()) => {\n\tconst x = v[0], y = v[1],\n          sqrt = Math.sqrt(x*x + y*y),\n          invSqrt = sqrt ? 1.0 / sqrt : 0\n\tout[0] = x * invSqrt\n\tout[1] = y * invSqrt\n\treturn out\n}\n\nvec2.dot = (a, b) => a[0] * b[0] + a[1] * b[1]\n\nvec2.lerp = (a, b, f, out = vec2()) => {\n\tconst ax = a[0], ay = a[1]\n\tout[0] = ax + f * (b[0] - ax)\n\tout[1] = ay + f * (b[1] - ay)\n\treturn out\n}\n\nvec2.direction = (angle, scale = 1, out = vec2()) => {\n\tout[0] = Math.cos(angle) * scale\n\tout[1] = Math.sin(angle) * scale\n\treturn out\n}\n\nvec2.truncate = (v, maxLength, out = vec2()) => {\n    const scale = Math.min(maxLength / vec2.distance(v), 1.0)\n    out[0] = scale * v[0]\n    out[1] = scale * v[1]\n    return out\n}\nvec2.ZERO = vec2()\n\nvec2.rotation = v => Math.atan2(v[1], v[0])\nvec2.fromAngle = (angle, length, out = vec2()) => {\n    out[0] = Math.cos(angle) * length\n    out[1] = Math.sin(angle) * length\n    return out\n}\nvec2.angle = (a, b) => Math.atan2(a[0]*b[1] - a[1]*b[0], a[0]*b[0] + a[1]*b[1])\nvec2.rotate = (vec, angle, out = vec2()) => {\n\tout[0] = Math.cos(angle)*vec[0] - Math.sin(angle)*vec[1]\n\tout[1] = Math.sin(angle)*vec[0] + Math.cos(angle)*vec[1]\n\treturn out\n}\nexport {vec2}\n\n","import {unrollVectorBinaryOperator, unrollVectorScalarOperator, unrollVectorUnaryOperator} from '../abstract'\n\nconst vec3 = (...args) => new Float32Array(args.length ? (args.length === 3 ? args : Array(3).fill(args[0])) : 3)\n\nvec3.copy = unrollVectorUnaryOperator(3, vec3, '')\nvec3.abs = unrollVectorUnaryOperator(3, vec3, 'Math.abs', true)\n\nvec3.scale = unrollVectorScalarOperator(3, vec3, '*')\n\nvec3.add = unrollVectorBinaryOperator(3, vec3, '+')\nvec3.subtract = unrollVectorBinaryOperator(3, vec3, '-')\nvec3.multiply = unrollVectorBinaryOperator(3, vec3, '*')\nvec3.divide = unrollVectorBinaryOperator(3, vec3, '/')\nvec3.min = unrollVectorBinaryOperator(3, vec3, 'Math.min', true)\nvec3.max = unrollVectorBinaryOperator(3, vec3, 'Math.max', true)\n\nvec3.sqrtLength = v => v[0]*v[0] + v[1]*v[1] + v[2]*v[2]\nvec3.distance = v => Math.sqrt(vec3.sqrtLength(v)) //TODO rename magnitude\n\nvec3.manhattan = v => Math.abs(v[0]) + Math.abs(v[1]) + Math.abs(v[2])\n\nvec3.normalize = (v, out = vec3()) => {\n\tconst x = v[0], y = v[1], z = v[2],\n          sqrt = Math.sqrt(x*x + y*y + z*z),\n          invSqrt = sqrt ? 1.0 / sqrt : 0\n\tout[0] = x * invSqrt\n\tout[1] = y * invSqrt\n\tout[2] = z * invSqrt\n\treturn out\n}\n\nvec3.dot = (a, b) => a[0] * b[0] + a[1] * b[1] + a[2] * b[2]\n\nvec3.cross = (a, b, out = vec3()) => {\n\tconst ax = a[0], ay = a[1], az = a[2],\n\t\tbx = b[0], by = b[1], bz = b[2]\n\tout[0] = ay * bz - az * by\n\tout[1] = az * bx - ax * bz\n\tout[2] = ax * by - ay * bx\n\treturn out\n}\n\nvec3.lerp = (a, b, f, out = vec3()) => {\n\tconst ax = a[0], ay = a[1], az = a[2]\n\tout[0] = ax + f * (b[0] - ax)\n\tout[1] = ay + f * (b[1] - ay)\n\tout[2] = az + f * (b[2] - az)\n\treturn out\n}\n\nvec3.transformQuat = (v, q, out = vec3()) => {\n    const x = v[0], y = v[1], z = v[2],\n        qx = q[0], qy = q[1], qz = q[2], qw = q[3],\n        ix = qw * x + qy * z - qz * y,\n        iy = qw * y + qz * x - qx * z,\n        iz = qw * z + qx * y - qy * x,\n        iw = -qx * x - qy * y - qz * z\n    out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy\n    out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz\n    out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx\n    return out\n}\n\nvec3.eyeUp = (q, out = vec3()) => {\n    const x = q[0], y = q[1], z = q[2], w = q[3]\n    out[0] =     2 * (x * y - w * z)\n    out[1] = 1 - 2 * (x * x + z * z)\n    out[2] =     2 * (y * z + w * x)\n    return out\n}\n\nvec3.eyeForward = (q, out = vec3()) => {\n    const x = q[0], y = q[1], z = q[2], w = q[3]\n    out[0] =     2 * (x * z - w * y)\n    out[1] =     2 * (y * x + w * x)\n    out[2] = 1 - 2 * (x * x + y * y)\n    return out\n}\n\nvec3.eyeRight = (q, out = vec3()) => {\n    const x = q[0], y = q[1], z = q[2], w = q[3]\n    out[0] = 1 - 2 * (y * y - z * z)\n    out[1] =     2 * (x * y + w * z)\n    out[2] =     2 * (x * z + w * y)\n    return out\n}\n\nvec3.UP = vec3(0, 1, 0)\nvec3.LEFT = vec3(1, 0, 0)\n\nvec3.eulerFromMat3 = (mat, order = 'XYZ', out = vec3()) => {\n    const m00 = mat[0], m01 = mat[4], m02 = mat[8],\n          m10 = mat[1], m11 = mat[5], m12 = mat[9],\n          m20 = mat[2], m21 = mat[6], m22 = mat[10]\n    if(order === 'XYZ'){\n        out[1] = Math.asin(Math.clamp(m02, -1, 1))\n        if(Math.abs( m02 ) < 0.99999){\n            out[0] = Math.atan2(-m12, m22)\n            out[2] = Math.atan2(-m01, m00)\n        }else{\n            out[0] = Math.atan2(m21, m11)\n            out[2] = 0\n        }\n    }else if( order === 'YXZ'){\n        out[0] = Math.asin(-Math.clamp(m12, -1, 1))\n        if(Math.abs(m12) < 0.99999){\n            out[1] = Math.atan2(m02, m22)\n            out[2] = Math.atan2(m10, m11)\n        }else{\n            out[1] = Math.atan2(-m20, m00)\n            out[2] = 0\n        }\n    }else if(order === 'ZXY'){\n        out[0] = Math.asin(Math.clamp(m21, -1, 1))\n        if(Math.abs(m21) < 0.99999){\n            out[1] = Math.atan2(-m20, m22)\n            out[2] = Math.atan2(-m01, m11)\n        }else{\n            out[1] = 0\n            out[2] = Math.atan2(m10, m00)\n        }\n    }else if(order === 'ZYX'){\n        out[1] = Math.asin(-Math.clamp(m20, -1, 1))\n        if (Math.abs(m20) < 0.99999){\n            out[0] = Math.atan2(m21, m22)\n            out[2] = Math.atan2(m10, m00)\n        }else{\n            out[0] = 0\n            out[2] = Math.atan2( -m01, m11)\n        }\n    }else if(order === 'YZX'){\n        out[2] = Math.asin(Math.clamp(m10, -1, 1))\n        if(Math.abs(m10) < 0.99999){\n            out[0] = Math.atan2( -m12, m11)\n            out[1] = Math.atan2( -m20, m00)\n        }else{\n            out[0] = 0\n            out[1] = Math.atan2(m02, m22)\n        }\n    }else if(order === 'XZY'){\n        out[2] = Math.asin( -Math.clamp(m01, -1, 1))\n        if (Math.abs(m01) < 0.99999){\n            out[0] = Math.atan2(m21, m11)\n            out[1] = Math.atan2(m02, m00)\n        }else{\n            out[0] = Math.atan2( -m12, m22)\n            out[1] = 0\n        }\n    }\n    return out\n}\n\nvec3.translationFromMat4 = (mat, out = vec3()) => {\n    out[0] = mat[12]; out[1] = mat[13]; out[2] = mat[14]\n    return out\n}\n\nvec3.scaleFromMat4 = (mat, out = vec3()) => {\n    const m00 = mat[0], m01 = mat[1], m02 = mat[2],\n          m10 = mat[4], m11 = mat[5], m12 = mat[6],\n          m20 = mat[8], m21 = mat[9], m22 = mat[10]\n    out[0] = Math.sqrt(m00 * m00 + m01 * m01 + m02 * m02)\n    out[1] = Math.sqrt(m10 * m10 + m11 * m11 + m12 * m12)\n    out[2] = Math.sqrt(m20 * m20 + m21 * m21 + m22 * m22)\n    return out\n}\n\nvec3.truncate = (v, maxLength, out = vec3()) => {\n    const scale = Math.min(maxLength / vec3.distance(v), 1.0)\n    out[0] = scale * v[0]\n    out[1] = scale * v[1]\n    out[2] = scale * v[2]\n    return out\n}\n\nvec3.unproject = (v, m, out = vec3()) => {\n    var x = v[0], y = v[1], z = v[2],\n        m00 = m[0], m01 = m[1], m02 = m[2], m03 = m[3],\n        m10 = m[4], m11 = m[5], m12 = m[6], m13 = m[7],\n        m20 = m[8], m21 = m[9], m22 = m[10], m23 = m[11],\n        m30 = m[12], m31 = m[13], m32 = m[14], m33 = m[15],\n        w = (x * m03 + y * m13 + z * m23 + m33),\n        invW = w ? 1/w : 0\n\n    out[0] = (x * m00 + y * m10 + z * m20 + m30) * invW \n    out[1] = (x * m01 + y * m11 + z * m21 + m31) * invW \n    out[2] = (x * m02 + y * m12 + z * m22 + m32) * invW\n    return out\n}\n\nexport {vec3}","import {unrollVectorBinaryOperator, unrollVectorScalarOperator, unrollVectorUnaryOperator} from '../abstract'\n\nconst vec4 = (...args) => new Float32Array(args.length ? (args.length === 4 ? args : Array(4).fill(args[0])) : 4)\n\nvec4.copy = unrollVectorUnaryOperator(4, vec4, '')\n\nvec4.scale = unrollVectorScalarOperator(4, vec4, '*')\n\nvec4.add = unrollVectorBinaryOperator(4, vec4, '+')\nvec4.subtract = unrollVectorBinaryOperator(4, vec4, '-')\nvec4.multiply = unrollVectorBinaryOperator(4, vec4, '*')\nvec4.divide = unrollVectorBinaryOperator(4, vec4, '/')\n\nvec4.sqrtLength = v => v[0]*v[0] + v[1]*v[1] + v[2]*v[2] + v[3]*v[3]\n\nvec4.distance = v => Math.sqrt(vec4.sqrtLength(v))\n\nvec4.dot = (a, b) => a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3]\n\nvec4.lerp = (a, b, f, out = vec4()) => {\n\tconst ax = a[0], ay = a[1], az = a[2], aw = a[3]\n\tout[0] = ax + f * (b[0] - ax)\n\tout[1] = ay + f * (b[1] - ay)\n\tout[2] = az + f * (b[2] - az)\n\tout[3] = aw + f * (b[3] - aw)\n\treturn out\n}\n\nvec4.normalize = (v, out = vec4()) => {\n\tconst x = v[0], y = v[1], z = v[2], w = v[3],\n          sqrt = Math.sqrt(x*x + y*y + z*z + w*w),\n          invSqrt = sqrt ? 1.0 / sqrt : 0\n\tout[0] = x * invSqrt\n\tout[1] = y * invSqrt\n\tout[2] = z * invSqrt\n\tout[3] = w * invSqrt\n\treturn out\n}\n\nvec4.transform = (v, m, out = vec4()) => {\n    const x = v[0], y = v[1], z = v[2], w = v[3] === undefined ? 1 : v[3]\n    out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w\n    out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w\n    out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w\n    out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w\n    return out\n}\n\nvec4.transformQuat = (v, q, out = vec4()) => {\n    const x = v[0], y = v[1], z = v[2],\n          rx = q[0], ry = q[1], rz = q[2], rw = q[3],\n          ix = rw * x + ry * z - rz * y,\n          iy = rw * y + rz * x - rx * z,\n          iz = rw * z + rx * y - ry * x,\n          iw = -rx * x - ry * y - rz * z\n    \n    out[0] = ix * rw + iw * -rx + iy * -rz - iz * -ry\n    out[1] = iy * rw + iw * -ry + iz * -rx - ix * -rz\n    out[2] = iz * rw + iw * -rz + ix * -ry - iy * -rx\n    out[3] = v[3] === undefined ? 1 : v[3]\n    return out\n}\n\nexport {vec4}","import {unrollVectorBinaryOperator, unrollVectorScalarOperator, unrollVectorUnaryOperator} from '../abstract'\n\nconst mat2 = (...args) => new Float32Array(args.length ? (args.length === 4 ? args : Array(4).fill(args[0])) : 4)\n\nmat2.copy = unrollVectorUnaryOperator(4, mat2, '')\n\nmat2.identity = (out = mat2()) => {\n\tout[0] = 1; out[1] = 0\n\tout[2] = 0; out[3] = 1\n\treturn out\n}\n\nmat2.transpose = (m, out = mat2()) => {\n\tif(out === m){\n\t\tconst tm1 = m[1]\n\t\tout[1] = m[2]\n\t\tout[2] = m1\n\t}else{\n\t\tout[0] = m[0]; out[1] = m[2]\n\t\tout[2] = m[1]; out[3] = m[3]\n\t}\n\treturn out\n}\n\nmat2.invert = (m, out = mat2()) => {\n\tconst m00 = m[0], m01 = m[1],\n\t\t  m10 = m[2], m11 = m[3],\n          det = (m00 * m11 - m10 * m01),\n\t\t  invDet = det ? 1.0 / det : 0\n\tout[0] = invDet * m11\n\tout[1] = invDet * -m01\n\tout[2] = invDet * -m10\n\tout[3] = invDet * m00\n\treturn out\n}\n\nexport {mat2}","import {unrollVectorBinaryOperator, unrollVectorScalarOperator, unrollVectorUnaryOperator} from '../abstract'\n\nconst mat3 = (...args) => new Float32Array(args.length ? (args.length === 9 ? args : Array(9).fill(args[0])) : 9)\n\nmat3.copy = unrollVectorUnaryOperator(9, mat3, '')\n\nmat3.identity = (out = mat3()) => {\n\tout[0] = 1; out[1] = 0; out[2] = 0\n\tout[3] = 0; out[4] = 1; out[5] = 0\n\tout[6] = 0; out[7] = 0; out[8] = 1\n\treturn out\n}\n\nmat3.transpose = (m, out = mat3()) => {\n\tif(out === m){\n\t\tconst tm01 = m[1], tm02 = m[2], tm12 = m[5]\n\t\tout[1] = m[3]; out[2] = m[6]\n\t\tout[3] = tm01; out[5] = m[7]\n\t\tout[6] = tm02; out[7] = tm12\n\t}else{\n\t\tout[0] = m[0]; out[1] = m[3]; out[2] = m[6]\n\t\tout[3] = m[1]; out[4] = m[4]; out[5] = m[7]\n\t\tout[6] = m[2]; out[7] = m[5]; out[8] = m[8]\n\t}\n\treturn out\n}\n\nmat3.invert = (m, out = mat3()) => {\n\tconst m00 = m[0], m01 = m[1], m02 = m[2],\n\t\t  m10 = m[3], m11 = m[4], m12 = m[5],\n\t\t  m20 = m[6], m21 = m[7], m22 = m[8],\n\t\t  d01 = m22 * m11 - m12 * m21,\n\t\t  d11 = m12 * m20 - m22 * m10,\n\t\t  d21 = m21 * m10 - m11 * m20,\n          det = (m00 * d01 + m01 * d11 + m02 * d21),\n\t\t  invDet = det ? 1.0 / det : 0\n\tout[0] = invDet * d01\n\tout[1] = invDet * (m02 * m21 - m22 * m01)\n\tout[2] = invDet * (m12 * m01 - m02 * m11)\n\tout[3] = invDet * d11\n\tout[4] = invDet * (m22 * m00 - m02 * m20)\n\tout[5] = invDet * (m02 * m10 - m12 * m00)\n\tout[6] = invDet * d21\n\tout[7] = invDet * (m01 * m20 - m21 * m00)\n\tout[8] = invDet * (m11 * m00 - m01 * m10)\n\treturn out\n}\n\nmat3.fromQuat = (q, out = mat3()) => {\n    const x = q[0], y = q[1], z = q[2], w = q[3],\n          x2 = 2 * x,   y2 = 2 * y,     z2 = 2 * z,\n          xx = x * x2,  yy = y * y2,    zz = z * z2,\n          yx = x * y2,  zx = x * z2,    zy = y * z2,\n          wx = w * x2,  wy = w * y2,    wz = w * z2\n    out[0] = 1 - yy - zz;     out[1] = yx + wz;       out[2] = zx - wy\n    out[3] = yx - wz;         out[4] = 1 - xx - zz;   out[5] = zy + wx\n    out[6] = zx + wy;         out[7] = zy - wx;       out[8] = 1 - xx - yy\n    return out\n}\n\nmat3.fromMat4 = (m, out = mat3()) => {\n    out[0] = m[0]; out[1] = m[1]; out[2] = m[2]\n    out[3] = m[4]; out[4] = m[5]; out[5] = m[6]\n    out[6] = m[8]; out[7] = m[9]; out[8] = m[10]\n    return out\n}\n\nmat3.multiply = (m1, m2, out = mat3()) => {\n    const m00 = m1[0], m01 = m1[1], m02 = m1[2],\n          m10 = m1[3], m11 = m1[4], m12 = m1[5],\n          m20 = m1[6], m21 = m1[7], m22 = m1[8]\n    let by0 = m2[0], by1 = m2[1], by2 = m2[2]\n    out[0] = by0 * m00 + by1 * m10 + by2 * m20\n    out[1] = by0 * m01 + by1 * m11 + by2 * m21\n    out[2] = by0 * m02 + by1 * m12 + by2 * m22\n    by0 = m2[3], by1 = m2[4], by2 = m2[5]\n    out[3] = by0 * m00 + by1 * m10 + by2 * m20\n    out[4] = by0 * m01 + by1 * m11 + by2 * m21\n    out[5] = by0 * m02 + by1 * m12 + by2 * m22\n    by0 = m2[6], by1 = m2[7], by2 = m2[8]\n    out[6] = by0 * m00 + by1 * m10 + by2 * m20\n    out[7] = by0 * m01 + by1 * m11 + by2 * m21\n    out[8] = by0 * m02 + by1 * m12 + by2 * m22\n  return out\n}\n\nexport {mat3}","import {unrollVectorBinaryOperator, unrollVectorScalarOperator, unrollVectorUnaryOperator} from '../abstract'\nimport {EPSILON} from '../constants'\n\nconst mat4 = (...args) => new Float32Array(args.length ? (args.length === 16 ? args : Array(16).fill(args[0])) : 16)\n\nmat4.copy = unrollVectorUnaryOperator(16, mat4, '')\n\nmat4.identity = (out = mat4()) => {\n\tout[0] = 1; out[1] = 0; out[2] = 0; out[3] = 0\n\tout[4] = 0; out[5] = 1; out[6] = 0; out[7] = 0\n\tout[8] = 0; out[9] = 0; out[10] = 1; out[11] = 0\n\tout[12] = 0; out[13] = 0; out[14] = 0; out[15] = 1\n\treturn out\n}\n\nmat4.transpose = (m, out = mat4()) => {\n\tif(out === m){\n\t\tconst m01 = m[1], m02 = m[2], m03 = m[3], m12 = m[6], m13 = m[7], m23 = m[11]\n\t\tout[1] = m[4]; out[2] = m[8]; out[3] = m[12]\n\t\tout[4] = m01; out[6] = m[9]; out[7] = m[13]\n\t\tout[8] = m02; out[9] = m12; out[11] = m[14]\n\t\tout[12] = m03; out[13] = m13; out[14] = m23\n\t}else{\n\t\tout[0] = m[0]; out[1] = m[4]; out[2] = m[8]; out[3] = m[12]\n\t\tout[4] = m[1]; out[5] = m[5]; out[6] = m[9]; out[7] = m[13]\n\t\tout[8] = m[2]; out[9] = m[6]; out[10] = m[10]; out[11] = m[14]\n\t\tout[12] = m[3]; out[13] = m[7]; out[14] = m[11]; out[15] = m[15]\n\t}\n\treturn out\n}\n\nmat4.invert = (m, out = mat4()) => {\n\tconst m00 = m[0], m01 = m[1], m02 = m[2], m03 = m[3],\n\tm10 = m[4], m11 = m[5], m12 = m[6], m13 = m[7],\n\tm20 = m[8], m21 = m[9], m22 = m[10], m23 = m[11],\n\tm30 = m[12], m31 = m[13], m32 = m[14], m33 = m[15],\n\td00 = m00 * m11 - m01 * m10,\n\td01 = m00 * m12 - m02 * m10,\n\td02 = m00 * m13 - m03 * m10,\n\td03 = m01 * m12 - m02 * m11,\n\td04 = m01 * m13 - m03 * m11,\n\td05 = m02 * m13 - m03 * m12,\n\td06 = m20 * m31 - m21 * m30,\n\td07 = m20 * m32 - m22 * m30,\n\td08 = m20 * m33 - m23 * m30,\n\td09 = m21 * m32 - m22 * m31,\n\td10 = m21 * m33 - m23 * m31,\n\td11 = m22 * m33 - m23 * m32,\n    det = (d00 * d11 - d01 * d10 + d02 * d09 + d03 * d08 - d04 * d07 + d05 * d06),\n\tinvDet = det ? 1.0 / det : 0\n\n\tout[0] = invDet * (m11 * d11 - m12 * d10 + m13 * d09)\n\tout[1] = invDet * (m02 * d10 - m01 * d11 - m03 * d09)\n\tout[2] = invDet * (m31 * d05 - m32 * d04 + m33 * d03)\n\tout[3] = invDet * (m22 * d04 - m21 * d05 - m23 * d03)\n\tout[4] = invDet * (m12 * d08 - m10 * d11 - m13 * d07)\n\tout[5] = invDet * (m00 * d11 - m02 * d08 + m03 * d07)\n\tout[6] = invDet * (m32 * d02 - m30 * d05 - m33 * d01)\n\tout[7] = invDet * (m20 * d05 - m22 * d02 + m23 * d01)\n\tout[8] = invDet * (m10 * d10 - m11 * d08 + m13 * d06)\n\tout[9] = invDet * (m01 * d08 - m00 * d10 - m03 * d06)\n\tout[10] = invDet * (m30 * d04 - m31 * d02 + m33 * d00)\n\tout[11] = invDet * (m21 * d02 - m20 * d04 - m23 * d00)\n\tout[12] = invDet * (m11 * d07 - m10 * d09 - m12 * d06)\n\tout[13] = invDet * (m00 * d09 - m01 * d07 + m02 * d06)\n\tout[14] = invDet * (m31 * d01 - m30 * d03 - m32 * d00)\n\tout[15] = invDet * (m20 * d03 - m21 * d01 + m22 * d00)\n\treturn out\n}\n\nmat4.frustum = (left, right, bottom, top, zNear, zFar, out = mat4()) => {\n    const rl = 1 / (right - left),\n          tb = 1 / (top - bottom),\n          nf = 1 / (zNear - zFar)\n    out[0] = 2*zNear*rl;        out[1] = 0;                 out[2] = 0;                 out[3] = 0\n    out[4] = 0;                 out[5] = 2*zNear*tb;        out[6] = 0;                 out[7] = 0\n    out[8] = (right+left)*rl;   out[9] = (top+bottom)*tb;   out[10] = (zFar+zNear)*nf;  out[11] = -1\n    out[12] = 0;                out[13] = 0;                out[14] = 2*zFar*zNear*nf;  out[15] = 0\n    return out\n}\n\nmat4.perspective = (fovy, aspectRatio, zNear, zFar, out = mat4()) => {\n    const f = 1 / Math.tan(fovy / 2),\n          nf = 1 / (zNear - zFar)\n    out[0] = f/aspectRatio; out[1] = 0;     out[2] = 0;                 out[3] = 0\n    out[4] = 0;             out[5] = f;     out[6] = 0;                 out[7] = 0\n    out[8] = 0;             out[9] = 0;     out[10] = (zFar+zNear)*nf;  out[11] = -1\n    out[12] = 0;            out[13] = 0;    out[14] = 2*zFar*zNear*nf;     out[15] = 0\n    return out\n}\n\nmat4.ortho = (left, right, bottom, top, zNear, zFar, out = mat4()) => {\n    const lr = 1 / (left - right),\n          bt = 1 / (bottom - top),\n          nf = 1 / (zNear - zFar)\n    out[0] = -2*lr;             out[1] = 0;                 out[2] = 0;                 out[3] = 0\n    out[4] = 0;                 out[5] = -2*bt;             out[6] = 0;                 out[7] = 0\n    out[8] = 0;                 out[9] = 0;                 out[10] = 2*nf;             out[11] = 0\n    out[12] = (left+right)*lr;  out[13] = (top+bottom)*bt;  out[14] = (zFar+zNear)*nf;  out[15] = 1\n    return out\n}\n\nmat4.translate = (mat, v, out = mat4()) => {\n    const x = v[0], y = v[1], z = v[2]\n    out[12] = mat[0] * x + mat[4] * y + mat[8] * z + mat[12]\n    out[13] = mat[1] * x + mat[5] * y + mat[9] * z + mat[13]\n    out[14] = mat[2] * x + mat[6] * y + mat[10] * z + mat[14]\n    out[15] = mat[3] * x + mat[7] * y + mat[11] * z + mat[15]\n    if(out !== mat){\n        out[0] = mat[0]; out[1] = mat[1]; out[2] = mat[2]; out[3] = mat[3]\n        out[4] = mat[4]; out[5] = mat[5]; out[6] = mat[6]; out[7] = mat[7]\n        out[8] = mat[8]; out[9] = mat[9]; out[10] = mat[10]; out[11] = mat[11]\n    }\n    return out\n}\n\nmat4.fromQuat = (q, out = mat4()) => {\n    const x = q[0], y = q[1], z = q[2], w = q[3],\n          x2 = 2 * x,   y2 = 2 * y,     z2 = 2 * z,\n          xx = x * x2,  yy = y * y2,    zz = z * z2,\n          yx = x * y2,  zx = x * z2,    zy = y * z2,\n          wx = w * x2,  wy = w * y2,    wz = w * z2\n    out[0] = 1 - yy - zz;     out[1] = yx + wz;       out[2] = zx - wy;           out[3] = 0\n    out[4] = yx - wz;         out[5] = 1 - xx - zz;   out[6] = zy + wx;           out[7] = 0\n    out[8] = zx + wy;         out[9] = zy - wx;       out[10] = 1 - xx - yy;      out[11] = 0\n    out[12] = 0;              out[13] = 0;            out[14] = 0;                out[15] = 1\n    return out\n}\n\nmat4.multiply = (mat1, mat2, out = mat4()) => {\n    const m00 = mat1[0], m01 = mat1[1], m02 = mat1[2], m03 = mat1[3],\n          m10 = mat1[4], m11 = mat1[5], m12 = mat1[6], m13 = mat1[7],\n          m20 = mat1[8], m21 = mat1[9], m22 = mat1[10], m23 = mat1[11],\n          m30 = mat1[12], m31 = mat1[13], m32 = mat1[14], m33 = mat1[15]\n    let by0 = mat2[0], by1 = mat2[1], by2 = mat2[2], by3 = mat2[3]\n    out[0] = by0*m00 + by1*m10 + by2*m20 + by3*m30\n    out[1] = by0*m01 + by1*m11 + by2*m21 + by3*m31\n    out[2] = by0*m02 + by1*m12 + by2*m22 + by3*m32\n    out[3] = by0*m03 + by1*m13 + by2*m23 + by3*m33\n    by0 = mat2[4], by1 = mat2[5], by2 = mat2[6], by3 = mat2[7]\n    out[4] = by0*m00 + by1*m10 + by2*m20 + by3*m30\n    out[5] = by0*m01 + by1*m11 + by2*m21 + by3*m31\n    out[6] = by0*m02 + by1*m12 + by2*m22 + by3*m32\n    out[7] = by0*m03 + by1*m13 + by2*m23 + by3*m33\n    by0 = mat2[8], by1 = mat2[9], by2 = mat2[10], by3 = mat2[11]\n    out[8] = by0*m00 + by1*m10 + by2*m20 + by3*m30\n    out[9] = by0*m01 + by1*m11 + by2*m21 + by3*m31\n    out[10] = by0*m02 + by1*m12 + by2*m22 + by3*m32\n    out[11] = by0*m03 + by1*m13 + by2*m23 + by3*m33\n    by0 = mat2[12], by1 = mat2[13], by2 = mat2[14], by3 = mat2[15]\n    out[12] = by0*m00 + by1*m10 + by2*m20 + by3*m30\n    out[13] = by0*m01 + by1*m11 + by2*m21 + by3*m31\n    out[14] = by0*m02 + by1*m12 + by2*m22 + by3*m32\n    out[15] = by0*m03 + by1*m13 + by2*m23 + by3*m33\n    return out\n}\n\nmat4.scale = (mat, sv, out = mat4()) => {\n    const x = sv[0], y = sv[1], z = sv[2]\n    out[0] = mat[0] * x; out[1] = mat[1] * x; out[2] = mat[2] * x; out[3] = mat[3] * x\n    out[4] = mat[4] * y; out[5] = mat[5] * y; out[6] = mat[6] * y; out[7] = mat[7] * y\n    out[8] = mat[8] * z; out[9] = mat[9] * z; out[10] = mat[10] * z; out[11] = mat[11] * z\n    out[12] = mat[12];   out[13] = mat[13];   out[14] = mat[14];    out[15] = mat[15]\n    return out\n}\n\nmat4.rotate = (mat, rad, rv, out = mat4()) => {\n    const x = rv[0], y = rv[1], z = rv[2],\n          sin = Math.sin(rad), cos = Math.cos(rad), icos = 1 - cos,\n          m00 = mat[0], m01 = mat[1], m02 = mat[2], m03 = mat[3],\n          m10 = mat[4], m11 = mat[5], m12 = mat[6], m13 = mat[7],\n          m20 = mat[8], m21 = mat[9], m22 = mat[10], m23 = mat[11],\n          r00 = x * x * icos + cos, r01 = y * x * icos + z * sin, r02 = z * x * icos - y * sin,\n          r10 = x * y * icos - z * sin, r11 = y * y * icos + cos, r12 = z * y * icos + x * sin,\n          r20 = x * z * icos + y * sin, r21 = y * z * icos - x * sin, r22 = z * z * icos + cos\n    out[0] = m00 * r00 + m10 * r01 + m20 * r02\n    out[1] = m01 * r00 + m11 * r01 + m21 * r02\n    out[2] = m02 * r00 + m12 * r01 + m22 * r02\n    out[3] = m03 * r00 + m13 * r01 + m23 * r02\n    out[4] = m00 * r10 + m10 * r11 + m20 * r12\n    out[5] = m01 * r10 + m11 * r11 + m21 * r12\n    out[6] = m02 * r10 + m12 * r11 + m22 * r12\n    out[7] = m03 * r10 + m13 * r11 + m23 * r12\n    out[8] = m00 * r20 + m10 * r21 + m20 * r22\n    out[9] = m01 * r20 + m11 * r21 + m21 * r22\n    out[10] = m02 * r20 + m12 * r21 + m22 * r22\n    out[11] = m03 * r20 + m13 * r21 + m23 * r22\n    out[12] = mat[12]; out[13] = mat[13]; out[14] = mat[14]; out[15] = mat[15]\n    return out\n}\n//TODO order? (xyz)\nmat4.fromEuler = (angles, out = mat4()) => {\n    const x = angles[0], y = angles[1], z = angles[2],\n          sinx = Math.sin(-x), cosx = Math.cos(-x),\n          siny = Math.sin(-y), cosy = Math.cos(-y),\n          sinz = Math.sin(-z), cosz = Math.cos(-z)\n    out[0] = cosy * cosz; out[1] = -cosy * sinz; out[2] = siny; out[3] = 0\n    out[4] = cosx * sinz + cosz * sinx * siny; out[5] = cosx * cosz - sinx * siny * sinz; out[6] = -cosy * sinx; out[7] = 0\n    out[8] = sinx * sinz - cosx * cosz * siny; out[9] = cosz * sinx + cosx * siny * sinz; out[10] = cosx * cosy; out[11] = 0\n    out[12] = 0; out[13] = 0; out[14] = 0; out[15] = 1\n    return out\n}\n\nmat4.determinant = mat => {\n    const m00 = mat[0],   m01 = mat[1],   m02 = mat[2],   m03 = mat[3],\n          m10 = mat[4],   m11 = mat[5],   m12 = mat[6],   m13 = mat[7],\n          m20 = mat[8],   m21 = mat[9],   m22 = mat[10],  m23 = mat[11],\n          m30 = mat[12],  m31 = mat[13],  m32 = mat[14],  m33 = mat[15],\n          d00 = m00 * m11 - m01 * m10,\n          d01 = m00 * m12 - m02 * m10,\n          d02 = m00 * m13 - m03 * m10,\n          d03 = m01 * m12 - m02 * m11,\n          d04 = m01 * m13 - m03 * m11,\n          d05 = m02 * m13 - m03 * m12,\n          d06 = m20 * m31 - m21 * m30,\n          d07 = m20 * m32 - m22 * m30,\n          d08 = m20 * m33 - m23 * m30,\n          d09 = m21 * m32 - m22 * m31,\n          d10 = m21 * m33 - m23 * m31,\n          d11 = m22 * m33 - m23 * m32\n\n  return d00 * d11 - d01 * d10 + d02 * d09 + d03 * d08 - d04 * d07 + d05 * d06;\n}\n\nmat4.decompose = (t, r, scale, m) => {\n    const sx = 1 / Math.sqrt(m[0]*m[0] + m[1]*m[1] + m[2]*m[2]) * (mat4.determinant(m) < 0 ? -1 : 1)\n    const sy = 1 / Math.sqrt(m[4]*m[4] + m[5]*m[5] + m[6]*m[6])\n    const sz = 1 / Math.sqrt(m[8]*m[8] + m[9]*m[9] + m[10]*m[10])\n    t[0] = m[12]\n    t[1] = m[13]\n    t[2] = m[14]\n    scale[0] = 1/sx\n    scale[1] = 1/sy\n    scale[2] = 1/sz\n    let r00 = sx * m[0], r01 = sx * m[1], r02 = sx * m[2],\n        r10 = sy * m[4], r11 = sy * m[5], r12 = sy * m[6],\n        r20 = sz * m[8], r21 = sz * m[9], r22 = sz * m[10]\n    \n    const trace = r00 + r11 + r22\n    let s = 0\n    if(trace > 0){\n        s = 0.5 / Math.sqrt(trace + 1.0)\n        r[3] = 0.25 / s\n        r[0] = (r21 - r12) * s\n        r[1] = (r02 - r20) * s\n        r[2] = (r10 - r01) * s\n    }else if(r00 > r11 && r00 > r22){\n        s = 2.0 / Math.sqrt(1.0 + r00 - r11 - r22)\n        r[3] = (r21 - r12) / s\n        r[0] = 0.25 * s\n        r[1] = (r01 + r10) / s\n        r[2] = (r02 + r20) / s\n    }else if(r11 > r22){\n        s = 2.0 * Math.sqrt(1.0 + r11 - r00 - r22)\n        r[3] = (r02 - r20) / s\n        r[0] = (r01 + r10) / s\n        r[1] = 0.25 * s\n        r[2] = (r12 + r21) / s\n    }else{\n        s = 2.0 * Math.sqrt(1.0 + r22 - r00 - r11)\n        r[3] = (r10 - r01) / s\n        r[0] = (r02 + r20) / s\n        r[1] = (r12 + r21) / s\n        r[2] = 0.25 * s\n    }\n}\n\nmat4.fromRotationTranslationScale = (q, v, s, out = mat4()) => {\n    const x = q[0], y = q[1], z = q[2], w = q[3],\n          x2 = x + x, y2 = y + y, z2 = z + z,\n          xx = x * x2,xy = x * y2,xz = x * z2,\n          yy = y * y2,yz = y * z2,zz = z * z2,\n          wx = w * x2,wy = w * y2,wz = w * z2,\n          sx = s[0],sy = s[1],sz = s[2]\n\n  out[0] = (1 - (yy + zz)) * sx\n  out[1] = (xy + wz) * sx\n  out[2] = (xz - wy) * sx\n  out[3] = 0\n  out[4] = (xy - wz) * sy\n  out[5] = (1 - (xx + zz)) * sy\n  out[6] = (yz + wx) * sy\n  out[7] = 0\n  out[8] = (xz + wy) * sz\n  out[9] = (yz - wx) * sz\n  out[10] = (1 - (xx + yy)) * sz\n  out[11] = 0\n  out[12] = v[0]\n  out[13] = v[1]\n  out[14] = v[2]\n  out[15] = 1\n  return out\n}\n\nmat4.lookAt = (eye, target, up, out = mat4()) => {\n    const eyeX = eye[0], eyeY = eye[1], eyeZ = eye[2],\n          targetX = target[0], targetY = target[1], targetZ = target[2],\n          upX = up[0], upY = up[1], upZ = up[2]\n    let z0 = eyeX - targetX,\n        z1 = eyeY - targetY,\n        z2 = eyeZ - targetZ,\n        length = Math.sqrt(z0*z0 + z1*z1 + z2*z2),\n        invLength = length ? 1 / length : 0\n    z0 *= invLength\n    z1 *= invLength\n    z2 *= invLength\n    let x0 = upY * z2 - upZ * z1,\n        x1 = upZ * z0 - upX * z2,\n        x2 = upX * z1 - upY * z0\n    length = Math.sqrt(x0*x0 + x1*x1 + x2*x2)\n    invLength = length ? 1 / length : 0\n    x0 *= invLength\n    x1 *= invLength\n    x2 *= invLength\n    let y0 = z1 * x2 - z2 * x1,\n        y1 = z2 * x0 - z0 * x2,\n        y2 = z0 * x1 - z1 * x0\n    length = Math.sqrt(y0*y0 + y1*y1 + y2*y2)\n    invLength = length ? 1 / length : 0\n    y0 *= invLength\n    y1 *= invLength\n    y2 *= invLength\n\n    out[0] = x0; out[1] = y0; out[2] = z0; out[3] = 0\n    out[4] = x1; out[5] = y1; out[6] = z1; out[7] = 0\n    out[8] = x2; out[9] = y2; out[10] = z2; out[11] = 0\n    out[12] = -(x0 * eyeX + x1 * eyeY + x2 * eyeZ)\n    out[13] = -(y0 * eyeX + y1 * eyeY + y2 * eyeZ)\n    out[14] = -(z0 * eyeX + z1 * eyeY + z2 * eyeZ)\n    out[15] = 1\n    \n    return out\n}\n\nmat4.targetTo = (eye, target, up, out = mat4()) => {\n    const eyeX = eye[0], eyeY = eye[1], eyeZ = eye[2],\n          upX = up[0], upY = up[1], upZ = up[2]\n    let z0 = eyeX - target[0],\n        z1 = eyeY - target[1],\n        z2 = eyeZ - target[2],\n        length = Math.sqrt(z0*z0 + z1*z1 + z2*z2),\n        invLength = length ? 1 / length : 1\n    z0 *= invLength\n    z1 *= invLength\n    z2 *= invLength\n    let x0 = upY * z2 - upZ * z1,\n        x1 = upZ * z0 - upX * z2,\n        x2 = upX * z1 - upY * z0\n    length = Math.sqrt(x0*x0 + x1*x1 + x2*x2)\n    invLength = length ? 1 / length : 1\n    x0 *= invLength\n    x1 *= invLength\n    x2 *= invLength\n    \n    out[0] = x0; out[1] = x1; out[2] = x2; out[3] = 0\n    out[4] = z1 * x2 - z2 * x1\n    out[5] = z2 * x0 - z0 * x2\n    out[6] = z0 * x1 - z1 * x0\n    out[7] = 0; out[8] = z0; out[9] = z1; out[10] = z2\n    out[11] = 0; out[12] = eyeX; out[13] = eyeY; out[14] = eyeZ; out[15] = 1\n    return out\n}\n\nmat4.fromDualquat = (dq, out = mat4()) => {\n    const rx = dq[0], ry = dq[1], rz = dq[2], rw = dq[3],\n          tx = dq[4], ty = dq[5], tz = dq[6], tw = dq[7],\n          xx = (2.0 * rx * rx), yy = (2.0 * ry * ry), zz = (2.0 * rz * rz),\n          xy = (2.0 * rx * ry), xz = (2.0 * rx * rz), xw = (2.0 * rx * rw),\n          yz = (2.0 * ry * rz), yw = (2.0 * ry * rw), zw = (2.0 * rz * rw)\n    out[0] = 1.0 - yy - zz\n    out[1] = xy + zw\n    out[2] = xz - yw\n    out[3] = 0\n    out[4] = xy - zw\n    out[5] = 1.0 - xx - zz\n    out[6] = yz + xw\n    out[7] = 0\n    out[8] = xz + yw\n    out[9] = yz - xw\n    out[10] = 1.0 - xx - yy\n    out[11] = 0\n    out[12] = 2.0 * (-tw * rx + tx * rw - ty * rz + tz * ry)\n    out[13] = 2.0 * (-tw * ry + tx * rz + ty * rw - tz * rx)\n    out[14] = 2.0 * (-tw * rz - tx * ry + ty * rx + tz * rw)\n    out[15] = 1\n    return out\n}\n\nexport {mat4}","import {unrollVectorBinaryOperator, unrollVectorScalarOperator, unrollVectorUnaryOperator} from '../abstract'\nimport {HALF_DEG_RAD} from '../constants'\nimport {vec4} from './vec4'\nimport {vec3} from './vec3'\n\nconst quat = _ => vec4(0,0,0,1)\n\nquat.copy = vec4.copy\nquat.normalize = vec4.normalize\n\nquat.multiply = (q1, q2, out = quat()) => {\n    const x1 = q1[0], y1 = q1[1], z1 = q1[2], w1 = q1[3],\n          x2 = q2[0], y2 = q2[1], z2 = q2[2], w2 = q2[3]\n    out[0] = x1 * w2 + w1 * x2 + y1 * z2 - z1 * y2\n    out[1] = y1 * w2 + w1 * y2 + z1 * x2 - x1 * z2\n    out[2] = z1 * w2 + w1 * z2 + x1 * y2 - y1 * x2\n    out[3] = w1 * w2 - x1 * x2 - y1 * y2 - z1 * z2\n    return out\n}\n\nquat.rotateX = (q, rad, out = quat()) => {\n    rad*=0.5\n    const x = q[0], y = q[1], z = q[2], w = q[3],\n          sin = Math.sin(rad), cos = Math.cos(rad)\n    out[0] = x * cos + w * sin\n    out[1] = y * cos + z * sin\n    out[2] = z * cos - y * sin\n    out[3] = w * cos - x * sin\n    return out\n}\n\nquat.rotateY = (q, rad, out = quat()) => {\n    rad*=0.5\n    const x = q[0], y = q[1], z = q[2], w = q[3],\n          sin = Math.sin(rad), cos = Math.cos(rad)\n    out[0] = x * cos - z * sin\n    out[1] = y * cos + w * sin\n    out[2] = z * cos + x * sin\n    out[3] = w * cos - y * sin\n    return out\n}\n\nquat.rotateZ = (q, rad, out = quat()) => {\n    rad*=0.5\n    const x = q[0], y = q[1], z = q[2], w = q[3],\n          sin = Math.sin(rad), cos = Math.cos(rad)\n    out[0] = x * cos + y * sin\n    out[1] = y * cos - x * sin\n    out[2] = z * cos + w * sin\n    out[3] = w * cos - z * sin\n    return out\n}\n\n//TODO: is this used ? Degrees ?\n/*quat.fromEuler = (out = quat(), x, y, z) => {\n    x *= HALF_DEG_RAD\n    y *= HALF_DEG_RAD\n    z *= HALF_DEG_RAD\n    const sx = Math.sin(x),\n          cx = Math.cos(x),\n          sy = Math.sin(y),\n          cy = Math.cos(y),\n          sz = Math.sin(x),\n          cz = Math.cos(z)\n    out[0] = sx * cy * cz - cx * sy * sz\n    out[1] = cx * sy * cz + sx * cy * sz\n    out[2] = cx * cy * sz - sx * sy * cz\n    out[3] = cx * cy * cz + sx * sy * sz\n    return out\n}*/\n\nquat.setAxisAngle = (axis, rad, out = quat()) => { //TODO rename fromAxisAngle?\n    rad*=0.5\n    const sin = Math.sin(rad)\n    out[0] = sin * axis[0]\n    out[1] = sin * axis[1]\n    out[2] = sin * axis[2]\n    out[3] = Math.cos(rad)\n    return out\n}\n\nquat.fromEulerOrdered = (x, y, z, order = 'XYZ', out = quat()) => {\n    const cx = Math.cos( x / 2 ), cy = Math.cos( y / 2 ), cz = Math.cos( z / 2 ),\n          sx = Math.sin( x / 2 ), sy = Math.sin( y / 2 ), sz = Math.sin( z / 2 )\n    if(order === 'XYZ'){\n        out[0] = sx * cy * cz + cx * sy * sz\n        out[1] = cx * sy * cz - sx * cy * sz\n        out[2] = cx * cy * sz + sx * sy * cz\n        out[3] = cx * cy * cz - sx * sy * sz\n    }else if(order === 'YXZ'){\n        out[0] = sx * cy * cz + cx * sy * sz\n        out[1] = cx * sy * cz - sx * cy * sz\n        out[2] = cx * cy * sz - sx * sy * cz\n        out[3] = cx * cy * cz + sx * sy * sz\n    }else if(order === 'ZXY'){\n        out[0] = sx * cy * cz - cx * sy * sz\n        out[1] = cx * sy * cz + sx * cy * sz\n        out[2] = cx * cy * sz + sx * sy * cz\n        out[3] = cx * cy * cz - sx * sy * sz\n    }else if(order === 'ZYX'){\n        out[0] = sx * cy * cz - cx * sy * sz\n        out[1] = cx * sy * cz + sx * cy * sz\n        out[2] = cx * cy * sz - sx * sy * cz\n        out[3] = cx * cy * cz + sx * sy * sz\n    }else if(order === 'YZX'){\n        out[0] = sx * cy * cz + cx * sy * sz\n        out[1] = cx * sy * cz + sx * cy * sz\n        out[2] = cx * cy * sz - sx * sy * cz\n        out[3] = cx * cy * cz - sx * sy * sz\n    }else if(order === 'XZY'){\n        out[0] = sx * cy * cz - cx * sy * sz\n        out[1] = cx * sy * cz - sx * cy * sz\n        out[2] = cx * cy * sz + sx * sy * cz\n        out[3] = cx * cy * cz + sx * sy * sz\n    }\n    return out\n}\n\nquat.slerp = (q1, q2, f, out = quat()) => {\n    let x1 = q1[0], y1 = q1[1], z1 = q1[2], w1 = q1[3],\n        x2 = q2[0], y2 = q2[1], z2 = q2[2], w2 = q2[3],\n        coshTheta = x1 * x2 + y1 * y2 + z1 * z2 + w1 * w2,\n        ratio1, ratio2, hTheta, sinhTheta\n    if (coshTheta < 0.0) {\n        coshTheta = -coshTheta\n        x2 = - x2; y2 = - y2; z2 = - z2; w2 = - w2\n    }\n    if(1.0 - coshTheta > 0.000001){\n        hTheta  = Math.acos(coshTheta)\n        sinhTheta  = Math.sin(hTheta)\n        ratio1 = Math.sin((1.0 - f) * hTheta) / sinhTheta\n        ratio2 = Math.sin(f * hTheta) / sinhTheta\n    }else{\n        ratio1 = 1.0 - f\n        ratio2 = f\n    }\n    out[0] = ratio1 * x1 + ratio2 * x2\n    out[1] = ratio1 * y1 + ratio2 * y2\n    out[2] = ratio1 * z1 + ratio2 * z2\n    out[3] = ratio1 * w1 + ratio2 * w2\n    return out\n}\n\nquat.fromMat3 = (mat, out = quat()) => {\n    const fTrace = mat[0] + mat[4] + mat[8]\n    let fRoot\n    if(fTrace > 0.0){\n        fRoot = Math.sqrt(fTrace + 1.0)\n        out[3] = 0.5 * fRoot\n        fRoot = 0.5 / fRoot\n        out[0] = (mat[5] - mat[7]) * fRoot\n        out[1] = (mat[6] - mat[2]) * fRoot\n        out[2] = (mat[1] - mat[3]) * fRoot\n    }else{\n        let i = mat[4] > mat[0] ? 1 : 0\n        if(mat[8] > mat[i*3 + i]) i = 2\n        const j = (i+1)%3,\n              k = (i+2)%3\n        fRoot = Math.sqrt(mat[i*3 + i] - mat[j*3 + j] - mat[k*3 + k] + 1.0)\n        out[i] = 0.5 * fRoot\n        fRoot = 0.5 / fRoot\n        out[3] = (mat[j * 3 + k] - mat[k * 3 + j]) * fRoot\n        out[j] = (mat[j * 3 + i] + mat[i * 3 + j]) * fRoot\n        out[k] = (mat[k * 3 + i] + mat[i * 3 + k]) * fRoot\n    }\n    return out\n}\n\nquat.fromMat4 = (mat, out = quat()) => {\n    const trace = mat[0] + mat[5] + mat[10]\n    let S = 0\n    if(trace > 0){\n        S = Math.sqrt(trace + 1.0) * 2\n        out[3] = 0.25 * S\n        out[0] = (mat[6] - mat[9]) / S\n        out[1] = (mat[8] - mat[2]) / S\n        out[2] = (mat[1] - mat[4]) / S\n    }else if((mat[0] > mat[5]) & (mat[0] > mat[10])){\n        S = Math.sqrt(1.0 + mat[0] - mat[5] - mat[10]) * 2\n        out[3] = (mat[6] - mat[9]) / S\n        out[0] = 0.25 * S\n        out[1] = (mat[1] + mat[4]) / S\n        out[2] = (mat[8] + mat[2]) / S\n    }else if(mat[5] > mat[10]){\n        S = Math.sqrt(1.0 + mat[5] - mat[0] - mat[10]) * 2\n        out[3] = (mat[8] - mat[2]) / S\n        out[0] = (mat[1] + mat[4]) / S\n        out[1] = 0.25 * S\n        out[2] = (mat[6] + mat[9]) / S\n    }else{\n        S = Math.sqrt(1.0 + mat[10] - mat[0] - mat[5]) * 2\n        out[3] = (mat[1] - mat[4]) / S\n        out[0] = (mat[8] + mat[2]) / S\n        out[1] = (mat[6] + mat[9]) / S\n        out[2] = 0.25 * S\n    }\n    return out\n}\n\nquat.rotationTo = (from, to, out = quat()) => {\n    const dot = vec3.dot(from, to)\n    if(dot < -0.999999){\n        let temp = vec3.cross(vec3(), vec3.AXIS_X, from)\n        if(vec3.distance(temp) < 0.000001)\n            vec3.cross(vec3.AXIS_Y, from, temp)\n        vec3.normalize(temp, temp)\n        quat.setAxisAngle(temp, Math.PI, out)\n    }else if(dot > 0.999999){\n        out[0] = 0\n        out[1] = 0\n        out[2] = 0\n        out[3] = 1\n    }else{\n        let temp = vec3.cross(from, to, vec3())\n        out[0] = temp[0]\n        out[1] = temp[1]\n        out[2] = temp[2]\n        out[3] = 1 + dot\n        quat.normalize(out, out)\n    }\n    return out\n}\n\nquat.invert = (a, out = quat()) => {\n    let a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3],\n        dot = a0*a0 + a1*a1 + a2*a2 + a3*a3,\n        invDot = dot ? 1 / dot : 0\n    \n    out[0] = -a0 * invDot\n    out[1] = -a1 * invDot\n    out[2] = -a2 * invDot\n    out[3] = a0 * invDot\n    \n    return out\n}\n\nexport {quat}","import {unrollVectorBinaryOperator, unrollVectorScalarOperator, unrollVectorUnaryOperator} from '../abstract'\nimport {quat} from './quat'\nimport {mat3} from './mat3'\nimport {vec4} from './vec4'\n\nconst dualquat = (...args) => new Float32Array(args.length ? (args.length === 8 ? args : Array(8).fill(args[8])) : [0,0,0,1, 0,0,0,0])\n\ndualquat.copy = unrollVectorUnaryOperator(8, 'dualquat()', '')\n\ndualquat.fromMat4 = (mat, out = dualquat()) => {\n    const rotationMat = mat3.fromMat4(mat),\n          tVec = vec4(mat[12], mat[13], mat[14], 0)\n    quat.fromMat3(rotationMat, out)\n    quat.multiply(tVec, out, tVec)\n    out[4] = tVec[0] * 0.5\n    out[5] = tVec[1] * 0.5\n    out[6] = tVec[2] * 0.5\n    out[7] = tVec[3] * 0.5\n    return out\n}\n\ndualquat.lerp = (dq1, dq2, f, out = dualquat()) => {\n    const rx1 = dq1[0], ry1 = dq1[1], rz1 = dq1[2], rw1 = dq1[3],\n          rx2 = dq2[0], ry2 = dq2[1], rz2 = dq2[2], rw2 = dq2[3],\n          px1 = dq1[4], py1 = dq1[5], pz1 = dq1[6], pw1 = dq1[7],\n          dotProduct = rx1 * rx2 + ry1 * ry2 + rz1 * rz2 + rw1 * rw2\n    if(dotProduct < 0.0){\n        out[0] = -rx1 + f * (rx2 + rx1)\n        out[1] = -ry1 + f * (ry2 + ry1)\n        out[2] = -rz1 + f * (rz2 + rz1)\n        out[3] = -rw1 + f * (rw2 + rw1)\n        out[4] = -px1 + f * (dq2[4] + px1)\n        out[5] = -py1 + f * (dq2[5] + py1)\n        out[6] = -pz1 + f * (dq2[6] + pz1)\n        out[7] = -pw1 + f * (dq2[7] + pw1)\n    }else{\n        out[0] = rx1 + f * (rx2 - rx1)\n        out[1] = ry1 + f * (ry2 - ry1)\n        out[2] = rz1 + f * (rz2 - rz1)\n        out[3] = rw1 + f * (rw2 - rw1)\n        out[4] = px1 + f * (dq2[4] - px1)\n        out[5] = py1 + f * (dq2[5] - py1)\n        out[6] = pz1 + f * (dq2[6] - pz1)\n        out[7] = pw1 + f * (dq2[7] - pw1)\n    }\n    return out\n}\n\ndualquat.fromRotationTranslation = (q, v, out = dualquat()) => {\n    const rx = q[0], ry = q[1], rz = q[2], rw = q[3],\n          tx = 0.5 * v[0], ty = 0.5 * v[1], tz = 0.5 * v[2]\n    out[0] = rx; out[1] = ry; out[2] = rz; out[3] = rw\n    out[4] = + tx * rw + ty * rz - tz * ry\n    out[5] = - tx * rz + ty * rw + tz * rx\n    out[6] = + tx * ry - ty * rx + tz * rw\n    out[7] = - tx * rx - ty * ry - tz * rz\n    return out\n}\n\ndualquat.multiply = (a, b, out = dualquat()) => {\n    const ax0 = a[0], ay0 = a[1], az0 = a[2], aw0 = a[3],\n          bx1 = b[4], by1 = b[5], bz1 = b[6], bw1 = b[7],\n          ax1 = a[4], ay1 = a[5], az1 = a[6], aw1 = a[7],\n          bx0 = b[0], by0 = b[1], bz0 = b[2], bw0 = b[3]\n    out[0] = ax0 * bw0 + aw0 * bx0 + ay0 * bz0 - az0 * by0\n    out[1] = ay0 * bw0 + aw0 * by0 + az0 * bx0 - ax0 * bz0\n    out[2] = az0 * bw0 + aw0 * bz0 + ax0 * by0 - ay0 * bx0\n    out[3] = aw0 * bw0 - ax0 * bx0 - ay0 * by0 - az0 * bz0\n    out[4] = ax0 * bw1 + aw0 * bx1 + ay0 * bz1 - az0 * by1 + ax1 * bw0 + aw1 * bx0 + ay1 * bz0 - az1 * by0\n    out[5] = ay0 * bw1 + aw0 * by1 + az0 * bx1 - ax0 * bz1 + ay1 * bw0 + aw1 * by0 + az1 * bx0 - ax1 * bz0\n    out[6] = az0 * bw1 + aw0 * bz1 + ax0 * by1 - ay0 * bx1 + az1 * bw0 + aw1 * bz0 + ax1 * by0 - ay1 * bx0\n    out[7] = aw0 * bw1 - ax0 * bx1 - ay0 * by1 - az0 * bz1 + aw1 * bw0 - ax1 * bx0 - ay1 * by0 - az1 * bz0\n    return out\n}\n\nexport {dualquat}","const frustum = _ => new Float32Array(6 * 4)\n\nfrustum.fromMat = (mat, out = frustum()) => {\n    const m00 = mat[0], m01 = mat[1], m02 = mat[2], m03 = mat[3],\n          m10 = mat[4], m11 = mat[5], m12 = mat[6], m13 = mat[7],\n          m20 = mat[8], m21 = mat[9], m22 = mat[10], m23 = mat[11],\n          m30 = mat[12], m31 = mat[13], m32 = mat[14], m33 = mat[15]\n    //right\n    let x = m03 - m00, y = m13 - m10, z = m23 - m20, w = m33 - m30,\n        il = 1.0 / Math.sqrt(x*x + y*y + z*z) || 0\n    out[0] = il * x; out[1] = il * y; out[2] = il * z; out[3] = il * w\n    //left\n    x = m03 + m00, y = m13 + m10, z = m23 + m20, w = m33 + m30,\n        il = 1.0 / Math.sqrt(x*x + y*y + z*z) || 0\n    out[4] = il * x; out[5] = il * y; out[6] = il * z; out[7] = il * w\n    //bottom\n    x = m03 + m01, y = m13 + m11, z = m23 + m21, w = m33 + m31,\n        il = 1.0 / Math.sqrt(x*x + y*y + z*z) || 0\n    out[8] = il * x; out[9] = il * y; out[10] = il * z; out[11] = il * w\n    //top\n    x = m03 - m01, y = m13 - m11, z = m23 - m21, w = m33 - m31,\n        il = 1.0 / Math.sqrt(x*x + y*y + z*z) || 0\n    out[12] = il * x; out[13] = il * y; out[14] = il * z; out[15] = il * w\n    //far\n    x = m03 - m02, y = m13 - m12, z = m23 - m22, w = m33 - m32,\n        il = 1.0 / Math.sqrt(x*x + y*y + z*z) || 0\n    out[16] = il * x; out[17] = il * y; out[18] = il * z; out[19] = il * w\n    //near\n    x = m03 + m02, y = m13 + m12, z = m23 + m22, w = m33 + m32,\n        il = 1.0 / Math.sqrt(x*x + y*y + z*z) || 0\n    out[20] = il * x; out[21] = il * y; out[22] = il * z; out[23] = il * w\n    return out\n}\n\nfrustum.containsSphere = (fr, v, rad = 0) => {\n    const x = v[0], y = v[1], z = v[2]\n    rad = -rad\n    return !(\n        (fr[0] * x + fr[1] * y + fr[2] * z + fr[3]) < rad ||\n        (fr[4] * x + fr[5] * y + fr[6] * z + fr[7]) < rad ||\n        (fr[8] * x + fr[9] * y + fr[10] * z + fr[11]) < rad ||\n        (fr[12] * x + fr[13] * y + fr[14] * z + fr[15]) < rad ||\n        (fr[16] * x + fr[17] * y + fr[18] * z + fr[19]) < rad ||\n        (fr[20] * x + fr[21] * y + fr[22] * z + fr[23]) < rad || \n        false\n    )\n}\n\nfrustum.containsBox = (fr, box) => {\n    let x1,x2,y1,y2,z1,z2,\n        x,y,z,w,\n        planes = 0\n    while(planes < 24){\n        x = fr[planes+0], y = fr[planes+1], z = fr[planes+2], w = fr[planes+3]\n        x > 0 ? (x1 = box.minX, x2 = box.maxX) : (x1 = box.maxX, x2 = box.minX)\n        y > 0 ? (y1 = box.minY, y2 = box.maxY) : (y1 = box.maxY, y2 = box.minY)\n        z > 0 ? (z1 = box.minZ, z2 = box.maxZ) : (z1 = box.maxZ, z2 = box.minZ)\n        if((x * x1 + y * y1 + z * z1 + w < 0) && (x * x2 + y * y2 + z * z2 + w < 0))\n            return false\n        planes+=4\n    }\n    return true\n}\n\nexport {frustum}","import {EPSILON} from '../constants'\nimport {mat4} from './mat4'\nimport {vec3} from './vec3'\nimport {vec4} from './vec4'\n\nconst Ray = (origin, direction) => ({ origin, direction })\n\nRay.fromProjectionCamera = (camera, coords) => {\n    const origin = vec3.copy(camera.position)\n    //:::ALTERNATIVE:::\n    //const direction = vec4(coords[0], coords[1], -1, 1)\n    //vec4.transform(direction, mat4.invert(camera.projectionMatrix), direction)\n    //direction[2] = -1\n    //direction[3] = 0\n    //vec4.transform(direction, mat4.invert(camera.viewMatrix), direction)\n    //vec3.normalize(direction, direction)\n    const invViewProjectionMatrix = mat4.invert(mat4.multiply(camera.projectionMatrix, camera.viewMatrix))\n    const direction = vec3(coords[0], coords[1], 0.5)\n    vec3.unproject(direction, invViewProjectionMatrix, direction)\n    vec3.subtract(direction, origin, direction)\n    vec3.normalize(direction, direction)\n    return Ray(origin, direction)\n}\n\nRay.fromOrthographicCamera = (camera, coords) => {\n    //TODO orthographic projection\n}\n\nRay.intersectSphere = (ray, sphere) => {\n    const v0 = vec3.subtract(sphere.center, ray.origin),\n          tca = vec3.dot(v0, ray.direction),\n          distSq = vec3.dot(v0, v0) - tca * tca,\n          radiusSq = sphere.radius * sphere.radius\n    if(distSq > radiusSq) return null\n    const thc = Math.sqrt(radiusSq - distSq),\n          t0 = tca - thc,\n          t1 = tca + thc\n    if(t0 < 0 && t1 < 0) return null\n    return t0 < 0 ? t1 : t0 //TODO: evaluate - vec3.add(ray.origin, vec3.scale(ray.direction, t))\n}\n\nRay.pointDistance = (ray, point) => {\n    const temp = vec3.subtract(point, ray.origin),\n          directionDistance = vec3.dot(temp, ray.direction)\n    if(directionDistance < 0) return vec3.distance(temp)\n    vec3.scale(ray.direction, directionDistance, temp)\n    vec3.add(temp, ray.origin, temp)\n    vec3.subtract(temp, point, temp)\n    return vec3.distance(temp)\n}\n\nRay.sphereIntersection = (ray, sphere) => Ray.pointDistance(ray, sphere.center) <= sphere.radius\n\nRay.intersectTriangle = (ray, a, b, c) => {\n    const ab = vec3.subtract(b, a)\n    const ac = vec3.subtract(c, a)\n    const normal = vec3.cross(ab, ac)\n    vec3.normalize(normal, normal)\n    if(vec3.dot(normal, ray.direction) > 0) return null\n    const t = vec3.dot(normal, vec3.subtract(a, ray.origin)) / vec3.dot(normal, ray.direction)\n    if(t <= 0) return null\n    \n    let hit = vec3.scale(ray.direction, t)\n    vec3.add(hit, ray.origin, hit)\n    let toHit = vec3.subtract(hit, a)\n    let dot00 = vec3.dot(ac,ac)\n    let dot01 = vec3.dot(ac,ab)\n    let dot02 = vec3.dot(ac,toHit)\n    let dot11 = vec3.dot(ab,ab)\n    let dot12 = vec3.dot(ab,toHit)\n    let divide = dot00 * dot11 - dot01 * dot01\n    let u = (dot11 * dot02 - dot01 * dot12) / divide\n    let v = (dot00 * dot12 - dot01 * dot02) / divide\n    if (u >= 0 && v >= 0 && u + v <= 1)\n        //return new HitTest(t, hit, normal)\n        return true\n}\n\nRay.intersectAABB = (ray, aabb) => {\n    let tmin = vec3.subtract(aabb.min, ray.origin)\n    let tmax = vec3.subtract(aabb.max, ray.origin)\n    if(Math.max(tmin[0], tmin[1], tmin[2]) < 0 && Math.min(tmax[0], tmax[1], tmax[2]) > 0) return true //0, origin, ray\n    let inv = vec3.divide(vec3(1,1,1), ray.direction)\n    vec3.multiply(tmin, inv, tmin)\n    vec3.multiply(tmax, inv, tmax)\n    let t1 = vec3.min(tmin, tmax)\n    let t2 = vec3.max(tmin, tmax)\n    let tnear = Math.max(t1[0], t1[1], t1[2])\n    let tfar = Math.min(t2[0], t2[1], t2[2])\n    if(!(tnear > 0 && tnear < tfar)) return null\n    let hit = vec3.add(vec3.scale(ray.direction, tnear), ray.origin)\n    let boxmin = vec3.add(aabb.min, vec3(EPSILON))\n    let boxmax = vec3.subtract(aabb.max, vec3(EPSILON))\n    return true\n    //tnear hit, vec3((hit[0] > box_max[0]) - (hit[0] < box_min[0]),(hit[1] > box_max[1]) - (hit[1] < box_min[1]), (hit[2] > box_max[2]) - (hit[2] < box_min[2]))\n}\n\nexport {Ray}","const BinaryHeap = comparator => Object.assign(Object.create(BinaryHeap.prototype), { content: [], comparator })\n\nBinaryHeap.prototype = {\n    push: function(element){\n        this.content.push(element)\n        this.sinkDown(this.content.length - 1)\n    },\n    pop: function(){\n        const element = this.content[0],\n              last = this.content.pop()\n        if(this.content.length > 0){\n            this.content[0] = last\n            this.bubbleUp(0)\n        }\n        return element\n    },\n    remove: function(element){\n        const index = this.content.indexOf(element),\n              last = this.content.pop()\n        if(index === this.content.length - 1) return false\n        this.content[index] = last\n        this.comparator(last, element) < 0 ? this.sinkDown(index) : this.bubbleUp(index)\n    },\n    get size(){ return this.content.length },\n    updateElement: function(element){ this.sinkDown(this.content.indexOf(element)) },\n    sinkDown: function(index){\n        let element = this.content[index]\n        while(index > 0){\n            let parentIndex = ((index + 1) >> 1) - 1,\n                parent = this.content[parentIndex]\n            if(this.comparator(element, parent) >= 0) break\n            this.content[parentIndex] = element\n            this.content[index] = parent\n            index = parentIndex\n        }\n    },\n    bubbleUp: function(index){\n        const length = this.content.length,\n              element = this.content[index]\n        while(1){\n            let rightChildIndex = (index + 1) << 1,\n                leftChildIndex = rightChildIndex - 1,\n                compareNode, swapIndex = null\n            \n            if(leftChildIndex < length && this.comparator(compareNode = this.content[leftChildIndex], element) < 0)\n                swapIndex = leftChildIndex\n            else compareNode = element\n\n            if(rightChildIndex < length && this.comparator(this.content[rightChildIndex], compareNode) < 0)\n                swapIndex = rightChildIndex\n            \n            \n            if(swapIndex === null) break\n            this.content[index] = this.content[swapIndex]\n            this.content[swapIndex] = element\n            index = swapIndex\n        }\n    }\n}\n\nexport {BinaryHeap}","import {SQRT2} from '../constants'\n\nconst heuristics = {\n      manhattan: scale => (a, b) => scale * Math.abs(b.x - a.x) + Math.abs(b.y - a.y),\n      diagonal: (scale, scale2) => (a, b) => {\n          const dx = Math.abs(b.x - a.x),\n                dy = Math.abs(b.y - a.y)\n          return scale * (dx + dy) + (scale2 - 2 * scale) * Math.min(dx, dy)\n      },\n      euclidean: scale => (a, b) => {\n          const dx = Math.abs(b.x - a.x),\n                dy = Math.abs(b.y - a.y)\n          return scale * Math.sqrt(dx * dx + dy * dy)\n      }\n}\n\nconst Graph = _ => Object.create(Graph.prototype)\n\nGraph.prototype = {\n    init: function(inputGrid, options){\n        let minWeight = options.minWeight || 1\n        this.diagonal = !!options.diagonal\n        this.heuristic = (this.diagonal ? heuristics.diagonal : heuristics.manhattan)(minWeight, SQRT2)\n        \n        this.nodes = []\n        this.grid = []\n        for(let r = 0, width = inputGrid.length; r < width; r++)\n            for(let c = 0, gridRow = this.grid[r] = [], inputGridRow = inputGrid[r], height = inputGridRow.length; c < height; c++)\n                this.nodes.push(gridRow[c] = GridNode(r, c, inputGridRow[c]))\n        this.dirtyNodes = this.nodes.slice()\n        return this\n    },\n    neighbors: function(node){\n        const neighbors = [],\n              x = node.x,\n              y = node.y,\n              grid = this.grid\n        if(grid[x - 1] && grid[x - 1][y]) neighbors.push(grid[x - 1][y])\n        if(grid[x + 1] && grid[x + 1][y]) neighbors.push(grid[x + 1][y])\n        if(grid[x] && grid[x][y - 1]) neighbors.push(grid[x][y - 1])\n        if(grid[x] && grid[x][y + 1]) neighbors.push(grid[x][y + 1])\n        if(this.diagonal){\n            if(grid[x - 1] && grid[x - 1][y - 1] && grid[x - 1][y].traversable && grid[x][y - 1].traversable) neighbors.push(grid[x - 1][y - 1])\n            if(grid[x + 1] && grid[x + 1][y - 1] && grid[x + 1][y].traversable && grid[x][y - 1].traversable) neighbors.push(grid[x + 1][y - 1])\n            if(grid[x - 1] && grid[x - 1][y + 1] && grid[x - 1][y].traversable && grid[x][y + 1].traversable) neighbors.push(grid[x - 1][y + 1])\n            if(grid[x + 1] && grid[x + 1][y + 1] && grid[x + 1][y].traversable && grid[x][y + 1].traversable) neighbors.push(grid[x + 1][y + 1])\n        }\n        return neighbors\n    },\n    cleanDirty: function(cleanNode){\n        let idx = this.dirtyNodes.length\n        while(idx--) cleanNode(this.dirtyNodes[idx])\n        this.dirtyNodes.length = 0\n    },\n    markDirty: function(node){ this.dirtyNodes.push(node) },\n    estimateWeight: (node, neighbour) => {\n        if(!node.weight) return 0\n        if(neighbour && neighbour.x != node.x && neighbour.y != node.y)\n            return node.weight * SQRT2\n        return node.weight\n    }\n}\n\nconst GridNode = (x, y, weight) => ({ x, y, weight })\n\nexport {Graph, heuristics}","const rngMultiplyWithCarry = (seed = 123456789) => {\n    const mask = 0xFFFFFFFF\n    let w = seed,\n        z = 987654321\n    return _ => {\n        z = (36969 * (z & 65535) + (z >> 16)) & mask\n        w = (18000 * (w & 65535) + (w >> 16)) & mask\n        return 0.5 + (((z << 16) + w) & mask) / 4294967296\n    }\n}\n\nconst rngLinearCongruentialGenerator = (seed = 0, range = Math.pow(2, 32), multiplier = 134775813) => \n_ => (seed = (multiplier * seed + 1) % range) / range\n\nconst rngSimple = (seed = 1) => \n_ => {\n    const x = Math.sin(seed++) * 10000\n    return x - Math.floor(x)\n}\n\nMath.random = rngSimple()\n\nexport {rngMultiplyWithCarry, rngLinearCongruentialGenerator, rngSimple}","const PoissonDisk = ({width, height, radius, rng = Math.random} = {}) => {\n    const rejectThreshold = 30,\n          radiusSquared = radius * radius,\n          cellSize = radius / Math.sqrt(2),\n          gridWidth = Math.ceil(width / cellSize),\n          gridHeight = Math.ceil(height / cellSize),\n          grid = new Array(gridWidth * gridHeight),\n          queue = []\n    let sampleSize = 0,\n        queueSize = 0\n    const far = (x, y) => {\n        const cellX = x / cellSize | 0,\n              cellY = y / cellSize | 0,\n              minX = Math.max(cellX - 2, 0),\n              minY = Math.max(cellY - 2, 0),\n              maxX = Math.min(cellX + 3, gridWidth),\n              maxY = Math.min(cellY + 3, gridHeight)\n        for(let i, col = minY; col < maxY; i = ++col * gridWidth)\n            for(let cell, row = minX; row < maxX; cell = grid[i + (++row)])\n                if(cell && Math.pow(cell[0] - x) + Math.pow(cell[1] - y) < radiusSquared)\n                    return false\n        return true\n    }\n    const sample = (x, y) => {\n        const s = [x, y]\n        queue.push(s)\n        grid[gridWidth * (y / cellSize | 0) + (x / cellSize | 0)] = s\n        sampleSize++\n        queueSize++\n        return s\n    }\n    const generate = _ => {\n        while(queueSize){\n            const qi = rng() * queueSize | 0,\n                  s = queue[qi]\n            for(let i = 0; i < rejectThreshold; ++i){\n                const rngAngle = rng() * 2 * Math.PI,\n                      rngRadius = Math.sqrt(rng() * 3 * radiusSquared + radiusSquared),\n                      x = s[0] + rngRadius * Math.cos(rngAngle),\n                      y = s[1] + rngRadius * Math.sin(rngAngle)\n                if(x >= 0 && x < width && y >= 0 && y < height && far(x, y))\n                    return sample(x, y)\n            }\n            queue[qi] = queue[--queueSize]\n            queue.length = queueSize\n        }\n    }\n    return (limit, startingPoint) => {\n        queue.length = sampleSize = queueSize = 0\n        let samples = [startingPoint ? sample(startingPoint[0] + width/2, startingPoint[0] + height/2) : sample(rng() * width, rng() * height)],\n            s = null\n        while((s = generate()) && --limit) samples.push(s)\n\n        const stride = 2,\n              sampleArray = new Float32Array(samples.length * stride)\n        samples.forEach((s, i) => {\n            sampleArray[i*stride+0] = s[0] - width/2\n            sampleArray[i*stride+1] = s[1] - height/2\n        })\n        return sampleArray\n    }\n}\n\nexport {PoissonDisk}","import {tie} from '../../util'\n\n//TODO Async stream / split sorting algorithm\n\nconst BinPacker = (sort = BinPacker.sort.maxside, maxWidth, maxHeight = maxWidth) => {\n    const target = Object.create(null)\n    let root = { x: 0, y: 0, w: maxWidth || 0, h: maxHeight || 0 },\n        node = null\n    \n    return tie(target, {\n        get root(){ return root },\n        insert: (blocks) => blocks.sort(sort).forEach(block => {\n            root.w = root.w || block.w\n            root.h = root.h || block.h\n            \n            if(node = target.findNode(root, block.w, block.h))\n                block.fit = target.splitNode(node, block.w, block.h)\n            else if(!maxHeight)\n                block.fit = target.growNode(block.w, block.h)\n        }),\n        findNode: (root, w, h) => root.full ? (target.findNode(root.right, w, h) || target.findNode(root.down, w, h)) : (w <= root.w && h <= root.h ? root : null),\n        splitNode: (node, w, h) => Object.assign(node, {\n            full: true,\n            down: {     x: node.x,      y: node.y + h,  w: node.w,      h: node.h - h },\n            right: {    x: node.x + w,  y: node.y,      w: node.w - w,  h: h }\n        }),\n        growNode: (w, h) => (h <= root.h && root.w < root.h + h) ? target.growRight(w, h) : (w <= root.w ? target.growDown(w, h) : null),\n        growRight: (w, h) => (root = { full: true, x: 0, y: 0,\n                w: root.w + w,\n                h: root.h,\n                down: root,\n                right: {x: root.w, y: 0, w: w, h: root.h}\n            }, (node = target.findNode(root, w, h)) ? target.splitNode(node, w, h) : null),\n        growDown: (w, h) => (root = { full: true, x: 0, y: 0,\n                w: root.w,\n                h: root.h + h,\n                down: {x: 0, y: root.h, w: root.w, h: h},\n                right: root\n            }, (node = target.findNode(root, w, h)) ? target.splitNode(node, w, h) : null),\n        clear: _ => (root = { x: 0, y: 0, w: maxWidth || 0, h: maxHeight || 0 }, target)\n    })\n}\n\nBinPacker.sort = {\n    random: (a, b) => Math.random() - 0.5,\n    height: (a, b) => b.h - a.h || b.w - a.w,\n    width: (a, b) => b.w - a.w || b.h - a.h,\n    area: (a, b) => (b.w*b.w+b.h*b.h) - (a.w*a.w+a.h*a.h) || BinPacker.sort.height(a, b),\n    maxside: (a, b) => Math.max(b.w, b.h) - Math.max(a.w, a.h) || Math.min(b.w, b.h) - Math.min(a.w, a.h) || BinPacker.sort.height(a, b)\n}\n\nexport {BinPacker}","import {tie} from '../../util'\nimport {vec2, vec3, vec4, mat3, mat4, Ray} from '../structs'\n\nconst Raycaster = _ => {\n    const target = Object.create(null)\n    return tie(target, {\n        \n    })\n}\n\nRaycaster.fromCamera = (camera, mouseCoords) => {//TODO optimise by calculating bound rays and interpolating direction\n    const ray = Ray.fromProjectionCamera(camera, mouseCoords)\n    \n    return {\n        intersect: entity => { //TODO handle intersection for different objects\n            //TODO better way to get world bounding sphere, since it might be inside container\n            return Ray.sphereIntersection(ray, { center: vec3.translationFromMat4(entity.modelMatrix), radius: entity.boundingSphereRadius })\n        },\n        get ray(){ return ray }\n    }\n}\n\nexport {Raycaster}","import {tie} from '../../util'\nimport {vec2, vec3, vec4, mat3, mat4} from '../structs'\nimport {generateUUID} from '../abstract'\n\nconst INDEX_INSIDE_CROSS = -1,\n  INDEX_OUTSIDE_OFFSET = 2,\n  INDEX_OUTSIDE_POS_X = 0,\n  INDEX_OUTSIDE_NEG_X = 1,\n  INDEX_OUTSIDE_POS_Y = 2,\n  INDEX_OUTSIDE_NEG_Y = 3,\n  INDEX_OUTSIDE_POS_Z = 4,\n  INDEX_OUTSIDE_NEG_Z = 5,\n  FLAG_POS_X = 1 << (INDEX_OUTSIDE_POS_X + 1),\n  FLAG_NEG_X = 1 << (INDEX_OUTSIDE_NEG_X + 1),\n  FLAG_POS_Y = 1 << (INDEX_OUTSIDE_POS_Y + 1),\n  FLAG_NEG_Y = 1 << (INDEX_OUTSIDE_NEG_Y + 1),\n  FLAG_POS_Z = 1 << (INDEX_OUTSIDE_POS_Z + 1),\n  FLAG_NEG_Z = 1 << (INDEX_OUTSIDE_NEG_Z + 1),\n  INDEX_OUTSIDE_MAP = []\nINDEX_OUTSIDE_MAP[INDEX_OUTSIDE_POS_X] = { index: INDEX_OUTSIDE_POS_X, count: 0, x: 1, y: 0, z: 0 }\nINDEX_OUTSIDE_MAP[INDEX_OUTSIDE_NEG_X] = { index: INDEX_OUTSIDE_NEG_X, count: 0, x: -1, y: 0, z: 0 }\nINDEX_OUTSIDE_MAP[INDEX_OUTSIDE_POS_Y] = { index: INDEX_OUTSIDE_POS_Y, count: 0, x: 0, y: 1, z: 0 }\nINDEX_OUTSIDE_MAP[INDEX_OUTSIDE_NEG_Y] = { index: INDEX_OUTSIDE_NEG_Y, count: 0, x: 0, y: -1, z: 0 }\nINDEX_OUTSIDE_MAP[INDEX_OUTSIDE_POS_Z] = { index: INDEX_OUTSIDE_POS_Z, count: 0, x: 0, y: 0, z: 1 }\nINDEX_OUTSIDE_MAP[INDEX_OUTSIDE_NEG_Z] = { index: INDEX_OUTSIDE_NEG_Z, count: 0, x: 0, y: 0, z: -1 }\n\nconst OctreeSegment = (pointer, segment) => tie(Object.create(OctreeSegment.prototype), {\n    pointer, segment, snapshot: { position: vec3(), radius: 0, indexOctant: null }\n})\nOctreeSegment.prototype = {\n    get radius(){ return this.segment.radius },\n    get position(){ return this.segment.position },\n    get dirty(){ \n        const position = this.position,\n              prevPosition = this.snapshot.position,\n              radius = this.radius,\n              prevRadius = this.snapshot.radius\n        return radius !== prevRadius || position[0] !== prevPosition[0] || position[1] !== prevPosition[1] || position[2] !== prevPosition[2]\n    },\n    set dirty(value){\n        if(!value){\n            this.snapshot.radius = this.radius\n            vec3.copy(this.position, this.snapshot.position)\n        }\n    },\n    get indexOctant(){ return this.snapshot.indexOctant },\n    set indexOctant(value){\n        this.snapshot.indexOctant = value\n        this.dirty = false\n    }\n}\n\nconst Octree = options => {\n    const tree = Object.create(Octree.prototype) \n    options = Object.assign({\n        maxDepth: Infinity,\n        objectsThreshold: 8,\n        overlapPercent: 0.15,\n        deferred: true,\n        tree\n    }, options || {})\n    let root = null\n    \n    tie(tree, {\n        nodeCount: 0,\n        objects: [],\n        objectMap: {},\n        segmentList: [],\n        deferredActions: [],\n        maxDepth: options.maxDepth,\n        objectsThreshold: options.objectsThreshold,\n        overlapPercent: options.overlapPercent,\n        deferred: options.deferred,\n        tempVec3: vec3(),\n        update: _ => {\n            tree.deferredActions.forEach(deferred => deferred.context[deferred.action].apply(deferred.context, deferred.args))\n            tree.deferredActions.length = 0\n        },\n        add: (pointer, mapper) => tree.deferred ? tree.deferredActions.push({ context: tree, action: 'addDeferred', args: [pointer, mapper] }) : tree.addDeferred(pointer, mapper),\n        addDeferred: (pointer, mapper) => {\n            if(pointer instanceof OctreeSegment) pointer = pointer.pointer\n            if(!pointer.uuid) pointer.uuid = generateUUID()\n            if(tree.objectMap[pointer.uuid]) return false\n\n            tree.objects.push(pointer)\n            tree.objectMap[pointer.uuid] = pointer\n\n            mapper(pointer).map(segment => new OctreeSegment(pointer, segment))\n            .forEach(segment => {\n                tree.segmentList.push(segment)\n                tree.root.addObject(segment)\n            })\n        },\n        remove: pointer => {\n            if(pointer instanceof OctreeSegment) pointer = pointer.pointer\n            tree.deferredActions = tree.deferredActions.filter(deferred => !(deferred.action === 'addDeferred' && deferred.args[0] === pointer))\n            if(!tree.objectMap[pointer.uuid]) return true\n            tree.objectMap[pointer.uuid] = undefined\n            tree.objects.splice(tree.objects.indexOf(pointer), 1)\n            tree.root.removeObject(pointer)\n            .forEach(removedSegment => {\n                let index = tree.segmentList.indexOf(removedSegment)\n                if(index !== -1) tree.segmentList.splice(index, 1)\n            })\n        },\n        extend: octree => {\n            const segmentMap = octree.objectData.reduce((segments, segment) => {\n                segments[segment.pointer.uuid] = segments[segment.pointer.uuid] || []\n                segments[segment.pointer.uuid].push(segment.segment)\n                return segments\n            }, Object.create(null))\n            const mapper = pointer => segmentMap[pointer.uuid]\n            octree.objects.forEach(pointer => tree.add(pointer, mapper))\n        },\n        rebuild: _ => {\n            tree.segmentList.filter(segment => segment.node instanceof OctreeNode && segment.dirty && segment.indexOctant != segment.node.getOctantIndex(segment))\n            .map(segment => {\n                const node = segment.node\n                node.removeObject(segment)\n                return { node, segment }\n            }).forEach(({ node, segment }) => node.attached ? node.addObject(segment) : tree.root.addObject(segment))\n        },\n        search: (position, radius, direction, options = {}) => {\n            radius = radius > 0 ? radius : Number.MAX_VALUE\n            let invDirection = direction ? vec3.divide(vec3(1,1,1), vec3.normalize(direction), tree.tempVec3) : null\n            let objects = tree.root.objects.slice()\n            for(let i = 0, l = tree.root.nodeIndices.length; i < l; i++)\n                objects = tree.root.nodesByIndex[tree.root.nodeIndices[i]].search(position, radius, invDirection, objects)\n            if(!options.groupByObject) return objects\n\n            let results = []\n            let resultsObjectsIndices = []\n            //TODO improve grouping\n            for(let i = 0, l = objects.length; i < l; i++){\n                let objectData = objects[i]\n                let object = objectData.pointer\n                let resultObjectIndex = resultsObjectsIndices.indexOf(object)\n                if(resultObjectIndex === -1){\n                    results.push({\n                        object: object\n                    })\n                    resultsObjectsIndices.push(object)\n                }\n            }\n            return results\n        },\n        get root(){ return root },\n        set root(value){\n            if(!value instanceof OctreeNode) return false\n            root = value\n            value.updateProperties()\n        },\n        get depthEnd(){ return tree.root.depthEnd },\n        get nodeCountEnd(){ return tree.root.nodeCountEnd },\n        get objectCountEnd(){ return tree.root.objectCountEnd }\n    })\n    root = options.root || new OctreeNode(options)\n    return tree\n}\n\nconst OctreeNode = function ({tree, position = vec3(), radius, indexOctant, parent}) {\n    const node = Object.create(OctreeNode.prototype)\n    Object.assign(node, {\n        tree, position, indexOctant, depth: 0,\n        radius: Math.max(radius || 0, 1),\n        id: tree.nodeCount++\n    })\n    node.reset(false)\n    node.parent = parent\n\n    node.overlap = node.radius * tree.overlapPercent\n    node.radiusOverlap = node.radius + node.overlap\n    node.left = node.position[0] - node.radiusOverlap\n    node.right = node.position[0] + node.radiusOverlap\n    node.bottom = node.position[1] - node.radiusOverlap\n    node.top = node.position[1] + node.radiusOverlap\n    node.back = node.position[2] - node.radiusOverlap\n    node.front = node.position[2] + node.radiusOverlap\n    return node\n}\n\nOctreeNode.prototype = {\n    set parent(parent){\n        if(parent === this || this.parentNode === parent) return false\n        this.parentNode = parent\n        this.updateProperties()\n    },\n    get parent(){ return this.parentNode },\n    get attached(){ return this.parent || this.tree.root === this },\n    updateProperties: function () {\n        if(!this.parent)\n            this.depth = 0\n        else{\n            this.tree = this.parent.tree\n            this.depth = this.parent.depth + 1\n        }\n        for(let i = 0, l = this.nodeIndices.length; i < l; i++)\n            this.nodesByIndex[this.nodeIndices[i]].updateProperties()\n    },\n    reset: function(cascade){\n        (this.nodeIndices || []).forEach(i => {\n            let node = this.nodesByIndex[i]\n            node.parent = undefined\n            if(cascade) node.reset(cascade)\n        })\n        this.objects = []\n        this.nodeIndices = []\n        this.nodesByIndex = Object.create(null)\n    },\n    addNode: function (node, indexOctant){\n        node.indexOctant = indexOctant\n        if(this.nodeIndices.indexOf(indexOctant) === -1) this.nodeIndices.push(indexOctant)\n        this.nodesByIndex[indexOctant] = node\n        if(node.parent !== this) node.parent = this\n    },\n    removeNode: function (indexOctant){\n        this.nodeIndices.splice(this.nodeIndices.indexOf(indexOctant), 1)\n        const node = this.nodesByIndex[indexOctant]\n        delete this.nodesByIndex[indexOctant]\n        if(node.parent === this) node.parent = undefined\n    },\n    deferAction: function(action){\n        if(this.tree.deferred)\n            if(!this.tree.deferredActions.some(deferred => deferred.action === action && deferred.context === this))\n                this.tree.deferredActions.push({ context: this, action })\n        else\n            this[action].call(this)\n    },\n    addObject: function(object){\n        const indexOctant = this.getOctantIndex(object)\n        \n        if(indexOctant > -1 && this.nodeIndices.length > 0)\n            this.branch(indexOctant).addObject(object)\n        else if(indexOctant < -1 && this.parent instanceof OctreeNode)\n            this.parent.addObject(object)\n        else{\n            if(this.objects.indexOf(object) === -1) this.objects.push(object)\n            object.node = this\n            this.deferAction('checkGrow')\n        }\n    },\n    transferObject: function(objects){\n        let idx = objects.length\n        while(idx--) this.objects.push((objects[idx].node = this, objects[idx]))\n    },\n    removeObject: function(object){\n        const removeContext = { searchComplete: false, nodesRemovedFrom: [], removedSegments: [] }\n        this.removeObjectRecursive(object, removeContext)\n        let idx = removeContext.nodesRemovedFrom.length\n        while(idx--) removeContext.nodesRemovedFrom[idx].deferAction('shrink')\n        return removeContext.removedSegments\n    },\n    removeObjectRecursive: function(object, removeContext){\n        let wasRemoved = false\n        if(object instanceof OctreeSegment){\n            let index = this.objects.indexOf(object)\n            if(index !== -1){\n                this.objects.splice(index, 1)\n                object.node = undefined\n                removeContext.removedSegments.push(object)\n                wasRemoved = true\n                removeContext.searchComplete = true\n            }\n        }else{\n            for(let i = this.objects.length - 1; i >= 0; i--){\n                let segment = this.objects[i]\n                if(segment.pointer !== object) continue\n                this.objects.splice(i, 1)\n                segment.node = undefined\n                removeContext.removedSegments.push(segment)\n                wasRemoved = true\n            }\n        }\n        if(wasRemoved) removeContext.nodesRemovedFrom.push(this)\n        \n        if(!removeContext.searchComplete)\n            for(let i = 0, l = this.nodeIndices.length; i < l; i++)\n                if((removeContext = this.nodesByIndex[this.nodeIndices[i]].removeObjectRecursive(object, removeContext)).searchComplete) break\n        \n        return removeContext\n    },\n    checkGrow: function(){\n        if(this.tree.objectsThreshold && this.objects.length > this.tree.objectsThreshold)\n            this.grow()\n    },\n    grow: function () {\n        const objectsExpand = [],\n              objectsExpandOctants = [],\n              objectsSplit = [],\n              objectsSplitOctants = []\n        let objectsRemaining = []\n        \n        for(let i = 0, l = this.objects.length; i < l; i++){\n            const object = this.objects[i],\n                  indexOctant = this.getOctantIndex(object)\n            if(indexOctant > -1){\n                objectsSplit.push(object)\n                objectsSplitOctants.push(indexOctant)\n            }else if(indexOctant < -1){\n                objectsExpand.push(object)\n                objectsExpandOctants.push(indexOctant)\n            }else\n                objectsRemaining.push(object)\n        }\n\n        if(objectsSplit.length > 0) objectsRemaining = objectsRemaining.concat(this.split(objectsSplit, objectsSplitOctants))\n\n        if(objectsExpand.length > 0) objectsRemaining = objectsRemaining.concat(this.expand(objectsExpand, objectsExpandOctants))\n\n        this.objects = objectsRemaining\n        this.checkMerge()\n    },\n    split: function(objects, octants){\n        if(this.depth >= this.tree.maxDepth) return this.objects\n\n        objects = objects || this.objects\n        octants = octants || []\n        const objectsRemaining = objects.filter((object, i) => octants[i] <= -1 || this.branch(octants[i]).addObject(object) & 0)\n\n        if(objects === this.objects) this.objects = objectsRemaining\n\n        if(objectsRemaining.length > 0)console.log(objectsRemaining)\n        return objectsRemaining\n    },\n    branch: function (indexOctant){\n        if(this.nodesByIndex[indexOctant] instanceof OctreeNode) return this.nodesByIndex[indexOctant]\n        \n        const radius = this.radiusOverlap * 0.5,\n              overlap = radius * this.tree.overlapPercent,\n              radiusOffset = radius - overlap,\n              position = vec3.add(this.position, vec3(\n                  indexOctant & 1 ? radiusOffset : -radiusOffset,\n                  indexOctant & 2 ? radiusOffset : -radiusOffset,\n                  indexOctant & 4 ? radiusOffset : -radiusOffset\n              )),\n              node = new OctreeNode({\n                  tree: this.tree,\n                  parent: this,\n                  position,\n                  radius,\n                  indexOctant\n              })\n        this.addNode(node, indexOctant)\n        return node\n    },\n    expand: function (objects = this.objects, octants = []) {\n        if (this.tree.root.depthEnd >= this.tree.maxDepth) return objects\n        \n        const objectsRemaining = [],\n              objectsExpand = []\n        \n        for (let i = 0, l = INDEX_OUTSIDE_MAP.length; i < l; INDEX_OUTSIDE_MAP[i++].count = 0);\n\n        for (let i = 0, l = objects.length; i < l; i++){\n            let object = objects[i]\n            let indexOctant = octants[i]\n            \n            if(indexOctant < -1)\n                objectsExpand.push(object)\n            else{\n                objectsRemaining.push(object)\n                continue\n            }\n\n            const flagsOutside = -indexOctant - INDEX_OUTSIDE_OFFSET\n\n            if(flagsOutside & FLAG_POS_X) INDEX_OUTSIDE_MAP[INDEX_OUTSIDE_POS_X].count++\n            else if(flagsOutside & FLAG_NEG_X) INDEX_OUTSIDE_MAP[INDEX_OUTSIDE_NEG_X].count++\n            \n            if(flagsOutside & FLAG_POS_Y) INDEX_OUTSIDE_MAP[INDEX_OUTSIDE_POS_Y].count++\n            else if(flagsOutside & FLAG_NEG_Y) INDEX_OUTSIDE_MAP[INDEX_OUTSIDE_NEG_Y].count++\n            \n            if(flagsOutside & FLAG_POS_Z) INDEX_OUTSIDE_MAP[INDEX_OUTSIDE_POS_Z].count++\n            else if(flagsOutside & FLAG_NEG_Z) INDEX_OUTSIDE_MAP[INDEX_OUTSIDE_NEG_Z].count++\n        }\n\n        if(this.parent && objectsExpand.length > 0)   \n            objectsExpand.forEach(this.parent.addObject.bind(this.parent))\n        else if(objectsExpand.length > 0){\n            const indexesOutside = INDEX_OUTSIDE_MAP.slice().sort((a, b) => b.count - a.count),\n                  indexOutside0 = indexesOutside[0],\n                  indexBitwise0 = indexOutside0.index | 1,\n                  infoPotential1 = indexesOutside[1],\n                  infoPotential2 = indexesOutside[2],\n                  indexOutside1 = (infoPotential1.index | 1) !== indexBitwise0 ? infoPotential1 : infoPotential2,\n                  indexOutsideBitwise2 = indexOutside1.index | 1,\n                  infoPotential3 = indexesOutside[3],\n                  infoPotential4 = indexesOutside[4],\n                  indexPotentialBitwise1 = infoPotential2.index | 1,\n                  indexPotentialBitwise2 = infoPotential3.index | 1,\n                  indexOutside2 = (indexPotentialBitwise1 !== indexBitwise0 && indexPotentialBitwise1 !== indexOutsideBitwise2) ? infoPotential2 : \n                                    (indexPotentialBitwise2 !== indexBitwise0 && indexPotentialBitwise2 !== indexOutsideBitwise2) ? infoPotential3 : infoPotential4,\n                  \n                  octantX = indexOutside0.x + indexOutside1.x + indexOutside2.x,\n                  octantY = indexOutside0.y + indexOutside1.y + indexOutside2.y,\n                  octantZ = indexOutside0.z + indexOutside1.z + indexOutside2.z,\n                  indexOctant = this.getOctantIndexFromPosition(octantX, octantY, octantZ),\n                  indexOctantInverse = this.getOctantIndexFromPosition(-octantX, -octantY, -octantZ),\n                  radiusParent = this.tree.overlapPercent > 0 ? this.overlap / ((0.5 * this.tree.overlapPercent) * (1 + this.tree.overlapPercent)) : this.radius * 2,\n                  overlapParent = radiusParent * this.tree.overlapPercent,\n                  radiusOffset = (radiusParent + overlapParent) - (this.radius + this.overlap)\n            \n            const position = vec3.add(this.position, vec3(\n                indexOctant & 1 ? radiusOffset : -radiusOffset,\n                indexOctant & 2 ? radiusOffset : -radiusOffset,\n                indexOctant & 4 ? radiusOffset : -radiusOffset\n            )),\n                  parent = new OctreeNode({\n                      tree: this.tree,\n                      position,\n                      radius: radiusParent\n                  })\n            parent.addNode(this, indexOctantInverse)\n            this.tree.root = parent\n            objectsExpand.forEach(this.tree.root.addObject.bind(this.tree.root))\n        }\n\n        if(objects === this.objects) this.objects = objectsRemaining\n\n        return objectsRemaining\n    },\n    shrink: function () {\n        this.checkMerge()\n        this.tree.root.checkContract()\n    },\n    checkMerge: function (){\n        let nodeParent = this,\n            nodeMerge = null\n\n        while(nodeParent.parent && nodeParent.objectCountEnd < this.tree.objectsThreshold){\n            nodeMerge = nodeParent\n            nodeParent = nodeParent.parent\n        }\n        if(nodeParent !== this) nodeParent.merge(nodeMerge)\n    },\n    merge: function (nodes){\n        nodes = nodes instanceof Array ? nodes : [nodes]   \n        nodes.forEach(node => {\n            this.transferObject(node.objectsEnd)\n            node.reset(true)\n            this.removeNode(node.indexOctant, node)\n        })\n        this.checkMerge()\n    },\n    checkContract: function () {\n        if(this.nodeIndices.length == 0) return false\n\n        let nodeHeaviest = undefined,\n            nodeHeaviestObjectsCount = 0,\n            outsideHeaviestObjectsCount = this.objects.length\n\n        for(let i = 0, l = this.nodeIndices.length; i < l; i++){\n            let node = this.nodesByIndex[this.nodeIndices[i]]\n            let nodeObjectsCount = node.objectCountEnd\n            outsideHeaviestObjectsCount += nodeObjectsCount\n            if(nodeHeaviest instanceof OctreeNode && nodeObjectsCount <= nodeHeaviestObjectsCount) continue\n            nodeHeaviest = node\n            nodeHeaviestObjectsCount = nodeObjectsCount\n        }\n        outsideHeaviestObjectsCount -= nodeHeaviestObjectsCount\n\n        if(nodeHeaviest instanceof OctreeNode && outsideHeaviestObjectsCount < this.tree.objectsThreshold)\n            this.contract(nodeHeaviest)\n    },\n    contract: function (rootNode) {\n        for(let i = 0, l = this.nodeIndices.length; i < l; i++){\n            let node = this.nodesByIndex[this.nodeIndices[i]]\n            if(node === rootNode) continue\n            rootNode.transferObject(node.objectsEnd)\n            node.reset(true)\n        }\n\n        rootNode.transferObject(this.objects)\n        this.reset(false)\n        this.tree.root = rootNode\n        rootNode.checkContract()\n    },\n    getOctantIndex: function(segment){\n        const objectRadius = segment.radius || 0,\n              objectPosition = segment.position,\n              overlap = this.overlap,\n              radiusOverlap = this.radiusOverlap,\n              position = this.position\n        let indexOctant = 0\n        \n        const deltaX = objectPosition[0] - position[0],\n              deltaY = objectPosition[1] - position[1],\n              deltaZ = objectPosition[2] - position[2],\n              distX = Math.abs(deltaX),\n              distY = Math.abs(deltaY),\n              distZ = Math.abs(deltaZ),\n              distance = Math.max(distX, distY, distZ)\n\n        if(distance + objectRadius > radiusOverlap){\n            if(distX + objectRadius > radiusOverlap) indexOctant ^= deltaX > 0 ? FLAG_POS_X : FLAG_NEG_X\n            if(distY + objectRadius > radiusOverlap) indexOctant ^= deltaY > 0 ? FLAG_POS_Y : FLAG_NEG_Y\n            if(distZ + objectRadius > radiusOverlap) indexOctant ^= deltaZ > 0 ? FLAG_POS_Z : FLAG_NEG_Z\n            return segment.indexOctant = -indexOctant - INDEX_OUTSIDE_OFFSET\n        }\n        if(deltaX - objectRadius > -overlap) indexOctant |= 1\n        else if(deltaX + objectRadius >= overlap) return segment.indexOctant = INDEX_INSIDE_CROSS\n\n        if(deltaY - objectRadius > -overlap) indexOctant |= 2\n        else if(deltaY + objectRadius >= overlap) return segment.indexOctant = INDEX_INSIDE_CROSS\n\n        if(deltaZ - objectRadius > -overlap) indexOctant |= 4\n        else if(deltaZ + objectRadius >= overlap) return segment.indexOctant = INDEX_INSIDE_CROSS\n\n        return segment.indexOctant = indexOctant\n    },\n    getOctantIndexFromPosition: (x, y, z) => (x > 0) | (y > 0) << 1 | (z > 0) << 2,\n    search: function(position, radius, invDirection, objects){\n        if(invDirection ? this.intersectRay(position, invDirection, radius) : this.intersectSphere(position, radius)){\n            objects = objects.concat(this.objects)\n            for(let i = 0, l = this.nodeIndices.length; i < l; i++)\n                objects = this.nodesByIndex[this.nodeIndices[i]].search(position, radius, invDirection, objects)\n        }\n        return objects\n    },\n    intersectSphere: function(center, radius){\n        const x = center[0], y = center[1], z = center[2]\n        let distance = radius * radius,\n            diff = 0\n        if(     (diff = x - this.left) < 0) distance -= diff*diff\n        else if((diff = x - this.right) > 0) distance -= diff*diff\n        if(     (diff = y - this.bottom) < 0) distance -= diff*diff\n        else if((diff = y - this.top) > 0) distance -= diff*diff\n        if(     (diff = z - this.back) < 0) distance -= diff*diff\n        else if((diff = z - this.front) > 0) distance -= diff*diff\n        return distance >= 0\n    },\n    intersectRay: function (origin, invDirection, maxDistance){\n        const t0 = invDirection[0] * (this.left - origin[0]),\n              t1 = invDirection[0] * (this.right - origin[0]),\n              t2 = invDirection[1] * (this.bottom - origin[1]),\n              t3 = invDirection[1] * (this.top - origin[1]),\n              t4 = invDirection[2] * (this.back - origin[2]),\n              t5 = invDirection[2] * (this.front - origin[2]),\n              tmax = Math.min(Math.max(t0, t1), Math.max(t2, t3), Math.max(t4, t5))\n        if(tmax < 0) return false\n        const tmin = Math.max(Math.min(t0, t1), Math.min(t2, t3), Math.min(t4, t5))\n        return tmin < tmax && tmin < maxDistance\n    },\n    get depthEnd(){ return this.nodeIndices.reduce((depth, i) => Math.max(depth, this.nodesByIndex[i].depthEnd), this.depth) },\n    get nodeCountEnd(){ return this.tree.root.nodeCountRecursive + 1 },\n    get nodeCountRecursive(){ return this.nodeIndices.reduce((count, i) => count + this.nodesByIndex[i].nodeCountRecursive, this.nodeIndices.length) },\n    get objectsEnd(){ return this.nodeIndices.reduce((objects, i) => objects.concat(this.nodesByIndex[i].objectsEnd), this.objects.slice()) },\n    get objectCountEnd(){\n        return this.nodeIndices.reduce((count, i) => count + this.nodesByIndex[i].objectCountEnd, this.objects.length)\n        //let count = this.objects.length,\n        //    idx = this.nodeIndices.length\n        //while(idx--) count += this.nodesByIndex[this.nodeIndices[idx]].objectCountEnd\n        //return count\n    },\n    get objectCountStart(){\n        let count = this.objects.length,\n            parent = this\n        while(parent = parent.parent)\n            count += parent.objects.length\n        return count\n    }\t\n}\n\nexport {Octree}","import {SQRT2} from '../constants'\nimport {BinaryHeap} from '../structs'\n\nconst astar = { //TODO move graph and this into pathfinding/navigation folder\n    traversePath: node => {\n        const path = [node]\n        while(node = node.parent)\n            path.unshift(node)\n        return path\n    },\n    smoothPath: (graph, path) => {\n        const checkPath = astar.sampleLine.bind(null, graph)\n        for(let i = path.length - 1, node = path[i--]; i > 0; i--)\n            checkPath(node, path[i-1]) ? path.splice(i, 1) : node = path[i]\n        return path\n    },\n    sampleLine: (graph, start, end) => { //TODO works only for 2d grid\n        const grid = graph.grid,\n              minX = Math.min(start.x, end.x),\n              minY = Math.min(start.y, end.y),\n              maxX = Math.max(start.x, end.x),\n              maxY = Math.max(start.y, end.y),\n              dx = maxX - minX, dy = maxY - minY\n        for(let x = minX, y = minY, stepX = 0, stepY = 0; stepX < dx || stepY < dy;){\n            let distX = (0.5 + stepX) / dx,\n                distY = (0.5 + stepY) / dy\n            if(distX < distY)\n                stepX++\n            else if(distX > distY)\n                stepY++\n            else{\n                stepX++\n                stepY++\n                if(!graph.estimateWeight(graph.grid[minX + stepX - 1][minY + stepY])) return false\n                if(!graph.estimateWeight(graph.grid[minX + stepX][minY + stepY - 1])) return false\n            }\n            if(!graph.estimateWeight(graph.grid[minX + stepX][minY + stepY])) return false\n        }\n        return true\n    },\n    search: (graph, start, end, options = {}) => { //TODO async defer, split into multiple frames\n        graph.cleanDirty(astar.cleanNode)\n        const heuristic = options.heuristic || graph.heuristic\n        const findClosest = options.findClosest || false\n        const openHeap = BinaryHeap((a, b) => a.total - b.total || a.estimated - b.estimated)\n        \n        let closestNode = start\n        \n        start.estimated = heuristic(start, end)\n        graph.markDirty(start)\n        openHeap.push(start)\n        \n        while(openHeap.size > 0){\n            const node = openHeap.pop()\n            if(node === end) return astar.traversePath(node)\n            \n            node.closed = true\n            const neighbors = graph.neighbors(node)\n            for(let i = 0, length = neighbors.length; i < length; i++){\n                const neighbor = neighbors[i],\n                      traverseWeight = graph.estimateWeight(neighbor, node)\n                if(neighbor.closed || !traverseWeight) continue\n                const shortestDistance = node.distance + traverseWeight\n                if(neighbor.visited && shortestDistance >= neighbor.distance) continue\n                \n                neighbor.parent = node\n                neighbor.estimated = neighbor.estimated || heuristic(neighbor, end)\n                neighbor.distance = shortestDistance\n                neighbor.total = neighbor.estimated + neighbor.distance\n                graph.markDirty(neighbor)\n                \n                \n                if(findClosest && (closestNode.estimated - neighbor.estimated || closestNode.distance - neighbor.distance) > 0) closestNode = neighbor\n                \n                neighbor.visited ? openHeap.updateElement(neighbor) : openHeap.push(neighbor)\n                neighbor.visited = true\n            }\n        }\n        return findClosest ? astar.traversePath(closestNode) : []\n    },\n    cleanNode: function(node) {\n        node.distance = node.estimated = node.total = 0\n        node.visited = node.closed = false\n        node.parent = null\n    }\n}\n\nexport {astar}","import {factory, Stream} from '../util'\n\nfactory.declare('time', target => {\n    let requestId = null,\n        prevTimestamp = 0,\n        stream = Stream() //TODO turn async off?\n    \n    const update = timestamp => {\n        const deltaTime = timestamp - prevTimestamp\n        prevTimestamp = timestamp\n        stream.onSuccess({metronome: target, deltaTime, timestamp})\n        if(requestId) requestId = window.requestAnimationFrame(update)\n    }\n    \n    return {\n        pulse: stream,\n        get time(){ return prevTimestamp },\n        get timestamp(){ return window.performance.now() },\n        get paused(){ return requestId === null },\n        set paused(value){ value ? target.pause() : target.start() },\n        start: () => (requestId || (requestId = window.requestAnimationFrame(update)), target),\n        pause: () => (requestId = (!requestId || window.cancelAnimationFrame(requestId), null), target)\n    }\n})","import {factory, Stream} from '../util'\n\nfactory.declare('eventbus', target => {\n   \n    return {\n       \n    }\n})","const EventEmitter = _ => {\n    const events = Object.create(null)\n    \n    return {\n        addEventListener: (event, listener, once = false) => {\n            const listeners = events[event] || (events[event] = [])\n            if(listeners.indexOf(listener) !== -1) return false\n            if(once) listener.oneTime = true\n            listeners.push(listener)\n        },\n        removeEventListener: (event, listener) => {\n            const listeners = events[event] || (events[event] = []),\n                  index = listeners.indexOf(listener)\n            if(index === -1) return false\n            listeners.splice(index, 1)\n        },\n        removeAllEventListeners: Object.values(events).forEach(listeners => listeners.length = 0),\n        dispatchEvent: (event, ...args) => {\n            const listeners = events[event]\n            if(!listeners) return false\n            for(let i = listeners.length - 1; i >= 0; i--)\n                if((listeners[i].apply(null, args), listeners[i].oneTime))\n                    listeners.splice(i, 1)\n        }\n    }\n}\n\nexport {EventEmitter}","import {tie} from '../../util'\nimport {EventEmitter} from '../../events'\nimport {vec3} from '../structs'\n\nconst Cluster = options => {\n    options = Object.assign({\n        padding: 1e-3,\n        capacityThreshold: Infinity,\n        capacityScale: 0\n    }, options || {})\n    const cluster = Object.create(null),\n          positions = [],\n          pointers = [],\n          accumulativeCentroid = vec3(0),\n          centroid = vec3()\n    let maxConnection = 0,\n        connectionFactor = 0\n    \n    return tie(cluster, {\n        index: options.index,\n        get pointers(){ return pointers },\n        recompute: _ => {\n            vec3.scale(accumulativeCentroid, 1/positions.length, centroid)\n            positions.forEach(position => maxConnection = Math.max(maxConnection, vec3.differenceSquared(position, centroid)))\n            connectionFactor = (1 + options.padding - Math.max(0, positions.length - options.capacityThreshold) * options.capacityScale) * maxConnection\n        },\n        computeWeight: position => +positions.length && vec3.differenceSquared(position, centroid) - connectionFactor,\n        add: (position, pointer) => {\n            positions.push(position)\n            pointers.push(pointer)\n            \n            vec3.add(accumulativeCentroid, position, accumulativeCentroid)\n            cluster.recompute()\n        },\n        remove: pointer => {\n            let idx = pointers.indexOf(pointer)\n            if(idx == -1) return false\n            \n            vec3.subtract(accumulativeCentroid, positions[idx], accumulativeCentroid)\n            cluster.recompute()\n            \n            positions.splice(idx, 1)\n            pointers.splice(idx, 1)\n        },\n        get size(){ return positions.length },\n        get averageVolume(){ return positions.reduce((total, position) => total + vec3.differenceSquared(centroid, position), 0) / positions.length }\n    })\n}\n\nconst StaticClusterPartitioning = options => { //TODO add update cost threshold, to not reinsert objects all the time\n    options = Object.assign({\n        worldScale: 100,\n        limit: 20,\n        index: 0\n    }, options || {})\n    const target = Object.create(null),\n          clusters = [Cluster(options)]\n    \n    return tie(target, {\n        add: (position, pointer) => {            \n            let clusterIdx, minWeight = Number.MAX_VALUE\n            for(let i = clusters.length - 1; i >= 0; i--){\n                let weight = clusters[i].computeWeight(position)\n                if(weight >= minWeight) continue\n                minWeight = weight\n                clusterIdx = i\n            }\n            \n            minWeight /= options.worldScale\n            if(minWeight > 1 && clusters.length < options.limit) clusterIdx = (options.index++, clusters.push(Cluster(options)) - 1)\n            const cluster = clusters[clusterIdx],\n                  prevCluster = pointer.partitionCluster\n            \n            if(prevCluster) if(prevCluster === cluster) return true\n            else target.remove(pointer)\n            \n            cluster.add(position, pointer)\n            target.dispatchEvent('add', pointer.partitionCluster = cluster)\n        },\n        remove: (pointer) => {\n            let cluster = pointer.partitionCluster,\n                clusterIdx = clusters.indexOf(cluster)\n            delete pointer.partitionCluster\n            cluster.remove(pointer)\n            if(clusterIdx == -1) return false\n            if(!cluster.size) target.dispatchEvent('remove', clusters.splice(clusterIdx, 1)[0])\n        },\n        get clusters(){ return clusters }\n    }, EventEmitter())\n}\n\nexport {StaticClusterPartitioning, Cluster}","import {vec3, vec2} from '../../math'\n\nconst PlaneGeometry = ({\n    halfWidth = 1e4,\n    halfHeight = 1e4,\n    normal = vec3.AXIS_Z\n}) => {\n    const tangent = vec3(),\n          binormal = vec3()\n    vec3.extractTangents(normal, tangent, binormal)\n    vec3.scale(tangent, halfWidth, tangent)\n    vec3.scale(binormal, halfHeight, binormal)\n    const vertices = [vec3.add(tangent, binormal),\n                      vec3.subtract(binormal, tangent),\n                      vec3.negate(vec3.add(tangent, binormal)),\n                      vec3.subtract(tangent, binormal)],\n          indices = [0, 1, 2, 0, 2, 3],\n          normals = Array(4).fill(normal),\n          uvs = [vec2(0, 0),\n                 vec2(1, 0),\n                 vec2(1, 1),\n                 vec2(0, 1)]\n    return { vertices, indices, normals, uvs }\n}\n\nexport {PlaneGeometry}","import {vec3, vec2} from '../../math'\n\nconst BoxGeometry = ({ //TODO reorder vertices and faces\n    halfX = 10,\n    halfY = 10,\n    halfZ = 10\n}) => {\n    const vertices = [\n        vec3( halfX, halfY, halfZ), vec3(-halfX, halfY, halfZ), vec3(-halfX,-halfY, halfZ), vec3( halfX,-halfY, halfZ),\n        vec3( halfX, halfY, halfZ), vec3( halfX,-halfY, halfZ), vec3( halfX,-halfY,-halfZ), vec3( halfX, halfY,-halfZ),\n        vec3( halfX, halfY, halfZ), vec3( halfX, halfY,-halfZ), vec3(-halfX, halfY,-halfZ), vec3(-halfX, halfY, halfZ),\n        vec3(-halfX, halfY, halfZ), vec3(-halfX, halfY,-halfZ), vec3(-halfX,-halfY,-halfZ), vec3(-halfX,-halfY, halfZ),\n        vec3(-halfX,-halfY,-halfZ), vec3( halfX,-halfY,-halfZ), vec3( halfX,-halfY, halfZ), vec3(-halfX,-halfY, halfZ),\n        vec3( halfX,-halfY,-halfZ), vec3(-halfX,-halfY,-halfZ), vec3(-halfX, halfY,-halfZ), vec3( halfX, halfY,-halfZ)],\n          indices = [0, 1, 2,   0, 2, 3,\n                     4, 5, 6,   4, 6, 7,\n                     8, 9,10,   8,10,11,\n                     12,13,14,  12,14,15,\n                     16,17,18,  16,18,19,\n                     20,21,22,  20,22,23],\n          normals = [vec3(0, 0, 1), vec3(0, 0, 1), vec3(0, 0, 1), vec3(0, 0, 1),\n                     vec3(1, 0, 0), vec3(1, 0, 0), vec3(1, 0, 0), vec3(1, 0, 0),\n                     vec3(0, 1, 0), vec3(0, 1, 0), vec3(0, 1, 0), vec3(0, 1, 0),\n                     vec3(-1, 0, 0), vec3(-1, 0, 0), vec3(-1, 0, 0), vec3(-1, 0, 0),\n                     vec3( 0,-1, 0), vec3(0 ,-1, 0), vec3(0, -1, 0), vec3(0,- 1, 0),\n                     vec3( 0, 0,-1), vec3(0,  0,-1), vec3(0, 0 ,-1), vec3(0, 0,- 1)],\n          uvs = [\n              vec2(1,0), vec2(0,0), vec2(0,1), vec2(1,1),\n              vec2(1,0), vec2(1,1), vec2(0,0), vec2(0,1),\n              vec2(1,0), vec2(0,1), vec2(1,1), vec2(0,0),\n              vec2(0,0), vec2(1,1), vec2(1,0), vec2(0,1),\n              vec2(1,0), vec2(0,0), vec2(1,1), vec2(0,1),\n              vec2(0,0), vec2(1,0), vec2(1,1), vec2(0,1)]\n    \n    return { vertices, indices, normals, uvs }\n}\n\nexport {BoxGeometry}","import {vec3, vec2} from '../../math'\n\nconst SphereGeometry = ({\n    radius = 10, \n    widthSegments = 8, \n    heightSegments = 6, \n    phi = 2 * Math.PI, \n    theta = Math.PI, \n    phiOffset = 0, \n    thetaOffset = 0\n}) => {\n    \n    const vertices = [],\n          indices = [],\n          normals = [],\n          uvs = []\n    \n    for(let y = 0; y <= heightSegments; y++){\n        let stepY = y / heightSegments\n        for(let x = 0; x <= widthSegments; x++){\n            let stepX = x / widthSegments\n            let vertex = vec3(radius * -Math.cos(phiOffset + stepX * phi) * Math.sin(thetaOffset + stepY * theta),\n                              radius * Math.cos(thetaOffset + stepY * theta),\n                              radius * Math.sin(phiOffset + stepX * phi) * Math.sin(thetaOffset + stepY * theta))\n            vertices.push(vertex)\n            normals.push(vec3.normalize(vertex))\n            uvs.push(vec2(stepX, 1 - stepY))\n            \n            if(y == heightSegments || x == widthSegments) continue\n            let a = (y) * (widthSegments+1) + (x + 1),\n                b = (y) * (widthSegments+1) + (x),\n                c = (y + 1) * (widthSegments+1) + (x),\n                d = (y + 1) * (widthSegments+1) + (x + 1)\n            if(y > 0 || thetaOffset > 0) indices.push(a, b, d)\n            if(y < heightSegments || thetaOffset + theta < Math.PI) indices.push(b, c, d)\n        }\n    }\n    return { vertices, indices, normals, uvs }\n}\n\nexport {SphereGeometry}","import {vec3, vec2} from '../../math'\n\n//TODO move to math\nconst azimuth = v => Math.atan2(v[2], -v[0])\nconst inclination = v => Math.atan2(-v[1], Math.sqrt(v[0]*v[0] + v[2]*v[2]))\n\nconst ConvexPolyhedronGeometry = ({\n    corners, faces, faceNormals\n}) => {\n    let vertices = [],\n        indices = [],\n        normals = [],\n        uvs = []\n    \n    faces.map(face => face.map(index => vec3.copy(corners[index])))\n    .forEach((face, faceIdx) => {        \n        let faceNormal = faceNormals ? faceNormals[faceIdx] : vec3.faceNormal(face[0], face[1], face[2]) //TODO remove colinear points?\n        vec3.normalize(faceNormal, faceNormal)\n        let offset = vertices.length,\n            faceUvs = face.map(vertex => vec2(\n            0.5 * azimuth(vertex) / Math.PI + 0.5,\n            1 - inclination(vertex) / Math.PI + 0.5))\n        vertices.push(...face)\n        normals.push(...Array(face.length).fill(faceNormal))\n        Array.range(face.length - 2).forEach(index => {\n            let centroid = vec3.add(vec3.add(face[0], face[index+1]), face[index+2])\n            vec3.scale(centroid, 1/3, centroid)\n            let centroidAzimuth = azimuth(centroid)\n            ;[0, index+1, index+2].forEach(idx => {\n                let uv = faceUvs[idx]\n                if(centroidAzimuth < 0 && uv[0] == 1) uv[0] = uv[0] - 1\n                if(face[idx][0] == 0 && face[idx][2] == 2) uv[0] = 0.5 * centroidAzimuth / Math.PI + 0.5\n            })\n            indices.push(offset, offset + index + 1, offset + index + 2)\n        })\n        uvs.push(...faceUvs)\n    })\n    \n    return { vertices, indices, normals, uvs }\n}\n\nexport {ConvexPolyhedronGeometry}","import { vec3, vec2 } from '../../math'\n\nexport const GridGeometry = ({\n    columns = 1,\n    rows = 1,\n    width = 100,\n    height = 100,\n    normal = vec3.AXIS_Y\n}) => {\n    const tangent = vec3(),\n          binormal = vec3()\n    vec3.extractTangents(normal, tangent, binormal)\n    vec3.scale(tangent, width / columns, tangent)\n    vec3.scale(binormal, height / rows, binormal)\n    \n    const vertices = []\n    const uvs = []\n    const normals = []\n    for(let row = 0; row <= rows; row++)\n    for(let column = 0; column <= columns; column++){\n        vertices.push(vec3(\n            tangent[0] * column + binormal[0] * row,\n            tangent[1] * column + binormal[1] * row,\n            tangent[2] * column + binormal[2] * row\n        ))\n        uvs.push(vec2(\n            column / columns,\n            1 - (row / rows)\n        ))\n        normals.push(normal)\n    }\n    const indices = []\n    for(let row = 0; row < rows; row++)\n    for(let column = 0; column < columns; column++){\n        const a = (column) + (row) * (columns + 1)\n        const b = (column) + (row + 1) * (columns + 1)\n        const c = (column + 1) + (row + 1) * (columns + 1)\n        const d = (column + 1) + (row) * (columns + 1)\n\n        indices.push(a, b, d)\n        indices.push(b, c, d)\n    }\n\n    return { vertices, indices, normals, uvs }\n}","import {vec2, vec3, vec4, quat} from '../../math'\n\nvec3.faceNormal = (a, b, c, out = vec3()) => {\n    const ax = a[0] - b[0], ay = a[1] - b[1], az = a[2] - b[2],\n          bx = a[0] - c[0], by = a[1] - c[1], bz = a[2] - c[2]\n    out[0] = ay * bz - az * by\n\tout[1] = az * bx - ax * bz\n\tout[2] = ax * by - ay * bx\n    return out\n}\n\nvec3.round = (vec, precision, out = vec3()) => {\n    out[0] = vec[0].toFixed(precision)\n    out[1] = vec[1].toFixed(precision)\n    out[2] = vec[2].toFixed(precision)\n    return out\n}\n\nvec3.angle = (a, b) => Math.acos(Math.clamp(vec3.dot(a, b) / Math.sqrt(vec3.distanceSquared(a) * vec3.distanceSquared(b)), -1, 1))\n\nvec2.key = (vector, precision = 1e3) => `${Math.round(vector[0] * precision)}-${Math.round(vector[1] * precision)}`\nvec3.key = (vector, precision = 1e3) => `${Math.round(vector[0] * precision)}-${Math.round(vector[1] * precision)}-${Math.round(vector[2] * precision)}`\nvec4.key = (vector, precision = 1e3) => `${Math.round(vector[0] * precision)}-${Math.round(vector[1] * precision)}-${Math.round(vector[2] * precision)}-${Math.round(vector[3] * precision)}`\n\nvec4.negate = (v, out = vec4()) => {\n    out[0] = -v[0]\n    out[1] = -v[1]\n    out[2] = -v[2]\n    out[3] = -v[3]\n    return out\n}\n\nconst constructPolygonPlane = (vertices, out = vec4()) => {\n    const a = vertices[0], b = vertices[1]\n    for(let i = vertices.length - 1; i >= 2; i--)\n        if(!vec3.equals(vec3.ZERO, vec3.faceNormal(a, b, vertices[i], out)))\n            break\n    vec3.normalize(out, out)\n    out[3] = vec3.dot(out, a)\n    return out\n}\n\n//TODO still has some minor artifacts (overlapping extra polygons)\nconst mergePolygons = (verticesA, verticesB, out = []) => { //TODO optimise somehow, GC unfriendly, handle edge-cases\n    const vertices = [],\n          indicesA = verticesA.map(vertex => (vertices.indexOf(vertex) + 1 || vertices.push(vertex)) - 1),\n          indicesB = verticesB.map(vertex => (vertices.indexOf(vertex) + 1 || vertices.push(vertex)) - 1),\n          contourA = [],\n          contourB = [],\n          edges = []\n    if(verticesA.length + verticesB.length - vertices.length < 2) return null\n    for(let i = indicesA.length - 1; i >= 0; contourA[indicesA[(i || indicesA.length) - 1]] = indicesA[i--]);\n    for(let i = indicesB.length - 1; i >= 0; contourB[indicesB[(i || indicesB.length) - 1]] = indicesB[i--]);\n    \n    let sharedEdges = contourA.filter((next, prev) => contourB[next] == prev || (edges[prev] = next, false)).length\n    if(!sharedEdges) return null\n    contourB.forEach((next, prev) => contourA[next] == prev || (edges[prev] = next))\n    for(let index = 0, next = edges[index]; next != -1; edges[index] = -1, next = edges[index = next])\n        out.push(vertices[index])\n    \n    if(vertices.length != out.length - sharedEdges + 1) return null\n    return out\n}\n\nconst sharedPolygonIndices = (a, b, out = []) => {\n    const indexMap = Object.create(null)\n    for(let i = b.length - 1; i >= 0; indexMap[b[i--]] = true);\n    let startIndex, value, lengthA = a.length\n    for(startIndex = lengthA - 1; startIndex >= 0; startIndex--)\n        if(!indexMap[a[(startIndex || lengthA) - 1]] && indexMap[a[startIndex]])\n            break\n    for(let i = 0; i < lengthA; i++)\n        if(indexMap[value = a[(startIndex + i) % lengthA]])\n            out.push(value)\n    return out\n}\n\nconst mergeConvexColinearEdges = (vertices, out = [], precision = 1e5) => { //TODO reuse vec3Pool\n    const length = vertices.length\n    if(length < 3) return false\n    let previousEdge = vec3.subtract(vertices[length - 1], vertices[length - 2], vec3()),\n        nextEdge = vec3(),\n        orientation, angleSum = 0\n    for(let i = 0; i < length; i++){\n        let vertex = vertices[(i || length) - 1]\n        vec3.subtract(vertices[i], vertex, nextEdge)\n        let angle = vec3.angle(previousEdge, nextEdge)\n        if(Math.round(angle * precision) == 0) continue\n        if(!orientation) orientation = Math.sign(angle)\n        else if(orientation != Math.sign(angle)) return false\n        angleSum += Math.abs(angle)\n        out.push(vertex)\n        vec3.copy(nextEdge, previousEdge)\n    }\n    return Math.round(angleSum / (Math.PI * 2)) == 1 ? out : false\n}\n\nexport {constructPolygonPlane, mergeConvexColinearEdges, mergePolygons, sharedPolygonIndices}","import {vec2, vec3} from '../../math'\n\nconst transformGeometry = (geometry, transform) => { //TODO optional taskManager param?\n    const vertices = geometry.vertices\n    for(let i = vertices.length - 1; i >= 0; i--)\n        transform.call(geometry, vertices[i])\n    return geometry\n}\n\nconst Plane = ({\n    dimensions = vec2(1e3)\n} = {}) => {\n\n    const vertices = Array.range(4).map(i => vec3( //TODO X, Z plane? change pysics plane to use Y up axis as default\n        dimensions[0] * (i & 1 ? 0.5 : -0.5),\n        dimensions[1] * (i & 2 ? 0.5 : -0.5), 0\n    )), faces = [[0,1,3,2]]\n    \n    return { vertices, faces }\n}\n\nconst Sphere = ({\n    wedges = 16,\n    rings = 8,\n    radius = 1\n} = {}) => {\n    \n    const thetaAngle = 2 * Math.PI / wedges,\n          phiAngle = Math.PI / rings,\n          vertices = [],\n          faces = [],\n          indices = Array.range(rings + 1)\n    .map(y => Array.range(y == 0 || y == rings || wedges)\n         .map(x => {\n              let theta = x * thetaAngle,\n                  phi = y * phiAngle,\n                  normal = vec3(Math.cos(theta) * Math.sin(phi),\n                                Math.cos(phi),\n                                Math.sin(theta) * Math.sin(phi))\n              return vertices.push(vec3.scale(normal, radius, normal)) - 1\n          }))\n\n    for(let y = 0; y < rings; y++)\n        for(let x = 0; x < wedges; x++)\n            faces.push(y == 0 && [\n                indices[y + 1][x], indices[y][0], indices[y + 1][(x + 1) % wedges]\n            ] || y == rings - 1 && [\n                indices[y + 1][0], indices[y][x], indices[y][(x + 1) % wedges]\n            ] || [\n                indices[y + 1][x], indices[y][x], indices[y][(x + 1) % wedges], indices[y + 1][(x + 1) % wedges]\n            ])\n    \n    return { vertices, faces }\n}\n\nconst Cuboid = ({\n    halfExtents = vec3.ONE\n} = {}) => {\n    const vertices = Array.range(8).map(idx => vec3(\n        idx & 1 ? halfExtents[0] : -halfExtents[0],\n        idx & 2 ? halfExtents[1] : -halfExtents[1],\n        idx & 4 ? halfExtents[2] : -halfExtents[2]\n    )), faces = [[0, 4, 6, 2],\n                 [1, 3, 7, 5],\n                 [0, 1, 5, 4],\n                 [2, 6, 7, 3],\n                 [0, 2, 3, 1],\n                 [4, 5, 7, 6]]\n    return { vertices, faces }\n}\n\nconst Cylinder = ({\n    segments = 16,\n    height = 1,\n    radius = 1\n} = {}) => {\n    \n    const thetaAngle = 2 * Math.PI / segments,\n          vertices = [],\n          faces = []\n    let top = [],\n        bottom = []\n    \n    for(let i = 0, j = segments - 1; i < segments; j = i++){\n        let theta = thetaAngle * i,\n            x = Math.sin(theta) * radius,\n            z = Math.cos(theta) * radius\n        //TODO fix axis. use Y by default (change physics cylinder as well!!!)\n        //vertices.push(vec3(x, 0.5 * height, z), vec3(x, -0.5 * height, z))   \n        vertices.push(vec3(z, x, 0.5 * height), vec3(z, x, -0.5 * height))\n        faces.push([2*j, 2*j + 1, 2*i + 1, 2*i])\n        top.push(2*i)\n        bottom.push(2*i + 1)\n    }\n    faces.push(top, bottom.reverse())\n    \n    return { vertices, faces }\n}\n\nconst Polyhedron = ({ vertices, faces }) => ({\n    vertices: vertices.map(vertex => vec3.copy(vertex)),\n    faces: faces.map(face => face.slice())\n})\n\nexport {Plane, Sphere, Cuboid, Cylinder, Polyhedron, transformGeometry}","import {vec3, vec4} from '../../math'\nimport {constructPolygonPlane} from './util'\n\nconst Polygon = (vertices, plane) => ({\n    vertices,\n    plane: plane ? vec4.copy(plane) : constructPolygonPlane(vertices)\n})\n\nconst intoPolygonList = ({ vertices, faces }) => faces.map(face => Polygon(face.map(index => vertices[index])))\n\nconst PLANE_NEAR_TOLERANCE = 1e-4, //TODO make this bsp tree optional parameter?\n      COPLANAR = 0,\n      FRONT = 1, \n      BACK = 2,\n      SPANNING = 3\n\nconst splitPolygonByPlane = (plane, polygon, coplanarFront, coplanarBack, front, back) => {\n    const dot = vec3.dot(plane, polygon.plane)\n    let polygonSide = 0\n    const vertexSides = polygon.vertices.map(vertex => {\n        let distance = vec3.dot(plane, vertex) - plane[3]\n        let side = distance < -PLANE_NEAR_TOLERANCE && BACK || distance > PLANE_NEAR_TOLERANCE && FRONT || COPLANAR\n        polygonSide |= side\n        return side\n    })\n    \n    switch(polygonSide){\n        case COPLANAR: (dot > 0 ? coplanarFront : coplanarBack).push(polygon); break\n        case FRONT: front.push(polygon); break\n        case BACK: back.push(polygon); break\n        case SPANNING:\n            const frontVertices = [], backVertices = []\n            for(let length = polygon.vertices.length, i = 0, j = length - 1; i < length; j = i++){\n                let sideA = vertexSides[j], sideB = vertexSides[i],\n                    vertexA = polygon.vertices[j], vertexB = polygon.vertices[i]\n                if(sideA != BACK) frontVertices.push(vertexA)\n                if(sideA != FRONT) backVertices.push(vertexA)\n                if((sideA | sideB) === SPANNING){\n                    let factor = (plane[3] - vec3.dot(plane, vertexA)) / vec3.dot(plane, vec3.subtract(vertexB, vertexA, vec3.temp))\n                    let middleVertex = vec3.lerp(vertexA, vertexB, factor, vec3())\n                    frontVertices.push(middleVertex)\n                    backVertices.push(middleVertex)\n                }\n            }\n            frontVertices.length >= 3 && front.push(Polygon(frontVertices, polygon.plane))\n            backVertices.length >= 3 && back.push(Polygon(backVertices, polygon.plane))\n            break\n    }\n}\n\nconst BSPNode = _ => {\n    const node = Object.create(BSPNode.prototype)\n    node.plane = null\n    node.front = null\n    node.back = null\n    node.nodePolygons = []\n    return node\n}\n\nObject.assign(BSPNode, {\n    insertPolygons: function*(root, polygons){\n        const stack = [root, polygons]\n        while(stack.length){\n            let polygonList = stack.pop(),\n                node = stack.pop()\n            if(!polygonList.length) continue\n            if(!node.plane){\n                let splittingPolygon = polygonList.shift()\n                node.nodePolygons.push(splittingPolygon)\n                node.plane = vec4.copy(splittingPolygon.plane)\n            }\n            const front = [], back = []\n            for(let i = polygonList.length - 1; i >= 0; i--)\n                splitPolygonByPlane(node.plane, polygonList[i], node.nodePolygons, node.nodePolygons, front, back)\n            if(front.length) stack.push(node.front = (node.front || BSPNode()), front)\n            if(back.length) stack.push(node.back = (node.back || BSPNode()), back)\n            yield\n        }\n    },\n    fetchPolygons: function*(root){\n        let out = [],\n            stack = [root]\n        while(stack.length){\n            let node = stack.pop()\n            out = out.concat(node.nodePolygons)\n            if(node.front) stack.push(node.front)\n            if(node.back) stack.push(node.back)\n            yield\n        }\n        return out\n    },\n    invert: function*(root){\n        const stack = [root]\n        while(stack.length){\n            const node = stack.pop()\n            node.nodePolygons.forEach(polygon => {\n                polygon.vertices.reverse()\n                vec4.negate(polygon.plane, polygon.plane)\n            })\n            vec4.negate(node.plane, node.plane)\n            const swap = node.front\n            node.front = node.back\n            node.back = swap\n            \n            node.front && stack.push(node.front)\n            node.back && stack.push(node.back)\n            yield\n        }\n    },\n    clipTo: function*(root, bspNode, clipCoplanar){\n        const outerStack = [root],\n              innerStack = []\n        while(outerStack.length){\n            const node = outerStack.pop()\n            if(node.front) outerStack.push(node.front)\n            if(node.back) outerStack.push(node.back)\n            let clippedPolygons = []\n            innerStack.push(bspNode, node.nodePolygons)\n            while(innerStack.length){\n                const polygons = innerStack.pop()\n                const clippingNode = innerStack.pop()\n                let front = [], coplanarFront = [], back = []\n                for(let i = polygons.length - 1; i >= 0; i--)\n                    splitPolygonByPlane(clippingNode.plane, polygons[i], clipCoplanar ? back : front, back, front, back)\n                if(clippingNode.front) innerStack.push(clippingNode.front, front)\n                else clippedPolygons = clippedPolygons.concat(front)\n                if(clippingNode.back) innerStack.push(clippingNode.back, back)\n                yield\n            }\n            node.nodePolygons = clippedPolygons\n        }\n    }\n})\n\n\nexport {BSPNode, Polygon, intoPolygonList, splitPolygonByPlane}","import {vec3, vec4} from '../../math'\nimport {Polygon, BSPNode} from './bsp'\nimport {constructPolygonPlane, mergeConvexColinearEdges, mergePolygons} from './util'\n\nconst union = function*(polygonsA, polygonsB){\n    const a = BSPNode(),\n          b = BSPNode()\n    yield* BSPNode.insertPolygons(a, polygonsA) //TODO separate bsp functions, import them\n    yield* BSPNode.insertPolygons(b, polygonsB)\n    yield* BSPNode.clipTo(a, b, false)\n    yield* BSPNode.clipTo(b, a, true)\n    const clippedPolygonsB = yield* BSPNode.fetchPolygons(b)\n    yield* BSPNode.insertPolygons(a, clippedPolygonsB)\n    const clippedPolygonsA = yield* BSPNode.fetchPolygons(a)\n    return clippedPolygonsA\n}\n\nconst subtract = function*(polygonsA, polygonsB){\n    const a = BSPNode(),\n          b = BSPNode()\n    yield* BSPNode.insertPolygons(a, polygonsA)\n    yield* BSPNode.insertPolygons(b, polygonsB)\n    yield* BSPNode.invert(a)\n    yield* BSPNode.clipTo(a, b, false)\n    yield* BSPNode.clipTo(b, a, true)\n    const clippedPolygonsB = yield* BSPNode.fetchPolygons(b)\n    yield* BSPNode.insertPolygons(a, clippedPolygonsB)\n    yield* BSPNode.invert(a)\n    const clippedPolygonsA = yield* BSPNode.fetchPolygons(a)\n    return clippedPolygonsA\n}\n\nconst invert = function*(polygons){\n    for(let i = polygons.length - 1; i >= 0; i--){\n        const polygon = polygons[i]\n        polygon.vertices.reverse()\n        vec4.negate(polygon.plane, polygon.plane)\n        yield\n    }\n    return polygons\n}\n\nconst intersect = function*(polygonsA, polygonsB){\n    const a = BSPNode(),\n          b = BSPNode()\n    yield* BSPNode.insertPolygons(a, polygonsA)\n    yield* BSPNode.insertPolygons(b, polygonsB)\n    yield* BSPNode.invert(a)\n    yield* BSPNode.clipTo(b, a, false)\n    yield* BSPNode.invert(b)\n    yield* BSPNode.clipTo(a, b, false)\n    yield* BSPNode.clipTo(b, a, false)\n    const clippedPolygonsB = yield* BSPNode.fetchPolygons(b)\n    yield* BSPNode.insertPolygons(a, clippedPolygonsB)\n    yield* BSPNode.invert(a)\n    const clippedPolygonsA = yield* BSPNode.fetchPolygons(a)\n    return clippedPolygonsA\n}\n\nconst expand = function*(polygons, padding = 1){\n    const vertices = []\n    polygons.forEach(polygon => polygon.vertices.forEach(vertex => vertex.planeList ? vertex.planeList.push(polygon.plane) : (vertices.push(vertex), vertex.planeList = [polygon.plane])))\n    \n    vertices.forEach(vertex => {\n        const averageNormal = vertex.planeList.reduce((average, normal) => vec3.add(average, normal, average), vec3(0))\n        vec3.normalize(averageNormal, averageNormal)\n        let dot = vec3.dot(averageNormal, vertex.planeList[0])\n        vec3.scale(averageNormal, padding/dot, averageNormal)\n        vec3.add(vertex, averageNormal, vertex)\n        delete vertex.planeList\n    })\n    \n    polygons.forEach(polygon => constructPolygonPlane(polygon.vertices, polygon.plane)) //polygon.plane[3] += padding precision errors are too noticeable, maxDot might be better\n    \n    return polygons\n}\n\nconst simplify = function*(polygons, precision = 1e2){    \n    const vertexMap = Object.create(null),\n          planeMap = Object.create(null)\n    for(let i = polygons.length - 1; i >= 0; i--){\n        const polygon = polygons[i]\n        polygon.vertices = polygon.vertices.map(vertex => {\n            let key = vec3.key(vertex, precision)\n            return vertexMap[key] || (vertexMap[key] = vertex)\n        }).filter((vertex, idx, vertices) => vertices.indexOf(vertex) == idx)    \n        yield\n    }\n    \n    for(let i = polygons.length - 1; i >= 0; i--){\n        const polygon = polygons[i]\n        if(polygon.vertices.length < 3) continue\n        let plane = polygon.plane\n        let key = vec4.key(plane, precision)\n        if(!planeMap[key]) planeMap[key] = []\n        planeMap[key].push(polygon)\n        yield\n    }\n    \n    const planes = Object.values(planeMap),\n          mergedPolygons = []\n    for(let i = planes.length - 1; i >= 0; i--){\n        const coplanarPolygons = planes[i] \n        for(let i = coplanarPolygons.length - 1; i >= 0; i--)\n            for(let polygonA = coplanarPolygons[i], j = i - 1; j >= 0; j--){\n                if(i == j) continue\n                let polygonB = coplanarPolygons[j],\n                    contourUnion = mergePolygons(polygonA.vertices, polygonB.vertices)\n                yield\n                if(!contourUnion || !(contourUnion = mergeConvexColinearEdges(contourUnion))) continue\n                \n                polygonA.vertices = contourUnion\n                coplanarPolygons.splice(j, 1)\n                i--\n                j = coplanarPolygons.length\n            }\n        \n        mergedPolygons[i] = coplanarPolygons\n    }\n        \n    return mergedPolygons.flatten()\n}\n\n//TODO: handle intersection case, use edge intersection instead of vertex offsetting\n//TODO: generate new list of polygons\nconst inwardOffset = function*(vertices, polygons, offset){\n    const vertexOffsets = []\n    const prevEdge = vec3(),\n          nextEdge = vec3(),\n          inwardNormal = vec3()\n    \n    for(let i = vertices.length - 1; i >= 0; i--){\n        const vertexOffset = vertexOffsets[i] = vec3()\n        const vertex = vertices[i]\n        let adjacent = 0\n        \n        for(let j = polygons.length - 1; j >= 0; j--){\n            const polygon = polygons[j]\n            const index = polygon.indices.indexOf(i)\n            if(index == -1) continue\n            adjacent++\n            \n            const prevVertex = vertices[polygon.indices[Math.mod(index - 1, polygon.indices.length)]]\n            const nextVertex = vertices[polygon.indices[Math.mod(index + 1, polygon.indices.length)]]\n            \n            vec3.subtract(vertex, prevVertex, prevEdge)\n            vec3.subtract(nextVertex, vertex, nextEdge)\n            \n            vec3.cross(prevEdge, polygon.normal, prevEdge)\n            vec3.cross(nextEdge, polygon.normal, nextEdge)\n            \n            vec3.normalize(prevEdge, prevEdge)\n            vec3.normalize(nextEdge, nextEdge)\n            \n            vec3.add(prevEdge, nextEdge, inwardNormal)\n            vec3.normalize(inwardNormal, inwardNormal)\n            \n            const angle = vec3.angle(inwardNormal, nextEdge)\n            \n            vec3.scale(inwardNormal, -offset / Math.cos(angle), inwardNormal)\n            \n            vec3.add(inwardNormal, vertexOffset, vertexOffset)\n            \n            const planeNormal = vec3.scale(polygon.normal, offset)\n            vec3.add(planeNormal, vertexOffset, vertexOffset)\n        }\n        vec3.scale(vertexOffset, 1 / adjacent, vertexOffset)\n        yield\n    }\n    for(let i = vertexOffsets.length - 1; i >= 0; i--)\n        vec3.add(vertexOffsets[i], vertices[i], vertices[i])\n}\n\nexport {invert, union, subtract, intersect, expand, simplify, inwardOffset}","import {vec3} from '../../math'\n\nconst pointInsidePolygon = (polygon, point, planeNearThreshold = 0.5) => { //TODO refactor, optimise, more generic?\n    let flag = false\n    let min = Number.MAX_VALUE,\n        max = -Number.MAX_VALUE\n    for(let i = polygon.length - 1; i >= 0; i--){\n        let edgeA = polygon[i],\n            edgeB = polygon[(i || polygon.length) - 1]\n        min = Math.min(edgeA[1], min)\n        max = Math.max(edgeA[1], max)\n        if(edgeA[2] > point[2] == edgeB[2] > point[2]) continue\n        if((point[0] - edgeA[0]) < (edgeB[0] - edgeA[0]) * (point[2] - edgeA[2]) / (edgeB[2] - edgeA[2]))\n        flag = !flag\n    }\n    if(point[1] > max + planeNearThreshold || point[1] < min - planeNearThreshold) return false\n    return flag \n}\n\nconst findClosestNode = (position, polygons, vertices, options = {}) => {\n    let minDistance = options.maxThreshold || Number.MAX_VALUE,\n        closestNode = null\n    for(let i = polygons.length - 1; i >= 0; i--){\n        let node = polygons[i],\n            measuredDistance = vec3.differenceSquared(position, node.centroid)\n        if(measuredDistance >= minDistance) continue\n        if(options.checkBounds && !pointInsidePolygon(node.indices.map(idx => vertices[idx]), position, options.planeNearThreshold)) continue\n        closestNode = node\n        minDistance = measuredDistance\n    }\n    return { distance: minDistance, node: closestNode }\n}\n\nconst mergeVertices = (vertices, faces, precision = 1e4) => { //TODO defer async\n    vertices.forEach(vertex => vec3.round(vertex, 2, vertex))\n    const verticesMap = Object.create(null),\n          unique = [],\n          duplicates = vertices.map((vertex, idx) => {\n              let key = vec3.key(vertex, precision)\n              return verticesMap[key] || (verticesMap[key] = unique.push(vertex))\n          }), polygons = faces.map(face => face.map(idx => duplicates[idx] - 1).filter((idx, i, indices) => indices.indexOf(idx) == i))\n    .filter(face => face.length > 2)\n    .map(indices => ({\n        indices,\n        normal: vec3.faceNormal(indices.map(idx => unique[idx]), vec3())\n    }))\n    return { polygons, vertices }\n}\n\nexport {pointInsidePolygon, findClosestNode, mergeVertices}","import {vec3} from '../../math'\n\nconst MeshGraph = _ => Object.create(MeshGraph.prototype) //TODO extend graph, since clean and mark are the same\nMeshGraph.prototype = {\n    init: function(mesh){\n        this.nodes = mesh\n        this.dirtyNodes = this.nodes.slice()\n        return this\n    },\n    neighbors: node => node.neighbours,\n    cleanDirty: function(cleanNode){\n        let idx = this.dirtyNodes.length\n        while(idx--) cleanNode(this.dirtyNodes[idx])\n        this.dirtyNodes.length = 0\n    },\n    markDirty: function(node){ this.dirtyNodes.push(node) },\n    estimateWeight: (node, neighbour) => 1.0,\n    heuristic: (a, b) => vec3.differenceSquared(a.centroid, b.centroid)\n}\n\nexport {MeshGraph}","import {vec3} from '../../math'\n\nconst triangleAreaSquared = (a, b, c) => {\n    const ax = b[0] - a[0], az = b[2] - a[2],\n          bx = c[0] - a[0], bz = c[2] - a[2]\n    return bx * az - ax * bz\n}\n\nconst Funnel = _ => {\n    const portalsL = [],\n          portalsR = []\n    let length = 0,\n        path = []\n    \n    return {\n        get path(){ return path },\n        clear: _ => portalsL.length = portalsR.length = length = 0,\n        push: (left, right = left) => {\n            portalsL[length] = left\n            portalsR[length] = right\n            length++\n        },\n        traverse: _ => {\n            path.length = 0\n            \n            let leftIndex = 0,\n                rightIndex = 0,\n                leftPortal = portalsL[leftIndex],\n                rightPortal = portalsR[rightIndex],\n                apexPortal = leftPortal\n            \n            path.push(apexPortal)\n            \n            for(let i = 0; i < length; i++){\n                let left = portalsL[i],\n                    right = portalsR[i]\n                if(triangleAreaSquared(apexPortal, rightPortal, right) <= 0.0)\n                    if(vec3.equals(apexPortal, rightPortal) || triangleAreaSquared(apexPortal, leftPortal, right) > 0.0){\n                        rightPortal = right\n                        rightIndex = i\n                    }else{\n                        apexPortal = rightPortal = leftPortal\n                        i = rightIndex = leftIndex\n                        path.push(apexPortal)\n                        continue\n                    }\n                if(triangleAreaSquared(apexPortal, leftPortal, left) >= 0.0)\n                    if(vec3.equals(apexPortal, leftPortal) || triangleAreaSquared(apexPortal, rightPortal, left) < 0.0){\n                        leftPortal = left\n                        leftIndex = i\n                    }else{\n                        apexPortal = leftPortal = rightPortal\n                        i = leftIndex = rightIndex\n                        path.push(apexPortal)\n                        continue\n                    }\n            }\n            \n            if(!path.length || !vec3.equals(path[path.length - 1], portalsL[length - 1]))\n                path.push(portalsL[length - 1])\n            \n            return path\n        }\n    }\n}\n\nexport {Funnel}","import {snapshot} from '../util'\n\n//TODO filtering, DEBUG etc\nconst logger = (target => {\n    const history = [],\n          styles = Object.create(null),\n          filter = []\n    \n    return Object.assign(target, {\n        filter,\n        info: (style, ...args) => {\n            if(window.DEBUG && filter.indexOf(style) == -1)\n                args.forEach(msg => typeof msg === 'object' ? console.dir(msg) : styles[style] ? console.log('%c' + msg, styles[style]) : console.log(msg))\n            return target\n        },\n        registerStyle: (style, cssText) => (styles[style] = cssText, target)\n    })\n})(Object.create(null))\n\nlogger\n    .registerStyle('webgl', 'color:#22cc9c;background:#111;border-bottom:4px solid #779977')\n    .registerStyle('loader', 'color:#000099;background:#ccffff')\n    .registerStyle('buffer', 'color:#357235;text-decoration:underline')\n    .registerStyle('memory', 'color:#ac33bb;font-style:italic')\n    .registerStyle('lightmap', 'color:#5588CC')\n    .registerStyle('navigation', 'color:#002266;text-shadow:0px 0px 1px #bbffbb')\n    .registerStyle('ai', 'color:#af3814;border-bottom:1px solid #444444')\n    .registerStyle('fx', 'color:#663399;font-size:8pt;border-bottom:1px #663399 dashed')\n    .registerStyle('spatial', 'color:#e73d4d;font-weight:bold;text-shadow:0px 0px 1px #000000')\n\n//logger.filter.push('loader', 'buffer', 'lightmap')\n\nexport {logger}","import {logger} from '../../debug/logger'\nimport {Signal} from '../../util'\nimport {vec3} from '../../math'\nimport {intoPolygonList, expand, union, simplify, inwardOffset} from '../csg'\n//TODO logger info\nconst buildConfigurationSpace = function*(solids, options){\n    options = Object.assign({\n        padding: 1,\n        margin: 0,\n        steepness: Math.PI/4,\n        precision: 1e3,\n        nearThreshold: 1e-5\n    }, options || {})\n    \n    let geometry = solids.flatten(),\n        combinedGeometry = null\n    for(let i = geometry.length - 1; i >= 0; i--){\n        const solid = geometry[i] = intoPolygonList(geometry[i])\n        if(options.margin) yield* expand(solid, options.margin)\n        combinedGeometry = combinedGeometry ? yield* union(combinedGeometry, solid) : solid\n    }\n    const simplifiedGeometry = yield* simplify(combinedGeometry)\n    \n    geometry = simplifiedGeometry.filter(polygon => Math.acos(vec3.dot(vec3.AXIS_Y, polygon.plane)) < options.steepness)\n    \n    logger.info('navigation', `Configuration Space: combined ${combinedGeometry.length} simplified ${simplifiedGeometry.length} final ${geometry.length}`)\n    \n    const vertexMap = Object.create(null),\n          vertices = [],\n          polygons = []\n    for(let i = geometry.length - 1; i >= 0; i--){\n        const polygon = geometry[i]\n        polygons[i] = {\n            normal: vec3.copy(polygon.plane),\n            indices: polygon.vertices.map(vertex => {\n                let key = vec3.key(vertex, options.precision)\n                let index = vertexMap[key] || (vertexMap[key] = vertices.push(vertex))\n                return index - 1\n            })\n        }\n        yield\n    }\n    for(let i = polygons.length - 1; i >= 0; i--){\n        const polygon = polygons[i],\n              plane = geometry[i].plane,\n              indices = polygon.indices\n        for(let i = 0; i < indices.length; i++){\n            let vertexA = vertices[indices[i]]\n            let vertexB = vertices[indices[(i + 1) % indices.length]]\n            let edgeLength = vec3.difference(vertexB, vertexA)\n            for(let j = 0; j < vertices.length; j++){\n                yield;\n                let vertexC = vertices[j]\n                if(indices.indexOf(j) != -1) continue\n                if(Math.abs(plane[3] - vec3.dot(plane, vertexC)) > options.nearThreshold) continue\n                let distance = vec3.difference(vertexC, vertexA),\n                    difference = (distance + vec3.difference(vertexB, vertexC))/edgeLength\n                if(Math.abs(difference - 1) > options.nearThreshold) continue\n                \n                indices.splice(i + 1, 0, j)\n                edgeLength = distance\n                vertexB = vertexC\n            }\n        }\n        yield\n    }\n    \n    if(options.padding)\n        yield* inwardOffset(vertices, polygons, options.padding)\n    \n    return { polygons, vertices }\n}\n\nconst linkNavigationGeometry = function*({ vertices, polygons }){\n    for(let idx = polygons.length - 1; idx >= 0; idx--){\n        const polygon = polygons[idx],\n              indices = polygon.indices,\n              centroid = vec3(0),\n              vertexIdxMap = Object.create(null)\n        for(let i = indices.length - 1; i >= 0; i--){\n            vec3.add(centroid, vertices[indices[i]], centroid)\n            vertexIdxMap[indices[i]] = true\n        }\n        vec3.scale(centroid, 1/indices.length, centroid)\n        vec3.round(centroid, 2, centroid)\n        let radiusSquared = 0\n        for(let i = indices.length - 1; i >= 0; radiusSquared = Math.max(radiusSquared, vec3.differenceSquared(centroid, vertices[indices[i--]])));\n\n        const neighbours = polygons.filter((neighbour, i) => i != idx && neighbour.indices.filter(vertexIdx => vertexIdxMap[vertexIdx]).length >= 2)\n\n        Object.assign(polygon, { centroid, neighbours, boundingRadius: Math.sqrt(radiusSquared) })\n        yield\n    }\n    return { vertices, polygons }\n}\n\nexport {buildConfigurationSpace, linkNavigationGeometry}","import {Signal} from '../../util'\nimport {sharedPolygonIndices} from '../csg'\n\nconst groupNavigationMesh = function*({ vertices, polygons }, options){\n    options = Object.assign({\n        expectedGroups: 1\n    }, options || {})\n    \n    let groups = [],\n        groupCount = 0,\n        polygonIdx = polygons.length,\n        polygonsToProcess = []\n    for(let i = polygons.length - 1; i >= 0; i--){\n        let polygon = polygonsToProcess.pop()\n        if(!polygon)\n            while(polygonIdx--){\n                polygon = polygons[polygonIdx]\n                if(polygon.group !== undefined) continue\n                groups[polygon.group = groupCount++] = []\n                break\n            }\n        groups[polygon.group].push(polygon)\n        for(let i = polygon.neighbours.length - 1; i >= 0; i--){\n            let neighbour = polygon.neighbours[i]\n            if(neighbour.group !== undefined) continue\n            neighbour.group = polygon.group\n            polygonsToProcess.push(neighbour)\n        }\n        yield\n    }\n    groups = groups.sort((a, b) => b.length - a.length).slice(0, options.expectedGroups)\n    \n    const groupedVertices = []\n    for(let group = groups.length - 1; group >= 0; group--){\n        const reindexed = [],\n              filtered = [],\n              polygons = groups[group]\n        groups[group] = { polygons, vertices: filtered }\n        for(let i = polygons.length - 1; i >= 0; i--){\n            const polygon = polygons[i]\n            polygon.group = group\n            polygon.indices = polygon.indices.map(index => (reindexed[index] || (reindexed[index] = filtered.push(vertices[index]))) - 1)\n            yield\n        }\n    }\n    for(let group = groups.length - 1; group >= 0; group--){\n        const polygons = groups[group].polygons,\n              groupVertices = groups[group].vertices\n        for(let i = polygons.length - 1; i >= 0; i--){\n            const polygon = polygons[i],\n                  neighbours = polygon.neighbours,\n                  portals = polygon.portals = []\n            for(let j = neighbours.length - 1; j >= 0; j--){\n                portals[j] = sharedPolygonIndices(polygon.indices, neighbours[j].indices).map(idx => groupVertices[idx])\n                portals[j].splice(1, portals[j].length - 2)\n                yield\n            }\n        }\n    }\n    \n    return groups\n}\n\nconst findIntersectionLine = function*(normal, indicesA, verticesA, indicesB, verticesB, nearPrecision = 1e-1){ //TODO move to utils\n    const edge = vec3(),\n          direction = vec3()\n    let vertexLeft = null,\n        vertexRight = null\n    for(let a0 = indicesA.length - 1, a1 = 0; a0 >= 0; a1 = a0--){\n        let vertexA0 = verticesA[indicesA[a0]],\n            vertexA1 = verticesA[indicesA[a1]]\n        vec3.subtract(vertexA1, vertexA0, edge)\n        vec3.normalize(edge, edge)\n        vec3.cross(edge, normal, direction)\n        let planeW = vec3.dot(normal, vertexA0), //TODO keep plane vec4 instead of vec3 normal?\n            directionW = vec3.dot(direction, vertexA0)\n        for(let b0 = indicesB.length - 1, b1 = 0; b0 >= 0; b1 = b0--){\n            let vertexB0 = verticesB[indicesB[b0]],\n                vertexB1 = verticesB[indicesB[b1]],\n                edgeB = vec3.subtract(vertexB1, vertexB0, vec3())\n            if(vec3.dot(edge, edgeB) >= 0) continue\n            //TODO not refactored\n            if(Math.abs(vec3.dot(normal, vertexB0) - planeW) > nearPrecision) continue //TODO possible duplication\n            if(Math.abs(vec3.dot(direction, vertexB0) - directionW) > nearPrecision) continue\n            if(Math.abs(vec3.dot(normal, vertexB1) - planeW) > nearPrecision) continue\n            if(Math.abs(vec3.dot(direction, vertexB1) - directionW) > nearPrecision) continue\n\n            let dotA = vec3.dot(edge, vertexA0),\n                dotB = vec3.dot(edge, vertexA1),\n                dotC = vec3.dot(edge, vertexB0),\n                dotD = vec3.dot(edge, vertexB1)\n            \n            if(dotD >= dotB || dotA >= dotC) continue\n            \n            if(dotA <= dotD && dotB >= dotC) return [vertexB1, vertexB0]\n            if(dotA >= dotD && dotB <= dotC) return [vertexA0, vertexA1]\n            if(dotA <= dotD && dotB <= dotC) return [vertexB1, vertexA1]\n            if(dotA >= dotD && dotB >= dotC) return [vertexA0, vertexB0]\n        }\n    }\n    return null\n}\n\nconst attachNavigationMesh = function*(existingGroups, navigationMesh){\n    if(!existingGroups) return navigationMesh\n    \n    const prevPolygons = existingGroups.map(group => group.polygons).flatten(),\n          polygons = navigationMesh.map(group => group.polygons).flatten()\n    \n    for(let a = polygons.length - 1; a >= 0; a--)\n        for(let polygonA = polygons[a], b = prevPolygons.length - 1; b >= 0; b--){\n            let polygonB = prevPolygons[b],\n                combinedRadius = polygonA.boundingRadius + polygonB.boundingRadius,\n                distanceSquared = vec3.differenceSquared(polygonA.centroid, polygonB.centroid)\n            yield\n            if(combinedRadius * combinedRadius < distanceSquared) continue\n            let portal = yield* findIntersectionLine(polygonA.normal, \n                                                     polygonA.indices, navigationMesh[polygonA.group].vertices, \n                                                     polygonB.indices, existingGroups[polygonB.group].vertices)\n            if(!portal) continue\n            polygonB.neighbours.push(polygonA)\n            polygonA.neighbours.push(polygonB)\n            polygonA.portals.push(portal)\n            polygonB.portals.push(portal.slice().reverse()),\n            (polygonA.joints = polygonA.joint || []).push(polygonB),\n            (polygonA.joints = polygonA.joint || []).push(polygonB)\n        }\n    \n    let groupOffset = existingGroups.length\n    navigationMesh.forEach(group => group.polygons.forEach(polygon => polygon.group += groupOffset))\n    existingGroups.push(...navigationMesh)\n    return existingGroups\n}\n\nconst detachNavigationMesh = function*(existingGroups, group){ //TODO async iteration?\n    let idx = existingGroups.indexOf(group)\n    if(idx == -1) return existingGroups\n    \n    group.polygons.filter(polygon => polygon.joint).forEach(polygon => polygon.joints.forEach(jointPolygon => {\n            let idx = jointPolygon.neighbours.indexOf(polygon)\n            jointPolygon.neighbours.splice(idx, 1)\n            jointPolygon.portals.splice(idx, 1)\n            jointPolygon.joints.remove(polygon)\n            if(!jointPolygon.joints.length) delete jointPolygon.joints\n    }))\n    \n    existingGroups.splice(idx, 1)\n    existingGroups.slice(idx).forEach((group, idx) => group.polygons.forEach(polygon => --polygon.group))\n    return existingGroups\n}\n\nexport {groupNavigationMesh, attachNavigationMesh, detachNavigationMesh}","import {factory, tie, Signal} from '../../util'\nimport {vec3, astar} from '../../math'\nimport {MeshGraph} from './graph'\nimport {Funnel} from './funnel'\nimport {groupNavigationMesh, attachNavigationMesh, detachNavigationMesh} from './group'\nimport {buildConfigurationSpace, linkNavigationGeometry} from './generation'\nimport {findClosestNode} from './util'\n\nfactory.declare('navigation_mesh', (target, options) => { //TODO async pathfinding\n    const layers = Object.create(null),\n          taskManager = options.taskManager,\n          syncWrapLayer = (layer, nextTask) => \n              (layers[layer] = layers[layer] || { queue: Signal.just({}) })\n              .queue = layers[layer].queue\n              .pipe(layerData => nextTask.call(target, layerData.groups))\n              .pipe(layerGroups => tie(layers[layer], {\n                  groups: layerGroups,\n                  graph: MeshGraph().init(layerGroups.map(group => group.polygons).flatten())\n              }))\n    \n    return {\n        get layers(){ return layers },\n        //TODO default value for layer?\n        buildNodes: (solidGeometry, layer) => taskManager.runGenerator(buildConfigurationSpace(solidGeometry, { steepness: Math.PI / 3 }))\n        .pipe(geometry => taskManager.runGenerator(linkNavigationGeometry(geometry)))\n        .pipe(navigationMesh => taskManager.runGenerator(groupNavigationMesh(navigationMesh, { expectedGroups: 1 })))\n        .pipe(nodeGroups => syncWrapLayer(layer, groups => taskManager.runGenerator(attachNavigationMesh(groups, nodeGroups)))),\n        deleteNodes: (layer, group) => syncWrapLayer(layer, groups => taskManager.runGenerator(detachNavigationMesh(groups, group))), //TODO why pointer to group array?\n        detectNearestNode: (position, layer, options) => {\n            if(!layers[layer]) return null            \n            const closestNode = layers[layer].groups.reduce((nodeA, nodeB, idx) => (\n                nodeB = findClosestNode(position, nodeB.polygons, nodeB.vertices, options),\n                nodeA && nodeA.distance < nodeB.distance ? nodeA : nodeB.node && nodeB), null)\n            return closestNode && closestNode.node\n        },\n        queryNodes: (layer, nearPosition, nearRange) => {\n            if(!layers[layer]) return null\n            let nearRangeSquared = nearRange * nearRange\n            return layers[layer].groups\n                .map(group => group.polygons.filter(polygon => vec3.differenceSquared(nearPosition, polygon.centroid) < nearRangeSquared))\n                .flatten()\n        },\n        findPath: (startPosition, targetPosition, layer) => { //TODO if path is impossible (when positions belong to different groups)\n            if(!layers[layer]) return null //if not loaded return signal?\n            const closestNode = target.detectNearestNode(startPosition, layer),\n                  farthestNode = target.detectNearestNode(targetPosition, layer, { checkBounds: true }),\n                  graph = layers[layer].graph\n            if(!closestNode || !farthestNode) return null\n\n            const nodeList = astar.search(graph, closestNode, farthestNode)\n            \n            const pathBuilder = Funnel()\n            pathBuilder.push(startPosition)\n            for(let i = 1, length = nodeList.length; i < length; i++){\n                let prevPolygon = nodeList[i - 1],\n                    polygon = nodeList[i],\n                    portals = prevPolygon.portals[prevPolygon.neighbours.indexOf(polygon)]\n                pathBuilder.push(portals[0], portals[1])\n            }\n            pathBuilder.push(targetPosition)\n            const path = pathBuilder.traverse()\n            return path.slice(1)\n            //TODO additional path smoothing? as a separate function\n        }\n    }\n})","import {vec3, vec4, quat} from '../math'\nimport {Plane, Sphere, Cuboid, Cylinder, Polyhedron, transformGeometry} from './csg'\n\nconst shapeMapper = {\n    'plane': Plane,\n    'box': Cuboid,\n    'sphere': Sphere,\n    'cylinder': Cylinder,\n    'convex': Polyhedron\n}\n\n//TODO async, use vec3Pool\nconst deserialize = json => {\n    const offset = vec3(0), orientation = quat()\n    \n    const staticObjects = json.filter(object => !object.mass)\n    const solidGeometry = staticObjects.map(object => {\n        const position = object.position || vec3.ZERO,\n              quaternion = object.quaternion || quat()\n        return object.shapes.map(shape => {\n            if(!shapeMapper[shape.type]) throw new Error(`Unrecognized shape ${shape.type}`)\n            const localOffset = shape.offset || vec3.ZERO,\n                  localOrientation = shape.orientation || quat()\n            quat.multiply(localOrientation, quaternion, orientation)\n            vec3.transformQuat(localOffset, quaternion, offset)\n            vec3.add(position, offset, offset)\n            return transformGeometry(shapeMapper[shape.type](shape), vertex => {\n                //vec3.multiply(vertex, scale, vertex)\n                vec3.transformQuat(vertex, orientation, vertex)\n                vec3.add(vertex, offset, vertex)\n            })\n        })\n    })\n    return solidGeometry\n}\n\nexport {deserialize, shapeMapper}","import {factory, Stream} from '../util'\n\nfactory.declare('screen', target => ({\n        get width(){ \n            return Math.floor(Math.min(window.document.documentElement.clientWidth, window.innerWidth)) \n        },\n        get height(){ \n            return Math.floor(Math.min(window.document.documentElement.clientHeight, window.innerHeight)) \n        },\n        get dpr(){ return Math.round(window.devicePixelRatio) },\n        resize: Stream(emit => window.addEventListener('resize', event => emit({screen: target}), false))\n            .filter(Stream.minInterval(1000))\n            .default({screen: target}),\n        focus: Stream(emit => {\n            const prefixes = ['webkit','moz','ms','o'],\n                  visibilityProperty = ('hidden' in window.document) ? 'hidden' : prefixes\n            .map(prefix => prefix + 'Hidden')\n            .find(property => (property in window.document))\n            if(visibilityProperty)\n                window.document.addEventListener(visibilityProperty.slice(0, -6) + 'visibilitychange', event => emit({focus: !window.document[visibilityProperty]}), false)\n        }),\n        fullScreen: ['requestFullScreen','webkitRequestFullScreen','mozRequestFullScreen','msRequestFullScreen'].find(property => (property in window.document.body)),\n        ua: navigator.userAgent\n}))","import {logger} from '../../debug/logger'\nimport {factory, Signal, path} from '../../util'\n\nfactory.declare('resource', (target, options) => {\n    const xhr = new XMLHttpRequest(),\n          url = options.url,\n          extension = path(url).extension\n    xhr.open('GET', encodeURIComponent(url), true)\n    xhr.responseType = options.responseType || 'arraybuffer'\n    \n    return {\n        load: _ => Signal((onSuccess, onError) => {\n            logger.info('loader', `\\u23E9 loading: ${url}`)\n            xhr.onprogress = evt => !evt.lengthComputable || evt.loaded/evt.total\n            xhr.onreadystatechange = _ => {\n                if(xhr.readyState === XMLHttpRequest.DONE)\n                    if(xhr.status === 200) onSuccess({data: xhr.response, extension})\n                        else onError(xhr)\n            }\n            xhr.send(null)\n        })\n    }\n})","import {factory, Signal, Stream} from '../../util'\n\nconst cache = Object.create(null)\n\nfactory.declare('loader', (target, options) => {\n    const pending = Object.create(null),\n          batchSize = options.batchSize || 4,\n          loadQueue = Stream()\n    \n    loadQueue.buffer(batchSize, (url, onLoad, onError) => \n                     (cache[url] ? Signal.just(cache[url]) : \n                     factory.build('resource', { url })\n                     .load()\n                     .pipe(data => target.parse(url, data)))\n                     .listen(data => onLoad((pending[url].onSuccess((delete pending[url], cache[url] = data)), data)), \n                             error => onError((pending[url].onError(error), error))\n                    ))\n    \n    return {\n        fetch: url => pending[url] || (loadQueue.onSuccess(url), pending[url] = Signal()),\n        get pending(){ return Object.keys(pending).filter(el => el) }\n    }\n})\n\nexport {cache}","import {Signal, factory} from '../../util'\n\nfactory.declare('loader', (target, options) => {\n    const taskManager = options.manager,\n          parsers = []\n    \n    return {\n        taskManager,\n        appendParser: parsers.push.bind(parsers),\n        RESOURCE_TYPE: Object.create(null),\n        parse: (url, resource) => Signal(done => {\n            let idx = 0\n            const parsersSnapshot = parsers.slice(),\n                  length = parsersSnapshot.length,\n                  next = value => idx >= length ? done(value || resource) : parsersSnapshot[idx++].call(target, target, resource = value || resource, next.once())\n            next(resource)\n        })\n    }\n})","/*\n|HEADER uin32: vertexArray.length | indexArray.length | hierarchy.length | animations.length | dataFormat.length | materials.length\n|VERTICES float32 interleaved buffer data\n|BONES float32: [ parentId | buffer offset | buffer length | 16* bindPose | 16* localTransform ]\n|ANIMATION float32: [ bones | [ boneId | frames | [ time, position, rotation ]*frames ]*bones ]\n|INDICES uint16\n|FORMAT uint16: [ 8 - type | 2 - size | 2 - byteSize ]\n|materials uint8: JSON [[[boneId, ..], [filename, ..], ..], ..]\n*/\n\nconst VERTEX_ATTRIBUTE_TYPE = {\n    'position': 0x0001,\n    'normal':   0x0002,\n    'uv':       0x0004,\n    'joint':    0x0008,\n    'weight':   0x0010,\n    'tangent':  0x0020,\n    'color':    0x0040,\n    '_1':       0x0080,\n    '_2':       0x0100\n}\nconst mapAttrbuteName = (attributeTypes => type => attributeTypes.find(attrName => VERTEX_ATTRIBUTE_TYPE[attrName] === type))(Object.keys(VERTEX_ATTRIBUTE_TYPE))\n\nconst ATTRIBUTE_VALUE_TYPE = [\n    'BYTE',\n    'UNSIGNED_BYTE',\n    'SHORT',\n    'UNSIGNED_SHORT',\n    'FLOAT'\n]\n\nconst HEADER_LENGTH = 8\nconst JOINT_LENGTH = 16 + 16 + 4 \n\nconst log2 = val => { for(let n = 0; n < 32; (val = val >> 1) ? n++ : (val = n, n = 32)); return val; }\nconst pow2 = val => (2 << (val-1)) || 1\n\nconst decodeBuffer = arraybuffer => {\n    const header = new Uint32Array(arraybuffer, 0, HEADER_LENGTH),\n          vertexArray = new Float32Array(arraybuffer, header.byteOffset + header.byteLength, header[0]),\n          jointArray = new Float32Array(arraybuffer, vertexArray.byteOffset + vertexArray.byteLength, header[2] * JOINT_LENGTH),\n          animationArray = new Float32Array(arraybuffer, jointArray.byteOffset + jointArray.byteLength, header[3]),\n          indexArray = new Uint16Array(arraybuffer, animationArray.byteOffset + animationArray.byteLength, header[1]),\n          formatArray = new Uint16Array(arraybuffer, indexArray.byteOffset + indexArray.byteLength, header[4]),\n          materialArray = new Uint8Array(arraybuffer, formatArray.byteOffset + formatArray.byteLength, header[5]),\n          dataFormat = Array.prototype.slice.call(formatArray).map(attr => ({type: mapAttrbuteName(pow2(attr >> 8)), size: (attr & 0x03)+1, byteSize: ((attr & 0x0F) >> 2)+1})),\n          stride = dataFormat.reduce((size, attr) => size + attr.size, 0),\n          boneHierarchy = Array(header[2]).fill().map((_, idx) => idx * JOINT_LENGTH).map((offset, idx) => ({\n              parent: jointArray[offset + 0],\n              bufferOffset: jointArray[offset + 1],\n              bufferLength: jointArray[offset + 2],\n              //_: jointArray[offset + 3],\n              bindPose: new Float32Array(jointArray.buffer, jointArray.byteOffset + (offset + 4) * Float32Array.BYTES_PER_ELEMENT, 16),\n              localTransform: new Float32Array(jointArray.buffer, jointArray.byteOffset + (offset + 4 + 16) * Float32Array.BYTES_PER_ELEMENT, 16)\n          })),\n          materials = materialArray.length === 0 ? null : JSON.parse(String.fromCharCode.apply(null, materialArray)).map(material => ({bones: material[0], textureNames: material.slice(1)})),\n          animationLayers = []\n    let idx = 0\n    while(idx < animationArray.length)\n        animationLayers.push(Array(animationArray[idx++]).fill().reduce((bones, _) => (\n            bones[animationArray[idx++]] = Array(animationArray[idx++]).fill().map(_ => ({\n                time: animationArray[idx++],\n                position: new Float32Array([animationArray[idx++], animationArray[idx++], animationArray[idx++]]),\n                rotation: new Float32Array([animationArray[idx++], animationArray[idx++], animationArray[idx++], animationArray[idx++]])\n            })), bones), []))\n    for(let offset = 0, i = 0; i < dataFormat.length; offset += dataFormat[i++].size)\n        dataFormat[i].offset = offset\n    return {\n        indexArray, vertexArray, dataFormat, stride, \n        armature: boneHierarchy.length ? (boneHierarchy.unshift(null), boneHierarchy) : null, \n        animation: animationLayers.length ? animationLayers : null, materials\n    }\n}\n\nconst encodeBuffer = (vertexArray, indexArray = [], dataFormat, hierarchy = [], animation = [], materials) => {\n    const arraybuffer = new ArrayBuffer(HEADER_LENGTH * Uint32Array.BYTES_PER_ELEMENT +\n                                       vertexArray.length * Float32Array.BYTES_PER_ELEMENT +\n                                       hierarchy.length * JOINT_LENGTH * Float32Array.BYTES_PER_ELEMENT +\n                                       (animation.totalLength = animation.reduce((length, layer) => length + 1 + \n                                            (layer.totalLength = layer.reduce((l, tm) => l + (2 + tm.frameCount * (1+3+4)), 0)), 0)) * Float32Array.BYTES_PER_ELEMENT +\n                                       indexArray.length * Uint16Array.BYTES_PER_ELEMENT +\n                                       dataFormat.length * Uint16Array.BYTES_PER_ELEMENT +\n                                       (materials = materials ? JSON.stringify(materials,null,0) : '').length * Uint8Array.BYTES_PER_ELEMENT\n                                       ),\n          headerView = new Uint32Array(arraybuffer, 0, HEADER_LENGTH),\n          vertView = new Float32Array(arraybuffer, headerView.byteOffset + headerView.byteLength, vertexArray.length),\n          jointView = new Float32Array(arraybuffer, vertView.byteOffset + vertView.byteLength, hierarchy.length * JOINT_LENGTH),\n          animationView = new Float32Array(arraybuffer, jointView.byteOffset + jointView.byteLength, animation.totalLength),\n          indexView = new Uint16Array(arraybuffer, animationView.byteOffset + animationView.byteLength, indexArray.length),\n          formatView = new Uint16Array(arraybuffer, indexView.byteOffset + indexView.byteLength, dataFormat.length),\n          materialView = new Uint8Array(arraybuffer, formatView.byteOffset + formatView.byteLength, materials.length)\n    headerView[0] = vertexArray.length\n    headerView[1] = indexArray.length\n    headerView[2] = hierarchy.length\n    headerView[3] = animation.totalLength\n    headerView[4] = dataFormat.length\n    headerView[5] = materials.length\n    //headerView[6] = ? headerView[7] = ?\n    dataFormat.forEach((attr, idx) => formatView[idx] = (log2(VERTEX_ATTRIBUTE_TYPE[attr.type]) << 8) + ((attr.byteSize-1) << 2) + (attr.size-1))\n    hierarchy.forEach((bone, boneIdx) => {\n        const offset = boneIdx * JOINT_LENGTH\n        let index = 0\n        jointView[offset + index++] = bone.parent\n        jointView[offset + index++] = bone.bufferOffset || 0\n        jointView[offset + index++] = bone.bufferLength || 0\n        jointView[offset + index++] = 0\n        bone.bindPose.forEach(val => jointView[offset + index++] = val)\n        bone.localTransform.forEach(val => jointView[offset + index++] = val)\n    })\n    animation.reduce((offset, layer) => (animationView[offset++] = layer.length,\n        layer.forEach(bone => {\n            animationView[offset++] = bone.boneId\n            animationView[offset++] = bone.frameCount\n            bone.frames.forEach(frame => {\n                animationView[offset++] = frame.time;        animationView[offset++] = frame.position[0]; animationView[offset++] = frame.position[1]; animationView[offset++] = frame.position[2]\n                animationView[offset++] = frame.rotation[0]; animationView[offset++] = frame.rotation[1]; animationView[offset++] = frame.rotation[2]; animationView[offset++] = frame.rotation[3]\n            })\n        }), offset), 0)\n    indexArray.forEach((value, idx) => indexView[idx] = value)\n    vertexArray.forEach((value, idx) => vertView[idx] = value)\n    materials.split('').forEach((char, charIdx) => materialView[charIdx] = char.charCodeAt(0) & 0xFF)\n    return new Uint8Array(arraybuffer)\n}\n\nexport {VERTEX_ATTRIBUTE_TYPE, mapAttrbuteName, encodeBuffer, decodeBuffer}","import {Signal, factory} from '../../util'\nimport {decodeBuffer, VERTEX_ATTRIBUTE_TYPE} from '../../../tools/vmf'\n\nfactory.declare('loader', (target, options) => {\n    const taskManager = options.manager\n    \n    target.RESOURCE_TYPE.MESH = 'mesh'\n    \n    target.appendParser((loader, resource, next) => {\n        if(resource.extension !== 'vmf') return next()\n        \n        Signal.just(decodeBuffer(resource.data))\n            .listen(data => next({\n            data,\n            type: loader.RESOURCE_TYPE.MESH\n        }))\n    })\n})","import {factory, tie} from '../util'\n\nfactory.declare('gl_context', (target, options) => {\n    const ctxOptions = tie({ //TODO evaluate performance\n        alpha: false,\n        depth: true,\n        stencil: false,\n        antialias: false,\n        premultipliedAlpha: true,\n        //preserveDrawingBuffer: true\n    }, options.canvasOptions || {}),\n          canvas = window.document.createElement('canvas'),\n          gl = canvas.getContext('webgl', ctxOptions) || canvas.getContext('experimental-webgl', ctxOptions),\n          pipeline = factory.build('pipeline')\n    \n    canvas.addEventListener('webglcontextlost', event => {\n        event.preventDefault()\n    }, false)\n    \n    canvas.addEventListener('webglcontextrestored', event => null, false) //TODO handle restoring context?\n    \n    canvas.addEventListener('contextmenu', event => {\n        event.preventDefault()\n        event.stopPropagation()\n    }, false)\n    \n    gl.clearColor(0.0, 0.0, 0.0, 0.0)\n    gl.clearDepth(1.0)\n    gl.depthFunc(gl.LEQUAL)\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT)\n    \n\treturn {\n        canvas, gl, pipeline,\n\t\tresize: (width, height) => {\n\t\t\tcanvas.width = width\n\t\t\tcanvas.height = height\n\t\t\ttarget.resetViewport()\n\t\t},\n        resetViewport: _ => target.viewport = [canvas.width, canvas.height],\n        render: scene => {\n            gl.clear(gl.DEPTH_BUFFER_BIT)\n            return pipeline.run(target, scene)\n        },\n        drawElements: (size, offset) => gl.drawElements(gl.TRIANGLES, size, gl.UNSIGNED_SHORT, Uint16Array.BYTES_PER_ELEMENT * offset),\n        drawArrays: (size, offset) => gl.drawArrays(gl.TRIANGLES, offset, size)\n\t}\n})","const GLSL_TYPE_SIZE = {\n    'float':    1,\n    'vec2':     2,\n    'vec3':     3,\n    'vec4':     4,\n    \n    'int':      1,\n    'ivec2':    2,\n    'ivec3':    3,\n    'ivec4':    4,\n    \n    'mat2':     4,\n    'mat3':     9,\n    'mat4':     16,\n    \n    'sampler2D': 1,\n    'samplerCube': 1\n}\n\nconst GL_TYPE_SIZE = {\n    'BYTE': Int8Array.BYTES_PER_ELEMENT,\n    'SHORT': Int16Array.BYTES_PER_ELEMENT,\n    'UNSIGNED_BYTE': Uint8Array.BYTES_PER_ELEMENT,\n    'UNSIGNED_SHORT': Uint16Array.BYTES_PER_ELEMENT,\n    'FLOAT': Float32Array.BYTES_PER_ELEMENT\n}\n\nconst GL_GLSL_MAP = {\n    'FLOAT':        'float',\n    'FLOAT_VEC2':   'vec2',\n    'FLOAT_VEC3':   'vec3',\n    'FLOAT_VEC4':   'vec4',\n    \n    'INT':          'int',\n    'INT_VEC2':     'ivec2',\n    'INT_VEC3':     'ivec3',\n    'INT_VEC4':     'ivec4',\n\n    'FLOAT_MAT2':   'mat2',\n    'FLOAT_MAT3':   'mat3',\n    'FLOAT_MAT4':   'mat4',\n\n    'SAMPLER_2D':   'sampler2D',\n    'SAMPLER_CUBE': 'samplerCube'\n}\n\nconst GLSL_TYPE_MAP = {}\n\nconst DEFAULT_GLSL_VALUE = {\n    'float': size => size === 1 ? 0.0 : new Float32Array(size),\n    'vec2': size => new Float32Array(2 * size),\n    'vec3': size => new Float32Array(3 * size),\n    'vec4': size => new Float32Array(4 * size),\n    \n    'int': size => size === 1 ? 0 : new Int32Array(size),\n    'ivec2': size => new Int32Array(2 * size),\n    'ivec3': size => new Int32Array(3 * size),\n    'ivec4': size => new Int32Array(4 * size),\n    \n    'mat2': () => new Float32Array(4),\n    'mat3': () => new Float32Array(9),\n    'mat4': () => new Float32Array(16),\n    \n    'sampler2D': size => size === 1 ? 0 : new Int32Array(size),\n    'samplerCube': size => size === 1 ? 0 : new Int32Array(size)\n}\n\nconst GLSL_SETTERS = {\n    'float':    'uniform1f(loc,v)',\n    'vec2':     'uniform2f(loc,v[0],v[1])',\n    'vec3':     'uniform3f(loc,v[0],v[1],v[2])',\n    'vec4':     'uniform4f(loc,v[0],v[1],v[2],v[3])',\n    \n    'int':      'uniform1i(loc,v)',\n    'ivec2':    'uniform2i(loc,v[0],v[1])',\n    'ivec3':    'uniform3i(loc,v[0],v[1],v[2])',\n    'ivec4':    'uniform4i(loc,v[0],v[1],v[2],v[3])',\n    \n    'mat2':     'uniformMatrix2fv(loc,false,v)',\n    'mat3':     'uniformMatrix3fv(loc,false,v)',\n    'mat4':     'uniformMatrix4fv(loc,false,v)',\n    \n    'sampler2D':'uniform1i(loc,v)',\n    'samplerCube':'uniform1i(loc,v)'\n}\n\nconst GLSL_ARRAY_SETTERS = {\n    'float':    'uniform1fv(loc,v)',\n    'vec2':     'uniform2fv(loc,v)',\n    'vec3':     'uniform3fv(loc,v)',\n    'vec4':     'uniform4fv(loc,v)',\n    \n    'int':      'uniform1iv(loc,v)',\n    'ivec2':    'uniform2iv(loc,v)',\n    'ivec3':    'uniform3iv(loc,v)',\n    'ivec4':    'uniform4iv(loc,v)',\n    \n    'mat2':     'uniformMatrix2fv(loc,false,v)',\n    'mat3':     'uniformMatrix3fv(loc,false,v)',\n    'mat4':     'uniformMatrix4fv(loc,false,v)',\n    \n    'sampler2D':'uniform1iv(loc,v)',\n    'samplerCube':'uniform1iv(loc,v)'\n}\n\nconst MAX_INDEX_ARRAY_LENGTH = Math.pow(2, 16) - 1\n\nconst ATTRIBUTE_LOCATIONS = {\n    'position': 0,\n    'normal': 1,\n    'uv': 2,\n    'joint': 4,\n    'weight': 5,\n    'tangent': 6,\n    'color': 7,\n    'lm_uv': 8\n}\n\nconst ATTRIB_GL_TYPE = [null,'UNSIGNED_BYTE','UNSIGNED_SHORT',0,'FLOAT']\n\nconst MAX_BONES_PER_MESH = 64\n    \nexport {GLSL_TYPE_SIZE, GL_GLSL_MAP, GLSL_TYPE_MAP, DEFAULT_GLSL_VALUE, GLSL_SETTERS, GLSL_ARRAY_SETTERS, \n    GL_TYPE_SIZE, MAX_INDEX_ARRAY_LENGTH, ATTRIBUTE_LOCATIONS, ATTRIB_GL_TYPE, MAX_BONES_PER_MESH}","const GL_BLEND_MODES = {\n    blend: gl => {\n        gl.blendEquation(gl.FUNC_ADD)\n        gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA)\n    },\n    add: gl => {\n        gl.blendEquation(gl.FUNC_ADD)\n        gl.blendFunc(gl.SRC_ALPHA, gl.ONE)\n    },\n    multiply: gl => {\n        gl.blendEquation(gl.FUNC_ADD)\n        gl.blendFunc(gl.DST_COLOR, gl.ZERO)\n    },\n    subtract: gl => {\n        gl.blendEquation(gl.FUNC_REVERSE_SUBTRACT)\n        gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA)\n    }\n}\n\n//TODO \n\n\n/*\ngl.FUNC_ADD\ngl.FUNC_SUBTRACT\ngl.FUNC_REVERSE_SUBTRACT\n\n\n\ngl.ZERO\ngl.ONE\ngl.SRC_COLOR\ngl.ONE_MINUS_SRC_COLOR\ngl.DST_COLOR\ngl.ONE_MINUS_DST_COLOR\ngl.SRC_ALPHA\ngl.ONE_MINUS_SRC_ALPHA\ngl.DST_ALPHA\ngl.ONE_MINUS_DST_ALPHA\ngl.CONSTANT_COLOR\ngl.ONE_MINUS_CONSTANT_COLOR\ngl.CONSTANT_ALPHA\ngl.ONE_MINUS_CONSTANT_ALPHA\ngl.SRC_ALPHA_SATURATE\n\n*/\n\nexport {GL_BLEND_MODES}\n\n\n//gl.blendFunc(gl.ONE, gl.ONE) //gl.blendFuncSeparate(gl.ONE, gl.ONE, gl.ONE, gl.ONE)\n\n//https://github.com/mrdoob/webgl-blendfunctions\n    //TODO move to context state definitions\n    //TODO add more blend modes\n//    const blendModes = {\n//        blend: {\n//            src: gl.SRC_ALPHA,\n//            dest: gl.ONE_MINUS_SRC_ALPHA\n//        },\n//        add: {\n//            src:  gl.SRC_ALPHA,\n//            dest: gl.ONE\n//        },\n//        multiply: {\n//            src: gl.DST_COLOR,\n//            dest: gl.ZERO\n//        },\n//        blend_premultiply: {\n//            src:  gl.ONE,\n//            dest: gl.ONE_MINUS_SRC_ALPHA\n//        },\n//        blend_no_alpha: {\n//            src:  gl.SRC_COLOR,\n//            dest: gl.ONE_MINUS_SRC_COLOR\n//        },\n//        subtract: {\n//            src:  gl.SRC_ALPHA,\n//            dest: gl.ONE_MINUS_SRC_ALPHA,\n//            eq:   gl.FUNC_REVERSE_SUBTRACT\n//        },\n//        inverse: {\n//            src:  gl.ONE_MINUS_DST_COLOR,\n//            dest: gl.ONE_MINUS_SRC_COLOR\n//        }\n//    }\n//    gl.enable( gl.BLEND );\n//gl.blendEquation( gl.FUNC_ADD );\n//gl.blendFunc( gl.CONSTANT_ALPHA, gl.SRC_COLOR );","import {factory, snapshot} from '../../util'\nimport {vec2, vec4} from '../../math'\nimport {GL_BLEND_MODES} from './blendModes'\n\nfactory.declare('gl_context', target => {\n    const gl = target.gl,\n          bindings = Object.create(null),\n          state = {\n              depthTest: false,\n              viewport: vec2(),\n              colorMask: vec4(true, true, true, true),\n              clearColor: vec4(0,0,0,0),\n              depthMask: true,\n              culling: 0,\n              blendMode: 0\n          }\n    \n    let temporaryArrayBuffer = new ArrayBuffer(0),\n        saveState = new Function('state', 'snapshot', Object.keys(state).map(param => `snapshot.${param} = state.${param}${state[param].slice ? '.slice()' : ''}`).join(';')+';return snapshot;').bind(target, state),\n        restoreState = new Function('target', 'snapshot', Object.keys(state).map(param => `target.${param} = snapshot.${param}`).join(';')).bind(target, target),\n        snapshotStack = []\n    \n    return {\n        get state(){ return snapshot(state) },\n        bindings,\n        onBind: (location, element) => bindings[location] === element ? false : (bindings[location] = element, true),\n        allocateUint16: size => {\n            const byteSize = size * Uint16Array.BYTES_PER_ELEMENT\n            if(temporaryArrayBuffer.byteLength < byteSize)\n                temporaryArrayBuffer = new ArrayBuffer(byteSize)\n            return new Uint16Array(temporaryArrayBuffer, 0, size)\n        },\n        set depthTest(value){\n            if(state.depthTest !== value)\n                state.depthTest = (value ? gl.enable(gl.DEPTH_TEST) : gl.disable(gl.DEPTH_TEST), value)\n        },\n        set viewport(value){\n            if(value[0] !== state.viewport[0] || value[1] !== state.viewport[1]){\n                vec2.copy(value, state.viewport)\n                gl.viewport(0, 0, value[0], value[1])\n            }\n        },\n        set colorMask(value){\n            if(value[0] !== state.colorMask[0] || value[1] !== state.colorMask[1] || value[2] !== state.colorMask[2] || value[3] !== state.colorMask[3]){\n                vec4.copy(value, state.colorMask)\n                gl.colorMask(value[0], value[1], value[2], value[3])\n            }\n        },\n        set clearColor(value){\n            if(value[0] !== state.clearColor[0] || value[1] !== state.clearColor[1] || value[2] !== state.clearColor[2] || value[3] !== state.clearColor[3]){\n                vec4.copy(value, state.clearColor)\n                gl.clearColor(value[0], value[1], value[2], value[3])\n            }\n        },\n        set depthMask(value){\n            if(state.depthMask !== value)\n                state.depthMask = (gl.depthMask(value), value)\n        },\n        set culling(value){\n            if(state.culling !== value){\n                state.culling = value\n                if(!value) gl.disable(gl.CULL_FACE)\n                else{\n                    gl.enable(gl.CULL_FACE)\n                    if(value === 'back') gl.cullFace(gl.BACK)\n                    if(value === 'front') gl.cullFace(gl.FRONT)\n                }\n            }\n        },\n        set blendMode(value){\n            if(state.blendMode !== value){\n                state.blendMode = value\n                if(!value) gl.disable(gl.BLEND)\n                else{\n                    gl.enable(gl.BLEND)\n                    GL_BLEND_MODES[value](gl)\n                }\n            }\n        },\n        saveState: _ => (snapshotStack.push(saveState(Object.create(null))), target),\n        restoreState: _ => (restoreState(snapshotStack.pop()), target)\n    }\n})","import {factory} from '../../util'\n\nfactory.declare('gl_context', target => {\n    const gl = target.gl,\n          extensions = {\n              //instanced_arrays: gl.getExtension('ANGLE_instanced_arrays'),\n              //blend_minmax: gl.getExtension('EXT_blend_minmax'),\n              //disjoint_timer_query: gl.getExtension('EXT_disjoint_timer_query'),\n              frag_depth: gl.getExtension('EXT_frag_depth'),\n              shader_texture_lod: gl.getExtension('EXT_shader_texture_lod'),\n              //sRGB: gl.getExtension('EXT_sRGB'),\n              //texture_filter_anisotropic: gl.getExtension('EXT_texture_filter_anisotropic') || gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic'),\n              //element_index_uint: gl.getExtension('OES_element_index_uint'),\n              standadrd_derivatives: gl.getExtension('OES_standard_derivatives'),\n              texture_float: gl.getExtension('OES_texture_float'),\n              texture_float_linear: gl.getExtension(\"OES_texture_float_linear\"),\n              texture_half_float: gl.getExtension('OES_texture_half_float'),\n              texture_half_float_linear: gl.getExtension('OES_texture_half_float_linear'),\n              vertex_array_object: gl.getExtension('OES_vertex_array_object') || gl.getExtension('MOZ_OES_vertex_array_object') || gl.getExtension('WEBKIT_OES_vertex_array_object'),\n              depth_texture: gl.getExtension('WEBGL_depth_texture') || gl.getExtension('WEBKIT_WEBGL_depth_texture'),\n              //draw_buffers: gl.getExtension('WEBGL_draw_buffers'),\n              //lose_context: gl.getExtension('WEBGL_lose_context') || gl.getExtension('WEBKIT_WEBGL_lose_context') \n          }\n    if(extensions.texture_half_float)\n        gl.HALF_FLOAT = extensions.texture_half_float.HALF_FLOAT_OES\n    if(extensions.depth_texture)\n        gl.UNSIGNED_INT_24_8 = extensions.depth_texture.UNSIGNED_INT_24_8_WEBGL\n    \n    return {\n        extensions\n    }\n})","import {vec2, vec3, vec4, mat4} from '../../math'\n\nconst Autowire = root => {\n    const unfold = (prefix, node) => Object.keys(node).map(key => {\n        let value = node[key],\n            address = `${prefix}${ isNaN(key) ? `.${key}` : `[${key}]` }`\n        if(typeof value === 'function') return null\n        if(typeof value === 'number') return `if(!isNaN(src${address}))dst${address}=src${address};`\n        if(value.buffer instanceof ArrayBuffer) return `if(src${address})dst${address}=src${address};`\n        if(typeof value === 'object') return `if(src${address}){${unfold(address, value)}}`\n    }).join('\\n')\n    return new Function('dst', 'src', unfold('', root)).bind(null, root)\n}\n\nexport {Autowire}","import {GLSL_TYPE_MAP, DEFAULT_GLSL_VALUE, GLSL_SETTERS, GLSL_ARRAY_SETTERS} from '../glutil'\nimport {Autowire} from './autowire'\n\nconst uniformGetter = function(){\n    return this.value\n}\nconst uniformArraySetter = function(value){\n    this.value.set(value)\n    if(!this.dirtyFlag)\n        this.dirtyFlag = (this.dirty.push(this), true)\n}\nconst uniformSetter = function(value){\n    if(this.value === value) return false\n    this.value = value\n    if(!this.dirtyFlag)\n        this.dirtyFlag = (this.dirty.push(this), true)\n}\nconst updateUniforms = function(){\n    let idx = this.length,\n        uniform = null\n    while(idx--){\n        uniform = this[idx]\n        uniform.update(uniform.value)\n        uniform.dirtyFlag = false\n    }\n    this.length = 0\n}\n\nconst extractShaderUniforms = (gl, program) => {\n    const uniformAccessObject = Object.create(null)\n    const dirty = []\n    let idx = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS)\n    while(idx--){\n        const data = gl.getActiveUniform(program, idx),\n              name = data.name.replace(/\\[0\\]$/,''),\n              type = GLSL_TYPE_MAP[data.type],\n              uniform = {\n                  type, dirty,\n                  dirtyFlag: true,\n                  location: gl.getUniformLocation(program, name),\n                  size: data.size,\n                  value: DEFAULT_GLSL_VALUE[type](data.size)\n              }\n        uniform.update = (new Function('gl','loc','v', 'gl.'+(data.size===1 ? GLSL_SETTERS[type] : GLSL_ARRAY_SETTERS[type]))).bind(uniform, gl, uniform.location)\n        name.replace(/\\]/g,'').split(/\\.|\\[/).reduce((acc, property, idx, list) => {            \n            if(idx+1 >= list.length)\n                Object.defineProperty(acc, property, {\n                    get: uniformGetter.bind(uniform),\n                    set: isNaN(uniform.value) ? uniformArraySetter.bind(uniform) : uniformSetter.bind(uniform),\n                    enumerable: true\n                })\n            else\n                acc[property] = acc[property] || (isNaN(list[idx+1]) ? Object.create(null) : [])\n            return acc[property]                              \n        }, uniformAccessObject)\n        dirty.push(uniform)\n    } \n    uniformAccessObject.update = updateUniforms.bind(dirty)\n    uniformAccessObject.autowire = Autowire(uniformAccessObject)\n    return uniformAccessObject\n}\n\nexport {extractShaderUniforms}","import {GLSL_TYPE_MAP, GLSL_TYPE_SIZE, GL_TYPE_SIZE, ATTRIBUTE_LOCATIONS} from '../glutil'\n\nconst bindAttribute = function(gl, type, normalized, stride, offset){\n    gl.enableVertexAttribArray(this.location)\n    gl.vertexAttribPointer(this.location, this.size, type || gl.FLOAT, normalized || false, stride, offset)\n}\n\nconst bindAttributeLocation = (gl, program, location, name) => gl.bindAttribLocation(program, location, name)\n\nconst preBindAttributes = (gl, program, attributeLocations = ATTRIBUTE_LOCATIONS) => Object.keys(attributeLocations)\n.forEach(attribName => bindAttributeLocation(gl, program, attributeLocations[attribName], attribName))\n\nconst extractShaderAttributes = (gl, program, attributeLocations = ATTRIBUTE_LOCATIONS) => {\n    const attributes = Object.create(null)\n    let idx = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES)\n    while(idx--){\n        const data = gl.getActiveAttrib(program, idx),\n              type = GLSL_TYPE_MAP[data.type],\n              attribute = {\n                type,\n                size: GLSL_TYPE_SIZE[type],\n                location: gl.getAttribLocation(program, data.name)\n              }\n        attribute.bind = bindAttribute.bind(attribute, gl)\n        attributes[data.name] = attribute\n        if(attributeLocations[data.name] !== undefined)\n            bindAttributeLocation(gl, program, attributeLocations[data.name], data.name)\n    }\n    return attributes\n}\n\nexport {extractShaderAttributes, preBindAttributes}","import {logger} from '../../debug/logger'\nimport {factory} from '../../util'\nimport {extractShaderUniforms} from './uniformAccessObject'\nimport {extractShaderAttributes, preBindAttributes} from './attributeBinder'\n\nconst compileShader = (gl, type, src) => {\n    const shader = gl.createShader(type)\n    gl.shaderSource(shader, src)\n    gl.compileShader(shader)\n    return gl.getShaderParameter(shader, gl.COMPILE_STATUS) ? shader : (logger.info('webgl', gl.getShaderInfoLog(shader)), null)\n}\n\nconst compileShaderProgram = (gl, vert, frag, attributeLocations) => {\n    const program = gl.createProgram(),\n          vertShader = compileShader(gl, gl.VERTEX_SHADER, vert),\n          fragShader = compileShader(gl, gl.FRAGMENT_SHADER, frag)\n    gl.attachShader(program, vertShader)\n    gl.attachShader(program, fragShader)\n    \n    preBindAttributes(gl, program, attributeLocations)\n    \n    gl.linkProgram(program)\n    gl.deleteShader(vertShader)\n    gl.deleteShader(fragShader)\n    return gl.getProgramParameter(program, gl.LINK_STATUS) ? program : (logger.info('webgl', gl.getProgramInfoLog(program)), gl.deleteProgram(program), null)\n}\n\nfactory.declare('shader', (target, {ctx, vert, frag, attributeLocations}) => {\n    const gl = ctx.gl,\n          program = compileShaderProgram(gl, vert, frag, attributeLocations),\n          uao = extractShaderUniforms(gl, program),\n          attributes = extractShaderAttributes(gl, program, attributeLocations) //TODO why we are doing it twice? preBind should be enough?\n\t\t\n\treturn {\n        attributes, uao, program,\n        use: _ => {\n            ctx.onBind('shader', target) && gl.useProgram(program)\n            uao.update()\n        },\n        clear: _ => gl.deleteProgram(program)\n\t}\n})\n\nexport {compileShader, compileShaderProgram}","import {tie} from '../../util'\nconst vglsl = Object.create(null)\n\nvglsl.PRECISION = {\n    LOW: 'lowp',\n    MEDIUM: 'mediump',\n    HIGH: 'highp'\n}\n\nvglsl.createShader = _ => {\n    const builder = Object.create(null)\n    function insert(array, item, comparator){\n        const index = array.findIndex(comparator)\n        if(index == -1) array.push(item)\n    }\n    let precision = vglsl.PRECISION.MEDIUM,\n        extensions = [],\n        structs = [],\n        constants = [],\n        functions = [],\n        uniforms = [],\n        varyings = [],\n        attributes = [],\n        main = []\n    \n    return tie(builder, {\n        get precision(){ return precision },\n        setPrecision: p => (precision = p, builder),\n        extension: name => (insert(extensions, name, e => e === e), builder),\n        const: (type, name, value) => (insert(constants, {type, name, value}, c => c.name === name), builder),\n        struct: (name, params) => (insert(structs, {name, params}, s => s.name === name), builder),\n        function: (head, body) => (insert(functions, {head, body}, f => f.head === head), builder),\n        uniform: (type, name) => (insert(uniforms, {type, name}, u => u.name === name), builder),\n        varying: (type, name) => (insert(varyings, {type, name}, v => v.name === name), builder),\n        attribute: (type, name) => (insert(attributes, {type, name}, a => a.name === name), builder),\n        main: body => (main = body, builder),\n        append: (target, out = vglsl.createShader()) => {\n            if(target) target.append(null, out)\n            out.setPrecision(precision)\n            extensions.forEach(e => out.extension(e))\n            structs.forEach(s => out.struct(s.name, s.params))\n            constants.forEach(c => out.const(c.type, c.name, c.value))\n            functions.forEach(f => out.function(f.head, f.body))\n            uniforms.forEach(u => out.uniform(u.type, u.name))\n            varyings.forEach(v => out.varying(v.type, v.name))\n            attributes.forEach(a => out.attribute(a.type, a.name))\n            if(main.length) out.main(main)\n            return out\n        },\n        build: _ => [].concat.apply([], [\n            extensions.map(e => `#extension ${e} : enable`),\n            [[`precision ${precision} float;`]],\n            attributes.map(a => `attribute ${a.type} ${a.name};`),\n            structs.map(s => `struct ${s.name} {${s.params.join(';')};};`),\n            constants.map(c => `const ${c.type} ${c.name} = ${c.value};`),\n            varyings.map(v => `varying ${v.type} ${v.name};`),\n            uniforms.map(u => `uniform ${u.type} ${u.name};`),\n            functions.map(f => `${f.head}{${f.body.join('\\n')}}`),\n            [`void main(void){${main.join('\\n')}}`]\n        ]).join('\\n')\n    })\n}\n\nvglsl.merge = (...shaders) => shaders.reduce((a, b) => ({\n    vert: (a.vert && b.vert && b.vert.append(a.vert)) || a.vert || b.vert,\n    frag: (a.frag && b.frag && b.frag.append(a.frag)) || a.frag || b.frag\n}), {})\n\nexport {vglsl}","import { vglsl } from '../vglsl'\n\nexport const fullscreen = {\n    vert: vglsl.createShader()\n    .attribute('vec2', 'uv')\n    .varying('vec2', 'uvPass')\n    .main([\n        'uvPass = uv;',\n        'gl_Position = vec4(uv * 2.0 - 1.0, 0.0, 1.0);',\n    ]),\n    frag: vglsl.createShader()\n    .varying('vec2', 'uvPass')\n    .uniform('sampler2D', 'sampler')\n    .uniform('vec2', 'pixelSize')\n    .main([\n        'gl_FragColor = texture2D(sampler, uvPass);'\n    ])\n}\n//TODO rename and move to skybox\nexport const fullscreen_cube = {\n    vert: vglsl.createShader()\n    .attribute('vec3', 'position')\n    \n    .uniform('mat4', 'projectionMatrix')\n    .uniform('mat4', 'modelViewMatrix')\n    \n    .varying('vec3', 'uvPass')\n    .main([\n        'uvPass = position;',\n        'gl_Position = projectionMatrix * (modelViewMatrix * vec4(position, 1.0));',\n        'gl_Position.z = gl_Position.w;'\n    ]),\n    frag: vglsl.createShader()\n    .varying('vec3', 'uvPass')\n    .uniform('samplerCube', 'sampler')\n    .main([\n        'gl_FragColor = textureCube(sampler, uvPass);'\n    ])\n}","import {vglsl} from '../vglsl'\n\nconst depth = {\n    vert: vglsl.createShader()\n    .attribute('vec3', 'position')\n    .attribute('vec3', 'normal')\n    \n    .uniform('mat4', 'viewMatrix')\n    .uniform('mat4', 'projectionMatrix')\n    .uniform('mat4', 'modelMatrix')\n    \n    .main([\n        'vec4 screenPosition = viewMatrix * modelMatrix * vec4(position, 1.0);',\n        'vec4 screenNormal = normalize(viewMatrix * modelMatrix * vec4(normal, 0.0));',\n        'vec3 lightDirection = normalize(screenPosition.xyz);',\n        'screenPosition -= screenNormal * 16.0 * max(dot(screenNormal.xyz, lightDirection), 0.0);',\n        'gl_Position = projectionMatrix * screenPosition;',\n    ]),\n    frag: vglsl.createShader()\n    .main([ 'gl_FragColor = vec4(0.0,0.0,0.0,0.0);' ])\n}\n\nconst encodedDepth = {\n    vert: vglsl.createShader()\n    .const('vec4', 'bitShift', 'vec4(1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0)')\n    .const('vec4', 'bitMask', 'vec4(1.0/256.0, 1.0/256.0, 1.0/256.0, 0.0)')\n    .function('vec4 packDepth(float depth)', [\n        'vec4 rgbaDepth = fract(depth * bitShift);',\n        'rgbaDepth -= rgbaDepth.gbaa * bitMask;',\n        'return rgbaDepth;'\n    ])\n    \n    .const('vec4', 'bitShift', 'vec4(1.0, 1.0/256.0, 1.0/(256.0 * 256.0), 1.0/(256.0*256.0*256.0))')\n    .function('float unpackDepth(vec4 rgbaDepth)', [\n        'return dot(rgbaDepth * bitShift);'\n    ])\n}\n\nexport {depth}","import {vglsl} from '../vglsl'\n\nconst spotlight = {\n    vert: vglsl.createShader()\n    .uniform('mat4', 'lightViewMatrix')\n    \n    .varying('vec3', 'lightDirectionPass')\n    .varying('vec3', 'lightViewPositionPass')\n    \n    .function('vec3 extractLightPosition(mat4 lvm)', [ 'return -vec3(lvm[3]) * mat3(lvm);' ])\n    \n    .function('void setupLight(vec4 worldPosition)', [\n        'lightDirectionPass = extractLightPosition(lightViewMatrix) - worldPosition.xyz;',\n        'lightViewPositionPass = vec4(lightViewMatrix * worldPosition).xyz;'\n    ]),\n    frag: vglsl.createShader()\n    .varying('vec3', 'lightDirectionPass')\n    .varying('vec3', 'lightViewPositionPass')\n    \n    .struct('SpotLight', [\n        'vec3 color',\n        'vec3 direction',\n        'float radius',\n        'float outerAngle',\n        'float innerAngle'\n    ])\n    \n    .uniform('SpotLight', 'light')\n    \n    .function('float distanceAttenuation(float radius, float distance, float cutoff)', [\n        'float denom = max(distance - radius, 0.0)/radius + 1.0;',\n        'float attenuation = 1.0 / (denom*denom);',\n        'return max((attenuation - cutoff) / (1.0 - cutoff), 0.0);'\n    ])\n\n    .function('float spotAttenuation(vec3 lightDirection)', [\n        'float spotAngle = dot(-lightDirection, light.direction);',\n        'return clamp((spotAngle - light.outerAngle) / (light.innerAngle - light.outerAngle), 0.0, 1.0);' \n    ])\n    \n    .function('float calcShadow(void)', ['return 1.0;'])\n    \n    .function('vec3 calcLight(vec3 normal, vec3 viewDirection)', [\n        'vec3 lightDirection = normalize(lightDirectionPass);',\n        'float lambert = max(dot(normal, lightDirection), 0.0);',\n        'if(lambert < 0.0){ return vec3(0.0, 0.0, 0.0); }',\n        'float distance = length(lightViewPositionPass);', //TODO optimise, by calculating distance once, and then normalizing direction vector\n        \n        'float distAtt = distanceAttenuation(light.radius, distance, 0.0001);',\n        \n        'float spotAtt = spotAttenuation(lightDirection);',\n        \n        'vec3 lightFactor = light.color * lambert * distAtt * spotAtt * 5.0;',\n        'return lightFactor * calcShadow();'\n    ])\n}\n\n//TODO rework for correct implementation\nconst omnilight = {\n    vert: vglsl.createShader()\n    .uniform('vec3', 'lightPosition')\n    \n    .varying('vec3', 'lightDirectionPass')\n    \n    .function('void setupLight(vec4 worldPosition)', [\n        'lightDirectionPass = lightPosition - worldPosition.xyz;',\n    ]),\n    frag: vglsl.createShader()\n    .varying('vec3', 'lightDirectionPass')\n    \n    .struct('OmniLight', [\n        'vec3 color',\n        'float radius'\n    ])\n    \n    .uniform('OmniLight', 'light')\n    \n    .function('float distanceAttenuation(float radius, float distance, float cutoff)', [\n        'float denom = max(distance - radius, 0.0)/radius + 1.0;',\n        'float attenuation = 1.0 / (denom*denom);',\n        'return max((attenuation - cutoff) / (1.0 - cutoff), 0.0);'\n    ])\n    \n    .function('float calcShadow(void)', ['return 1.0;'])\n    \n    .function('vec3 calcLight(vec3 normal, vec3 viewDirection)', [\n        'vec3 lightDirection = normalize(lightDirectionPass);',\n        'float lambert = max(dot(normal, lightDirection), 0.0);',\n        'if(lambert < 0.0){ return vec3(0.0, 0.0, 0.0); }',\n        'float distance = length(lightDirectionPass);',\n        'float distAtt = distanceAttenuation(light.radius, distance, 0.0001);',\n        'vec3 lightFactor = light.color * lambert * distAtt * 5.0;',\n        'return lightFactor * calcShadow();'\n    ])\n}\n\nconst hemisphere = {\n    vert: vglsl.createShader()\n    .function('void setupLight(vec4 worldPosition)', []),\n    frag: vglsl.createShader()\n    .struct('HemisphereLight', [\n        'vec3 up',\n        'vec3 skyColor',\n        'vec3 groundColor'\n    ])\n    \n    .uniform('HemisphereLight', 'light')\n    \n    .function('vec3 calcLight(vec3 normal, vec3 viewDirection)', [\n        'float NdotL = dot(normal, light.up);',\n        'float lightInfluence = NdotL * 0.5 + 0.5;',\n        'return mix(light.groundColor, light.skyColor, lightInfluence);'\n    ])\n}\n\nexport {spotlight, omnilight, hemisphere}","import {vglsl} from '../vglsl'\n\nconst static_geometry = {\n    vert: vglsl.createShader()\n    .attribute('vec3', 'position')\n    .attribute('vec3', 'normal')\n    .attribute('vec2', 'uv')\n    .uniform('mat4', 'Pmat')\n    .uniform('mat4', 'MVmat')\n    .varying('vec3', 'vNormal')\n    .varying('vec2', 'vTexCoords')\n    .varying('vec3', 'vViewDir')\n    \n    /*.function('', [\n        'vec3 normal = normalize(normalMatrix, normal);',\n        'vec3 tangent = normalize(normalMatrix, tangent.xyz);',\n        'vec3 binormal = cross(normalMatrix)'\n    ])*/\n    .main([\n        //::::ALTERNATIVE::::\n        //'mat3 Nmat = mat3(MVmat[0][0],MVmat[1][0],MVmat[2][0],MVmat[0][1],MVmat[1][1],MVmat[2][1],MVmat[0][2],MVmat[1][2],MVmat[2][2]);'\n        //'vNormal = normalize(normal * Nmat);'\n        'mat3 Nmat = mat3(MVmat[0][0],MVmat[0][1],MVmat[0][2],MVmat[1][0],MVmat[1][1],MVmat[1][2],MVmat[2][0],MVmat[2][1],MVmat[2][2]);',\n        'vec4 viewPosition = MVmat * vec4(position, 1.0);',\n        'gl_Position = Pmat * viewPosition;',\n        'vNormal = normalize(Nmat * normal);',\n        'vViewDir = normalize(-viewPosition.xyz);',\n        'vTexCoords = uv;',\n        'setupLight();'\n    ]),\n    frag: vglsl.createShader()\n    .varying('vec3', 'vNormal')\n    .varying('vec2', 'vTexCoords')\n    .varying('vec3', 'vViewDir')\n    .uniform('sampler2D', 'albedo')\n\n    .main([\n        'vec4 color = texture2D(albedo, vTexCoords);',\n\n        'if(color.a <= 0.1) discard;',\n        \n        'vec3 normal = normalize(vNormal);',\n        'vec3 viewDirection = normalize(vViewDir);',\n        //'normal = pertubNormal(normal, viewDirection, vTexCoords);',\n        'vec3 totalLight = calcLighting(normal, viewDirection);',\n        'gl_FragColor = vec4(applyFog(totalLight * color.rgb), color.a);'\n        //,'gl_FragColor = vec4(totalLight * 0.8, 1.0);'\n    ])\n}\n\nexport {static_geometry}","import {vglsl} from '../vglsl'\nimport {MAX_BONES_PER_MESH} from '../../glutil'\n\nconst linear_skinning = {\n    vert: vglsl.createShader()\n    .attribute('vec4', 'joint')\n    .attribute('vec4', 'weight')\n    \n    //.uniform('mat4', `boneMatrix[${MAX_BONES_PER_MESH}]`)\n    .uniform('vec4', `boneMatrix[${(3*MAX_BONES_PER_MESH)}]`)\n    \n    \n    .function('mat4 getBoneMat(int jointIdx)', [\n        'vec4 col0 = boneMatrix[jointIdx*3+0];',\n        'vec4 col1 = boneMatrix[jointIdx*3+1];',\n        'vec4 col2 = boneMatrix[jointIdx*3+2];',\n        'return mat4(col0[0], col1[0], col2[0], 0.0,',\n                    'col0[1], col1[1], col2[1], 0.0,',\n                    'col0[2], col1[2], col2[2], 0.0,',\n                    'col0[3], col1[3], col2[3], 1.0);'\n    ])\n    \n    .function('mat4 calcJointTransform(void)', [\n        'return weight.x * getBoneMat(int(joint.x))',\n            '+ weight.y * getBoneMat(int(joint.y))',\n            '+ weight.z * getBoneMat(int(joint.z))',\n            '+ weight.w * getBoneMat(int(joint.w));'\n    ])\n}\nexport {linear_skinning}","import {vglsl} from '../vglsl'\nimport {MAX_BONES_PER_MESH} from '../../glutil'\n/*\nconst dualquat_skinning = {\n    vert: vglsl.createShader()\n    .attribute('vec3', 'position')\n    .attribute('vec3', 'normal')\n    .attribute('vec2', 'uv')\n    .attribute('vec4', 'joint')\n    .attribute('vec4', 'weight')\n    \n    .uniform('mat4', 'projectionMatrix')\n    .uniform('mat4', 'modelViewMatrix')\n    .uniform('vec4', `boneMatrix[${(2*MAX_BONES_PER_MESH)}]`)\n    \n    .varying('vec3', 'normalPass')\n    .varying('vec2', 'uvPass')\n    \n    .function('mat4 DQtoMat(vec4 dqReal, vec4 dqDual)', [\n        'float rx = dqReal.x, ry = dqReal.y, rz = dqReal.z, rw = dqReal.w;',\n        'float tx = dqDual.x, ty = dqDual.y, tz = dqDual.z, tw = dqDual.w;',\n        'float rxx = - (2.0 * rx * rx), ryy = - (2.0 * ry * ry), rzz = - (2.0 * rz * rz);',\n        'float rxy = (2.0 * rx * ry), rxz = (2.0 * rx * rz), rxw = (2.0 * rx * rw);',\n        'float ryz = (2.0 * ry * rz), ryw = (2.0 * ry * rw), rzw = (2.0 * rw * rz);',\n        'return mat4(',\n        '1.0 + ryy + rzz, rxy + rzw, rxz - ryw, 0,',\n        'rxy - rzw, 1.0 + rxx + rzz, ryz + rxw, 0,',\n        'rxz + ryw, ryz - rxw, 1.0 + rxx + ryy, 0,',\n        '2.0 * (-tw * rx + tx * rw - ty * rz + tz * ry),',\n        '2.0 * (-tw * ry + tx * rz + ty * rw - tz * rx),',\n        '2.0 * (-tw * rz - tx * ry + ty * rx + tz * rw),',\n        '1);',\n    ])\n    .function('mat4 calcJointTransform(void)', [\n        'vec4 rQuats[4];',\n        'vec4 tQuats[4];',\n        'rQuats[0] = boneMatrix[int(joint.x * 2.0)];',\n        'rQuats[1] = boneMatrix[int(joint.y * 2.0)];',\n        'rQuats[2] = boneMatrix[int(joint.z * 2.0)];',\n        'rQuats[3] = boneMatrix[int(joint.w * 2.0)];',\n        'tQuats[0] = boneMatrix[int(joint.x * 2.0) + 1];',\n        'tQuats[1] = boneMatrix[int(joint.y * 2.0) + 1];',\n        'tQuats[2] = boneMatrix[int(joint.z * 2.0) + 1];',\n        'tQuats[3] = boneMatrix[int(joint.w * 2.0) + 1];',\n        //antipodality correction\n        'if(dot(rQuats[0], rQuats[1]) < 0.0){ rQuats[1] *= -1.0; tQuats[1] *= -1.0; }',\n        'if(dot(rQuats[0], rQuats[2]) < 0.0){ rQuats[2] *= -1.0; tQuats[2] *= -1.0; }',\n        'if(dot(rQuats[0], rQuats[3]) < 0.0){ rQuats[3] *= -1.0; tQuats[3] *= -1.0; }',\n        'vec4 weightedTQuat = weight.x * tQuats[0] + weight.y * tQuats[1] + weight.z * tQuats[2] + weight.w * tQuats[3];',\n        'vec4 weightedRQuat = weight.x * rQuats[0] + weight.y * rQuats[1] + weight.z * rQuats[2] + weight.w * rQuats[3];',\n        'float magnitude = length(weightedRQuat);',\n        'weightedTQuat /= magnitude;',\n        'weightedRQuat /= magnitude;',\n        'return DQtoMat(weightedRQuat, weightedTQuat);'\n    ])\n    .main([\n        'mat4 transformMatrix = modelViewMatrix * calcJointTransform();',\n        'vec4 viewPosition = transformMatrix * vec4(position, 1.0);',\n        'normalPass = vec3(transformMatrix * vec4(normal, 0.0));',\n        'uvPass = uv;',\n        'gl_Position = projectionMatrix * viewPosition;',\n    ]),\n    frag: vglsl.createShader()\n    .varying('vec3', 'normalPass')\n    .varying('vec2', 'uvPass')\n    \n    .uniform('sampler2D', 'albedo')\n    .uniform('vec3', 'highlightColor')\n    \n    .main([\n        'vec3 normal = normalize(normalPass);',\n        'vec4 color = texture2D(albedo, uvPass);',\n        'vec3 light = normalize(vec3(  0.5,  0.2,  1.0));',\n        'float amount = max(dot(normalPass, light),  0.0);',\n        'color = vec4(color.rgb * highlightColor, 1.0);',\n        'gl_FragColor = color;'\n    ])\n}*/\nconst dualquat_skinning = {\n    vert: vglsl.createShader()\n    .attribute('vec4', 'joint')\n    .attribute('vec4', 'weight')\n    \n    .uniform('vec4', `boneMatrix[${(2*MAX_BONES_PER_MESH)}]`)\n    \n    .function('mat4 DQtoMat(vec4 dqReal, vec4 dqDual)', [\n        'float rx = dqReal.x, ry = dqReal.y, rz = dqReal.z, rw = dqReal.w;',\n        'float tx = dqDual.x, ty = dqDual.y, tz = dqDual.z, tw = dqDual.w;',\n        'float rxx = - (2.0 * rx * rx), ryy = - (2.0 * ry * ry), rzz = - (2.0 * rz * rz);',\n        'float rxy = (2.0 * rx * ry), rxz = (2.0 * rx * rz), rxw = (2.0 * rx * rw);',\n        'float ryz = (2.0 * ry * rz), ryw = (2.0 * ry * rw), rzw = (2.0 * rw * rz);',\n        'return mat4(',\n        '1.0 + ryy + rzz, rxy + rzw, rxz - ryw, 0,',\n        'rxy - rzw, 1.0 + rxx + rzz, ryz + rxw, 0,',\n        'rxz + ryw, ryz - rxw, 1.0 + rxx + ryy, 0,',\n        '2.0 * (-tw * rx + tx * rw - ty * rz + tz * ry),',\n        '2.0 * (-tw * ry + tx * rz + ty * rw - tz * rx),',\n        '2.0 * (-tw * rz - tx * ry + ty * rx + tz * rw),',\n        '1);',\n    ])\n    .function('mat4 calcJointTransform(void)', [\n        'vec4 rQuats[4];',\n        'vec4 tQuats[4];',\n        'rQuats[0] = boneMatrix[int(joint.x * 2.0)];',\n        'rQuats[1] = boneMatrix[int(joint.y * 2.0)];',\n        'rQuats[2] = boneMatrix[int(joint.z * 2.0)];',\n        'rQuats[3] = boneMatrix[int(joint.w * 2.0)];',\n        'tQuats[0] = boneMatrix[int(joint.x * 2.0) + 1];',\n        'tQuats[1] = boneMatrix[int(joint.y * 2.0) + 1];',\n        'tQuats[2] = boneMatrix[int(joint.z * 2.0) + 1];',\n        'tQuats[3] = boneMatrix[int(joint.w * 2.0) + 1];',\n        //antipodality correction\n        'if(dot(rQuats[0], rQuats[1]) < 0.0){ rQuats[1] *= -1.0; tQuats[1] *= -1.0; }',\n        'if(dot(rQuats[0], rQuats[2]) < 0.0){ rQuats[2] *= -1.0; tQuats[2] *= -1.0; }',\n        'if(dot(rQuats[0], rQuats[3]) < 0.0){ rQuats[3] *= -1.0; tQuats[3] *= -1.0; }',\n        'vec4 weightedTQuat = weight.x * tQuats[0] + weight.y * tQuats[1] + weight.z * tQuats[2] + weight.w * tQuats[3];',\n        'vec4 weightedRQuat = weight.x * rQuats[0] + weight.y * rQuats[1] + weight.z * rQuats[2] + weight.w * rQuats[3];',\n        'float magnitude = length(weightedRQuat);',\n        'weightedTQuat /= magnitude;',\n        'weightedRQuat /= magnitude;',\n        'return DQtoMat(weightedRQuat, weightedTQuat);'\n    ])\n}\nexport {dualquat_skinning}","import {vglsl} from '../vglsl'\n\nconst geometry = {\n    vert: vglsl.createShader()\n    .attribute('vec3', 'position')\n    .attribute('vec3', 'normal')\n    .attribute('vec2', 'uv')\n    \n    .uniform('mat4', 'projectionMatrix')\n    .uniform('mat4', 'modelViewMatrix')\n    \n    .varying('vec3', 'normalPass')\n    .varying('vec2', 'uvPass')\n    \n    .main([\n        'mat4 transformMatrix = modelViewMatrix * calcJointTransform();',\n        'vec4 viewPosition = transformMatrix * vec4(position, 1.0);',\n        'normalPass = vec3(transformMatrix * vec4(normal, 0.0));',\n        'uvPass = uv;',\n        'gl_Position = projectionMatrix * viewPosition;',\n    ]),\n    frag: vglsl.createShader()\n    .varying('vec3', 'normalPass')\n    .varying('vec2', 'uvPass')\n    \n    .uniform('sampler2D', 'albedo')\n    .uniform('vec3', 'highlightColor')\n    \n    .main([\n        'vec3 normal = normalize(normalPass);',\n        'vec4 color = texture2D(albedo, uvPass);',\n        'vec3 light = normalize(vec3(  0.5,  0.2,  1.0));',\n        'float amount = max(dot(normalPass, light),  0.0);',\n        'color = vec4(applyFog(color.rgb * highlightColor), 1.0);',\n        'gl_FragColor = color;'\n    ])\n}\nexport {geometry}","import {vglsl} from '../vglsl'\n\nconst vsm_depth = {\n    vert: vglsl.createShader()\n    .attribute('vec3', 'position')\n    \n    .uniform('mat4', 'viewMatrix')\n    .uniform('mat4', 'projectionMatrix')\n    .uniform('mat4', 'modelMatrix')\n    \n    .varying('vec3', 'positionPass')\n    \n    .main([\n        'vec4 viewPosition = viewMatrix * modelMatrix * vec4(position, 1.0);',\n        'positionPass = viewPosition.xyz;',\n        'gl_Position = projectionMatrix * viewPosition;'\n    ]),\n    frag: vglsl.createShader()\n    .extension('GL_OES_standard_derivatives')\n    \n    .varying('vec3', 'positionPass')\n\n    .uniform('float', 'radius')\n    \n    .main([\n        //'float depth = projectionMatrix[3][2] / (projectionMatrix[2][2] + gl_FragCoord.z);',\n        'float depth = length(positionPass);',\n        'depth = clamp(depth / (2.0*radius), 0.0, 1.0);',\n        'float dx = dFdx(depth);',\n        'float dy = dFdy(depth);',\n        'float moment1 = depth;',\n        'float moment2 = depth*depth + 0.25*(dx*dx + dy*dy);',\n        'gl_FragColor = vec4(moment1, moment2, 0.0, 1.0);'\n    ])\n}\n\nconst vsm_shadow = {\n    vert: vglsl.createShader(),\n    frag: vglsl.createShader()\n    .uniform('sampler2D', 'shadowMap')\n    .uniform('mat4', 'lightProjectionMatrix')\n    \n    .function('float linstep(float low, float high, float v)', ['return clamp((v-low)/(high-low), 0.0, 1.0);'])\n    .function('float VSM(sampler2D depths, vec2 uv, float compare)', [\n        'vec2 moments = texture2D(depths, uv).xy;',\n        'float p = smoothstep(compare-0.02, compare, moments.x);',\n        'float variance = max(moments.y - moments.x*moments.x, -0.001);',\n        'float d = compare - moments.x;',\n        'float p_max = linstep(0.2, 1.0, variance / (variance + d*d));',\n        'return clamp(max(p, p_max), 0.0, 1.0);'\n    ])\n    \n    .function('float calcShadow(void)', [ //TODO use lightDirectionPass?\n        'float depth = clamp(length(lightViewPositionPass) / (light.radius * 2.0), 0.0, 1.0);',\n        'vec4 shadowMapPosition = lightProjectionMatrix * vec4(lightViewPositionPass, 1.0);',\n        'vec2 shadowMapUV = (shadowMapPosition.xy / shadowMapPosition.w) * 0.5 + 0.5;',\n        'return VSM(shadowMap, shadowMapUV, depth);'\n    ])\n}\n\nconst vsm_cube_shadow = {\n    vert: vglsl.createShader(),\n    frag: vglsl.createShader()\n    .uniform('samplerCube', 'shadowMap')\n    \n    .function('float linstep(float low, float high, float v)', ['return clamp((v-low)/(high-low), 0.0, 1.0);'])\n    .function('float VSM(samplerCube depths, vec3 uv, float compare)', [\n        'vec2 moments = textureCube(depths, uv).xy;',\n        'float p = smoothstep(compare-0.02, compare, moments.x);',\n        'float variance = max(moments.y - moments.x*moments.x, -0.001);',\n        'float d = compare - moments.x;',\n        'float p_max = linstep(0.2, 1.0, variance / (variance + d*d));',\n        'return clamp(max(p, p_max), 0.0, 1.0);'\n    ])\n    \n    .function('float calcShadow(void)', [\n        'float depth = clamp(length(lightDirectionPass) / (light.radius * 2.0), 0.0, 1.0);',\n        'return VSM(shadowMap, -lightDirectionPass, depth);'\n    ])\n}\n\nconst vsm_depth_encoded = {}\nconst vsm_shadow_encoded = {}\n\n/*const encodedDepth = {\n    vert: vglsl.createShader()\n    .const('vec4', 'bitShift', 'vec4(1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0)')\n    .const('vec4', 'bitMask', 'vec4(1.0/256.0, 1.0/256.0, 1.0/256.0, 0.0)')\n    .function('vec4 packDepth(float depth)', [\n        'vec4 rgbaDepth = fract(depth * bitShift);',\n        'rgbaDepth -= rgbaDepth.gbaa * bitMask;',\n        'return rgbaDepth;'\n    ])\n    \n    .const('vec4', 'bitShift', 'vec4(1.0, 1.0/256.0, 1.0/(256.0 * 256.0), 1.0/(256.0*256.0*256.0))')\n    .function('float unpackDepth(vec4 rgbaDepth)', [\n        'return dot(rgbaDepth * bitShift);'\n    ])\n}*/\n\nexport {vsm_depth, vsm_depth_encoded, vsm_shadow, vsm_cube_shadow, vsm_shadow_encoded}","import {vglsl} from '../vglsl'\n\nconst box_blur = {\n    vert: vglsl.createShader(),\n    frag: vglsl.createShader()\n    .function('float random(vec3 scale,float seed)', ['return fract(sin(dot(gl_FragCoord.xyz+seed,scale))*43758.5453+seed);'])\n    \n    .function('vec4 gaussian_x9(sampler2D image, vec2 uv, vec2 invResolution, vec2 direction)', [\n        'vec4 color = vec4(0.0);',\n        'vec2 off1 = vec2(1.3846153846) * direction;',\n        'vec2 off2 = vec2(3.2307692308) * direction;',\n        'color += texture2D(image, uv) * 0.2270270270;',\n        'color += texture2D(image, uv + (off1 * invResolution)) * 0.3162162162;',\n        'color += texture2D(image, uv - (off1 * invResolution)) * 0.3162162162;',\n        'color += texture2D(image, uv + (off2 * invResolution)) * 0.0702702703;',\n        'color += texture2D(image, uv - (off2 * invResolution)) * 0.0702702703;',\n        'return color;',\n    ])\n    \n    .function('vec4 simple_box_x9(sampler2D image, vec2 uv, vec2 invResolution)', [\n        'vec4 total = vec4(0.0);',\n        'for(int x=-1; x<=1; x++){ for(int y=-1; y<=1; y++){',\n        '   total += texture2D(image, uv + vec2(float(x), float(y)) * invResolution);',\n        '}}',\n        'return total / 9.0;'\n    ])\n    \n    .function('vec4 box_x9(sampler2D image, vec2 uv, vec2 invResolution, vec2 delta)', [\n        'vec4 total = vec4(0.0);',\n        'vec2 offset = delta * invResolution;',\n        'total += texture2D(image, (uv - offset * 4.0)) * 0.051;',\n        'total += texture2D(image, (uv - offset * 3.0)) * 0.0918;',\n        'total += texture2D(image, (uv - offset * 2.0)) * 0.12245;',\n        'total += texture2D(image, (uv - offset * 1.0)) * 0.1531;',\n        'total += texture2D(image, (uv + offset * 0.0)) * 0.1633;',\n        'total += texture2D(image, (uv + offset * 1.0)) * 0.1531;',\n        'total += texture2D(image, (uv + offset * 2.0)) * 0.12245;',\n        'total += texture2D(image, (uv + offset * 3.0)) * 0.0918;',\n        'total += texture2D(image, (uv + offset * 4.0)) * 0.051;',\n        'return total;'\n    ])\n    \n    .main([\n        'gl_FragColor = box_x9(sampler, uvPass, pixelSize, vec2(0.25));'\n    ])\n}\n\n\nexport {box_blur}","import {vglsl} from '../vglsl'\n\nconst dilate = {\n    vert: vglsl.createShader(),\n    frag: vglsl.createShader()\n    \n    .function('vec4 extrude(sampler2D source, vec2 uv, vec2 invResolution, float offset)', [\n        'vec4 total = texture2D(source, uv);',\n        'total = total.a > 0.0 ? total : texture2D(source, uv + invResolution * vec2(-offset, -offset));',\n        'total = total.a > 0.0 ? total : texture2D(source, uv + invResolution * vec2( 0.0, -offset));',\n        'total = total.a > 0.0 ? total : texture2D(source, uv + invResolution * vec2( offset, -offset));',\n        'total = total.a > 0.0 ? total : texture2D(source, uv + invResolution * vec2(-offset,  0.0));',\n        'total = total.a > 0.0 ? total : texture2D(source, uv + invResolution * vec2( offset,  0.0));',\n        'total = total.a > 0.0 ? total : texture2D(source, uv + invResolution * vec2(-offset,  offset));',\n        'total = total.a > 0.0 ? total : texture2D(source, uv + invResolution * vec2( 0.0,  offset));',\n        'total = total.a > 0.0 ? total : texture2D(source, uv + invResolution * vec2( offset,  offset));',\n        'return total;'\n    ])\n    \n    .main([\n        'gl_FragColor = extrude(sampler, uvPass, pixelSize, 1.0);'\n    ])\n}\n\n\nexport {dilate}","import {vglsl} from '../vglsl'\n\nconst bake_lightmap = {\n    vert: vglsl.createShader()\n    .attribute('vec3', 'position')\n    .attribute('vec3', 'normal')\n    .attribute('vec2', 'lm_uv')\n    \n    .uniform('mat4', 'modelMatrix')\n\n    .varying('vec3', 'viewDirectionPass')\n    .varying('vec3', 'normalPass')\n    \n    .uniform('vec2', 'lightmapOffset')\n    .uniform('vec2', 'lightmapScale') //TODO uniform scale, then pack into vec3\n    \n    .main([\n        'vec4 worldPosition = modelMatrix * vec4(position, 1.0);',\n        'normalPass = normalize(vec4(modelMatrix * vec4(normal, 0.0)).xyz);',\n        'viewDirectionPass = -worldPosition.xyz;',\n        \n        'setupLight(worldPosition);',\n        \n        'vec2 lightmapUV = lm_uv * lightmapScale + lightmapOffset;',\n        'gl_Position = vec4(lightmapUV * 2.0 - 1.0, 0.5, 1.0);'\n    ]),\n    frag: vglsl.createShader()\n    .varying('vec3', 'normalPass')\n    .varying('vec3', 'viewDirectionPass')\n    \n    .main([\n        'vec3 normal = normalize(normalPass);',\n        'vec3 viewDirection = normalize(viewDirectionPass);',\n        'gl_FragColor = vec4(vec3(0.2) * calcLight(normal, viewDirection), 1.0);'\n    ])\n}\n\nconst render_lightmap = {\n    vert: vglsl.createShader()\n    .attribute('vec2', 'lm_uv')\n    \n    .varying('vec2', 'lightmapUvPass')\n    \n    .uniform('vec2', 'lightmapOffset')\n    .uniform('vec2', 'lightmapScale') //TODO uniform scale, then pack into vec3\n    \n    .function('void setupLight(void)', [\n        'vec2 lightmapUV = lm_uv * lightmapScale + lightmapOffset;',\n        'lightmapUvPass = lightmapUV;'\n    ]),//TODO vglsl when merging maybe combine main as well?\n    frag: vglsl.createShader()\n    .varying('vec2', 'lightmapUvPass')\n    \n    .uniform('sampler2D', 'lightmap')\n    \n    .function('vec3 calcLighting(vec3 normal, vec3 viewDirection)', [\n        'vec4 lightmapColor = texture2D(lightmap, lightmapUvPass);',\n        'return lightmapColor.rgb;'\n    ])\n}\n\nexport {bake_lightmap, render_lightmap}","import {vglsl} from '../vglsl'\n\nconst fog_exp = {\n    vert: vglsl.createShader(),\n    frag: vglsl.createShader()\n    \n    .const('float', 'LOG2', '1.442695')\n    .uniform('float', 'fogDensity')\n    .uniform('vec3', 'fogColor')\n    .function('vec3 applyFog(vec3 color)', [\n        'float z = gl_FragCoord.z / gl_FragCoord.w;',\n        'float fogFactor = clamp(exp2( - fogDensity * fogDensity * z * z * LOG2), 0.0, 1.0);',\n        'return mix(fogColor, color, fogFactor);'\n    ])\n}\n\nexport {fog_exp}","import {vglsl} from '../vglsl'\n\nconst blinn_phong = {\n    vert: vglsl.createShader()\n    .function('void setupLight(void)', []),\n    frag: vglsl.createShader()\n    \n    .function('float lambertian(vec3 normal, vec3 lightDirection)', [\n        'return max(dot(normal, lightDirection), 0.0);'\n    ])\n    \n    .const('float','glossiness','16.0')\n    .function('float blinnPhong(vec3 normal, vec3 lightDirection, vec3 viewDirection)', [\n        'vec3 halfVec = normalize(viewDirection + lightDirection);',\n        'return pow(max(dot(normal, halfVec), 0.0), glossiness);'\n    ])\n    \n    \n}\n\nexport {blinn_phong}","import {vglsl} from '../vglsl'\n\nconst cook_torrance = {\n    vert: vglsl.createShader(),\n    frag: vglsl.createShader()\n    .const('float', 'PI', '3.141592653589793')\n    .const('float', 'EPSILON', '0.000001')\n    \n   .function('float beckmannDistribution(float x, float roughness)', [\n        'float NdotH = max(x, 0.0001);',\n        'float cos2Alpha = NdotH * NdotH;',\n        'float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;',\n        'float roughness2 = roughness*roughness;',\n        'float denom = PI * roughness2 * cos2Alpha * cos2Alpha;',\n        'return exp(tan2Alpha / roughness2) / denom;'\n    ])\n    .function('float cookTorrance(vec3 normal, vec3 lightDirection, vec3 viewDirection)', [\n        'float fresnel = 0.0;',\n        'float roughness = 0.1;',//[0-1]\n        'float VdotN = max(dot(viewDirection, normal), 0.0);',\n        'float LdotN = max(dot(lightDirection, normal), EPSILON);',\n        'vec3 halfAngle = normalize(lightDirection + viewDirection);',\n        'float NdotH = max(dot(normal, halfAngle), 0.0);',\n        'float VdotH = max(dot(viewDirection, halfAngle), 0.0);',\n        'float x = 2.0 * NdotH / VdotH;',\n        'float G = min(1.0, min(x * VdotN, x * LdotN));',\n        'float D = beckmannDistribution(NdotH, roughness);',\n        'float F = pow(1.0 - VdotN, fresnel);',\n        'float power = G * F * D / max(PI * VdotN * LdotN, EPSILON);',\n        'return power;'\n    ])\n    \n    \n}\n\nexport {cook_torrance}","import {vglsl} from '../vglsl'\n\nconst normal_mapping = {\n    vert: vglsl.createShader(),\n    frag: vglsl.createShader()\n    \n    .uniform('sampler2D', 'normalSpec')\n    \n    .extension('GL_OES_standard_derivatives')\n    .function('mat3 calcTBN(vec3 normal, vec3 position, vec2 uv)', [\n        'vec3 dpx = dFdx(position);',\n        'vec3 dpy = dFdy(position);',\n        'vec2 duvx = dFdx(uv);',\n        'vec2 duvy = dFdy(uv);',\n        'vec3 dpyPerp = cross(dpy, normal);',\n        'vec3 dpxPerp = cross(normal, dpx);',\n        'vec3 tangent = dpyPerp * duvx.x + dpxPerp * duvy.x;',\n        'vec3 binormal = dpyPerp * duvx.y + dpxPerp * duvy.y;',\n        'float invMax = inversesqrt(max(dot(tangent, tangent), dot(binormal, binormal)));',\n        'return mat3(tangent * invMax, binormal * invMax, normal);'\n    ])\n    .function('vec3 pertubNormal(vec3 normal, vec3 viewDirection, vec2 uv)', [\n        'vec3 mappedNormal = texture2D(normalSpec, uv).xyz;',\n        'mappedNormal = mappedNormal * 255.0/127.0 - 128.0/127.0;',\n        //'mappedNormal.z = sqrt( 1. - dot( mappedNormal.xy, mappedNormal.xy ) );',\n        'mappedNormal.y = -mappedNormal.y;',\n        'mat3 TBN = calcTBN(normal, -viewDirection, uv);',\n        'return normalize(TBN * mappedNormal);'\n    ])\n    \n    \n}\n\nexport {normal_mapping}","import {vglsl} from '../vglsl'\n\nconst ambient_light = {\n    vert: vglsl.createShader(),\n    frag: vglsl.createShader()\n    .struct('dirLight', [\n        'vec3 direction',\n        'vec3 color'\n    ])\n    .uniform('vec3', 'ambient')\n    .uniform('dirLight', 'sun')\n    \n    .function('vec3 calcLighting(vec3 normal, vec3 viewDirection)', [\n        'vec3 lightDir = normalize(sun.direction);',\n        'float diffuse = lambertian(normal, lightDir);',\n        'float specular = 0.0;',\n        //'if(diffuse > 0.0){specular = blinnPhong(normal, lightDir, viewDirection);}',\n        //'return ambient + diffuse * sun.color + specular * vec3(1.0,1.0,1.0);'\n        'return ambient + diffuse * sun.color;'\n    ])\n    \n    \n}\n\nexport {ambient_light}","export * from './vglsl'\n\nimport { fullscreen, fullscreen_cube } from './lib/fullscreen'\nimport {depth} from './lib/depth'\nimport {spotlight, omnilight, hemisphere} from './lib/lighting'\nimport {static_geometry} from './lib/static_geometry'\nimport {linear_skinning} from './lib/linear_skinning'\nimport {dualquat_skinning} from './lib/dualquat_skinning'\nimport {geometry} from './lib/geometry'\n\nimport {vsm_depth, vsm_depth_encoded, vsm_shadow, vsm_cube_shadow, vsm_shadow_encoded} from './lib/shadow_vsm'\nimport {box_blur} from './lib/blur'\nimport {dilate} from './lib/dilate'\n\nimport {bake_lightmap, render_lightmap} from './lib/light_mapping'\n\nimport {fog_exp} from './lib/fog'\nimport {blinn_phong} from './lib/blinn_phong'\nimport {cook_torrance} from './lib/cook_torrance'\nimport {normal_mapping} from './lib/normal_mapping'\nimport {ambient_light} from './lib/ambient_light'\n\nexport const shaders = {\n    fullscreen,\n    fullscreen_cube,\n    depth,\n    \n    spotlight,\n    omnilight,\n    hemisphere,\n    \n    static_geometry,\n    linear_skinning,\n    dualquat_skinning,\n    geometry,\n    \n    vsm_depth,\n    vsm_depth_encoded,\n    vsm_shadow,\n    vsm_cube_shadow,\n    vsm_shadow_encoded,\n    \n    box_blur,\n    dilate,\n    \n    bake_lightmap,\n    render_lightmap,\n    \n    fog_exp,\n    blinn_phong,\n    cook_torrance,\n    normal_mapping,\n    ambient_light\n}","import {factory} from '../../util'\nimport {vglsl} from '../vglsl'\nimport {GLSL_TYPE_SIZE, GL_GLSL_MAP, GLSL_TYPE_MAP} from '../glutil'\n\nfactory.declare('gl_context', target => {\n\tconst gl = target.gl,\n          maxVertShaderPrecision = gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.HIGH_FLOAT).precision === 0 ? vglsl.PRECISION.MEDIUM : vglsl.PRECISION.HIGH,\n          maxFragShaderPrecision = gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT).precision === 0 ? vglsl.PRECISION.MEDIUM : vglsl.PRECISION.HIGH,\n          maxVertUniformSize = gl.getParameter(gl.MAX_VERTEX_UNIFORM_VECTORS)/4,\n          maxFragUniformSize = gl.getParameter(gl.MAX_FRAGMENT_UNIFORM_VECTORS)/4,\n          shaders = []\n    Object.keys(GL_GLSL_MAP).forEach(glType => GLSL_TYPE_MAP[gl[glType]] = GL_GLSL_MAP[glType])\n   \n\treturn {\n        compileShader: src => {\n            if(src.vert.precision === vglsl.PRECISION.HIGH && maxVertShaderPrecision === vglsl.PRECISION.MEDIUM) src.vert.setPrecision(vglsl.PRECISION.MEDIUM)\n            if(src.frag.precision === vglsl.PRECISION.HIGH && maxFragShaderPrecision === vglsl.PRECISION.MEDIUM) src.frag.setPrecision(vglsl.PRECISION.MEDIUM)\n            const shader = factory.build('shader', {\n                vert: src.vert.build(),\n                frag: src.frag.build(),\n                attributeLocations: src.attributeLocations,\n                ctx: target\n            })\n            return shader\n        }\n\t}\n})","import {factory, tie, Signal} from '../../util'\nimport {MAX_INDEX_ARRAY_LENGTH} from '../glutil'\n\nconst VertexBufferRange = (vertexArrayLength, vertexArrayOffset, indexArrayLength, indexArrayOffset) => ({ vertexArrayLength, vertexArrayOffset, indexArrayLength, indexArrayOffset })\n\nfactory.declare('vbo', (target, {ctx, dynamic}) => {\n    const gl = ctx.gl,\n          vertexBuffer = gl.createBuffer(),\n          indexBuffer = gl.createBuffer()\n    let uploadQueue = [], indexBaseOffset = 0\n    \n    return {\n        clear: _ => {\n            ctx.clearVBOAttributePointers(target)\n            gl.deleteBuffer(vertexBuffer)\n            gl.deleteBuffer(indexBuffer)\n        },\n        bind: _ => {\n            if(ctx.onBind('vbo', target)){\n                gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer)\n                gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer)\n            }\n            return target\n        },\n        unbind: _ => {\n            ctx.onBind('vbo', null)\n            gl.bindBuffer(gl.ARRAY_BUFFER, null)\n            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null)\n            return target\n        },\n        appendData: (vertexArray, indexArray, vertexCount) => {\n            const vertexDataOffset = uploadQueue.reduce((offset, data) => offset + data.vertexArray.length, 0),\n                  indexDataOffset = uploadQueue.reduce((offset, data) => offset + data.indexArray.length, 0),\n                  uploadEvent = Signal()\n\n            if(indexBaseOffset + vertexCount > MAX_INDEX_ARRAY_LENGTH)\n                throw new Error('VBO 16bit Uint Index Array overflow')\n            if(target.uploaded) target.migrate = true\n\n            const bufferRange = VertexBufferRange(vertexArray.length, vertexDataOffset, indexArray.length, indexDataOffset)\n            uploadQueue.push({vertexArray, indexArray, vertexCount, uploadEvent, bufferRange, indexBaseOffset})\n            \n            indexBaseOffset += vertexCount\n            return {uploadEvent, bufferRange}\n        },\n        staticUpload: (vertexArray, indexArray) => {\n            target.bind()\n            gl.bufferData(gl.ARRAY_BUFFER, vertexArray, dynamic ? gl.DYNAMIC_DRAW : gl.STATIC_DRAW)\n            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, indexArray, dynamic ? gl.DYNAMIC_DRAW : gl.STATIC_DRAW)\n            return target\n        },\n        uploadVertexArray: (vertices, bufferOffset) => {\n            target.bind()\n            gl.bufferSubData(gl.ARRAY_BUFFER, bufferOffset * Float32Array.BYTES_PER_ELEMENT, vertices)\n            return target\n        },\n        uploadIndexArray: (indices, bufferOffset, indexBaseOffset = 0) => {\n            target.bind()\n            let idx = indices.length,\n                offsetIndexArray = ctx.allocateUint16(idx)\n            while(idx--)\n                offsetIndexArray[idx] = indices[idx] + indexBaseOffset\n            gl.bufferSubData(gl.ELEMENT_ARRAY_BUFFER, bufferOffset * Uint16Array.BYTES_PER_ELEMENT, offsetIndexArray)\n            return target\n        },\n        segmentedVertexArrayUpload: (vertices, bufferOffset, segmentLength, segmentOffset) => {\n            const segmentView = new Float32Array(vertices.buffer, vertices.byteOffset + Float32Array.BYTES_PER_ELEMENT * segmentOffset, segmentLength)\n            return target.uploadVertexArray(segmentView, bufferOffset + segmentOffset)\n        },\n        segmentedIndexArrayUpload: (indices, bufferOffset, segmentLength, segmentOffset, indexBaseOffset) => {\n            const segmentView = new Uint16Array(indices.buffer, indices.byteOffset + Uint16Array.BYTES_PER_ELEMENT * segmentOffset, segmentLength)\n            return target.uploadIndexArray(segmentView, bufferOffset + segmentOffset, indexBaseOffset)\n        },\n        upload: (taskManager, batchSize = Number.MAX_SAFE_INTEGER) => {\n            if(!uploadQueue.length || target.uploaded) return false\n            const last = uploadQueue[uploadQueue.length-1],\n                  vertexDataSize = last.bufferRange.vertexArrayOffset + last.bufferRange.vertexArrayLength,\n                  indexDataSize = last.bufferRange.indexArrayOffset + last.bufferRange.indexArrayLength,\n                  uploadEvent = Signal()\n            target.uploaded = true\n            target.bind()\n            gl.bufferData(gl.ARRAY_BUFFER, vertexDataSize * Float32Array.BYTES_PER_ELEMENT, dynamic ? gl.DYNAMIC_DRAW : gl.STATIC_DRAW)\n            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, indexDataSize * Uint16Array.BYTES_PER_ELEMENT, dynamic ? gl.DYNAMIC_DRAW : gl.STATIC_DRAW)\n            \n            if(!taskManager) return uploadQueue.forEach(data => {\n                target.uploadVertexArray(data.vertexArray, data.bufferRange.vertexArrayOffset)\n                target.uploadIndexArray(data.indexArray, data.bufferRange.indexArrayOffset, data.indexBaseOffset)\n                data.uploadEvent.onSuccess(true)\n            })\n            \n            uploadQueue.forEach(data => {\n                const bufferRange = data.bufferRange\n                let vertexBatchSize = Math.floor(batchSize / Float32Array.BYTES_PER_ELEMENT),\n                    vertexBatchCount = Math.ceil(bufferRange.vertexArrayLength / vertexBatchSize),\n                    vertexOffset = 0\n                while(vertexBatchCount--){\n                    vertexBatchSize = Math.min(vertexBatchSize, bufferRange.vertexArrayLength - vertexOffset)\n                    taskManager.schedule(target.segmentedVertexArrayUpload.bind(target, data.vertexArray, bufferRange.vertexArrayOffset, vertexBatchSize, vertexOffset))\n                    vertexOffset += vertexBatchSize\n                }\n                \n                let indexBatchSize = Math.floor(batchSize / Uint16Array.BYTES_PER_ELEMENT),\n                    indexBatchCount = Math.ceil(bufferRange.indexArrayLength / indexBatchSize),\n                    indexOffset = 0\n                \n                while(indexBatchCount--){\n                    indexBatchSize = Math.min(indexBatchSize, bufferRange.indexArrayLength - indexOffset)\n                    taskManager.schedule(target.segmentedIndexArrayUpload.bind(target, data.indexArray, bufferRange.indexArrayOffset, indexBatchSize, indexOffset, data.indexBaseOffset))\n                    indexOffset += indexBatchSize\n                }\n            })\n            taskManager.schedule(uploadEvent.onSuccess.bind(uploadEvent, true))\n            uploadEvent.listen((events => events.forEach(event => event.onSuccess(true))).bind(null, uploadQueue.map(data => data.uploadEvent)), null, false)\n            return uploadEvent\n        },\n        unloadData: bufferRange => {\n            let bufferRangeIdx = uploadQueue.findIndex(data => data.bufferRange === bufferRange),\n                indexShift = uploadQueue[bufferRangeIdx].vertexCount\n            indexBaseOffset -= indexShift\n            uploadQueue.splice(bufferRangeIdx, 1)\n        },\n        get uploadQueue(){ return uploadQueue },\n        set uploadQueue(value){\n            let vertexArrayOffset = 0,\n                indexArrayOffset = 0\n            uploadQueue = value.map(data => {\n                const bufferRange = VertexBufferRange(data.vertexArray.length, vertexArrayOffset, data.indexArray.length, indexArrayOffset)\n                vertexArrayOffset += data.vertexArray.length\n                indexArrayOffset += data.indexArray.length\n                return Object.assign({}, data, {bufferRange, inheritBufferRange: data.bufferRange})\n            })\n            indexBaseOffset = uploadQueue.reduce((offset, data) => (data.indexBaseOffset = offset, offset + data.vertexCount), 0)\n        },\n        inherit: _ => {\n            uploadQueue.filter(data => data.inheritBufferRange).forEach(data => data.bufferRange = Object.assign(data.inheritBufferRange, data.bufferRange))\n            return target\n        }\n    }\n})\n\nexport {VertexBufferRange}","import {factory, tie} from '../../util'\nimport {GL_TYPE_SIZE, GLSL_TYPE_SIZE, ATTRIBUTE_LOCATIONS, ATTRIB_GL_TYPE} from '../glutil'\n\nfactory.declare('vao', (target, {ctx}) => {\n    const gl = ctx.gl,\n          vaoExtension = ctx.extensions.vertex_array_object, //TODO test with AND without extension, option to disable\n          maxAttributes = gl.getParameter(gl.MAX_VERTEX_ATTRIBS),\n          vao = vaoExtension ? vaoExtension.createVertexArrayOES() : null,\n          bindings = []\n    let vboPointer = null\n    \n    return vaoExtension ? {\n        clear: _ => vaoExtension.deleteVertexArrayOES(vao),\n        bind: _ => ctx.onBind('vao', target) && vaoExtension.bindVertexArrayOES(vao),\n        unbind: _ => {\n            ctx.onBind('vbo', null)\n            ctx.onBind('vao', null)\n            vaoExtension.bindVertexArrayOES(null)\n        },\n        setup: (vbo, dataFormat, attributeLocations = ATTRIBUTE_LOCATIONS) => {\n            let offset = 0,\n                stride = dataFormat.reduce((size, attr) => size + attr.size * attr.byteSize, 0)\n            target.bind()\n            target.vboPointer = vbo\n            ctx.onBind('vbo', null)\n            vbo.bind()\n            dataFormat.forEach(attr => {\n                gl.enableVertexAttribArray(attributeLocations[attr.type])\n                gl.vertexAttribPointer(attributeLocations[attr.type], attr.size, gl[ATTRIB_GL_TYPE[attr.byteSize]], false, stride, offset)\n                offset += attr.size * attr.byteSize\n            })\n            target.unbind()\n            return target\n        }\n    } : {\n        clear: _ => bindings.length = 0,\n        bind: _ => {\n            if(!ctx.onBind('vao', target))\n                return true\n            let idx = bindings.length\n            while(idx--)\n                bindings[idx](gl)\n        },\n        unbind: _ => {\n            ctx.onBind('vao', null)\n        },\n        setup: (vbo, dataFormat, attributeLocations = ATTRIBUTE_LOCATIONS) => {\n            let offset = 0,\n                stride = dataFormat.reduce((size, attr) => size + attr.size * attr.byteSize, 0)\n            target.vboPointer = vbo\n            bindings.unshift(vbo.bind.bind(vbo))\n            dataFormat.forEach(attr => {\n                bindings.unshift(ctx.bindArrayAttribute.bind(null, attributeLocations[attr.type], attr.size, gl[ATTRIB_GL_TYPE[attr.byteSize]], false, stride, offset))\n                offset += attr.size * attr.byteSize\n            })\n            return target\n        }\n    }\n})\n\n\n\n","import {logger} from '../../debug/logger'\nimport {factory, tie} from '../../util'\n\nconst UPLOAD_BATCH_SIZE = 1024*4\n\nfactory.declare('gl_context', (target, options) => {\n    const gl = target.gl,\n          taskManager = options.manager,\n          VBOs = [],\n          VAOs = [],\n          VDFs = [],\n          attributePointers = []\n    let uploadQueueLength = 0\n    \n    return {\n        uploadMeshData: (meshData, groupId, upload = false) => {\n            const vdfIdx = (groupId || VDFs.findIndex(format => Object.deepEquals(format, meshData.dataFormat)) + 1 || VDFs.length + 1) - 1,\n                  vdf = VDFs[vdfIdx] || (VDFs[vdfIdx] = meshData.dataFormat),\n                  vertexCount = meshData.vertexArray.length / meshData.stride,\n                  \n                  vboIdx = (VBOs.findIndex(vbo => vbo.vdfIdx === vdfIdx) + 1 || VBOs.length + 1) - 1,\n                  vbo = VBOs[vboIdx] || (VBOs[vboIdx] = Object.assign(factory.build('vbo', {ctx: target}), {vdfIdx, vboIdx})),\n                  \n                  vao = VAOs[vboIdx] || (VAOs[vboIdx] = factory.build('vao', {ctx: target})).setup(vbo, meshData.dataFormat),\n                  uploadResponse = vbo.appendData(meshData.vertexArray, meshData.indexArray, vertexCount),\n                  mesh = factory.build('mesh', { vdfIdx, vboIdx, bufferRange: uploadResponse.bufferRange, meshData })\n            logger.info('buffer', `Scheduled buffer(${vboIdx}) data upload. vertices: ${vertexCount} indices: ${meshData.indexArray.length}`)\n            if(upload) taskManager.schedule(target.uploadBuffers, false)\n            uploadQueueLength++\n            return uploadResponse.uploadEvent.pipe(_ => Object.assign(mesh, {unload: target.unloadData.bind(target, mesh)}))\n        },\n        deferredDataUpload: _ => uploadQueueLength && taskManager.schedule(target.uploadBuffers, false),\n        uploadBuffers: _ => {\n            logger.info('buffer', `Uploading ${uploadQueueLength}x, total: ${VBOs.length} buffers`)\n            uploadQueueLength = 0\n            VBOs.forEach(vbo => vbo.migrate ? target.migrateBufferData(vbo) : vbo.upload(taskManager, UPLOAD_BATCH_SIZE))\n            return target\n        },\n        unloadData: mesh => {\n            logger.info('buffer', `Unloading ${mesh.bufferRange.indexArrayLength} from buffer(${mesh.vboIdx})`)\n            VBOs[mesh.vboIdx].unloadData(mesh.bufferRange)\n            return target\n        },\n        enableVAO: mesh => (VAOs[mesh.vboIdx].bind(), target),\n        bindArrayAttribute: (location, size, type, normalized, stride, offset) => {\n            const boundVBO = target.bindings['vbo'],\n                  attrPointer = attributePointers[location] || (gl.enableVertexAttribArray(location), attributePointers[location] = { buffer: null, properties: new Uint32Array(5) }),\n                  props = attrPointer.properties\n            if(attrPointer.buffer !== boundVBO || props[0] !== size || props[1] !== type || props[2] != normalized || props[3] !== stride || props[4] !== offset){\n                gl.vertexAttribPointer(location, size, type || gl.FLOAT, normalized || false, stride, offset)\n                attrPointer.buffer = boundVBO\n                props[0] = size; props[1] = type; props[2] = +normalized; props[3] = stride; props[4] = offset\n            }\n        },\n        unbindArrayAttribute: location => (gl.disableVertexAttribArray(location), attributePointers[location] = null),\n        clearVBOAttributePointers: vbo => attributePointers.forEach((attrPointer, location) => attrPointer.buffer === vbo && target.unbindArrayAttribute(location)),\n        migrateBufferData: vbo => {\n            logger.info('buffer', `Migrating buffer(${vbo.vboIdx}) data. Queue length: ${vbo.uploadQueue.length}`)\n            const vboIdx = vbo.vboIdx,\n                  tempVBO = factory.build('vbo', {ctx: target}),\n                  tempVAO = factory.build('vao', {ctx: target})\n            tempVBO.uploadQueue = vbo.uploadQueue\n            vbo.appendData = tempVBO.appendData\n            tempVBO.upload(taskManager, UPLOAD_BATCH_SIZE).listen(_ => {\n                VBOs[vboIdx].clear()\n                VAOs[vboIdx].clear()\n                VBOs[vboIdx] = Object.assign(tempVBO.inherit(), {vdfIdx: vbo.vdfIdx, vboIdx})\n                VAOs[vboIdx] = tempVAO\n                tempVAO.setup(tempVBO, VDFs[vbo.vdfIdx])\n            }, null, false)\n        },\n        onBind: (base => (location, element) => \n            (element && location === 'vbo' && target.bindings['vao'] && target.bindings['vao'].vboPointer != element && target.bindings['vao'].unbind(),\n             base(location, element))\n        )(target.onBind)\n    }\n})\n\nexport {UPLOAD_BATCH_SIZE}","import {factory, Signal} from '../../util'\n\nconst isPowOf2 = value => value && (value & (value - 1)) === 0\n\nconst WRAP_MODE = {\n    REPEAT: 0,\n    CLAMP: 1,\n    MIRRORED_REPEAT: 2,\n    set: (S, T) => S | T << 4\n}\n\nconst FILTERING_MODE = {\n    NONE: 0,\n    LINEAR: 1,\n    NEAREST: 2,\n    set: (mag, min, mipmap) => (mag || 1) | (min || 1) << 2 | (mipmap || 0) << 4\n}\n\nfactory.declare('texture', (target, { ctx, yFlip, premultiplyAlpha, cube }) => {\n\tconst gl = ctx.gl,\n          texture = gl.createTexture()\n    let width = 0, height = 0, channels = 0, powOf2 = false, format = null, byteSize = null, \n        filteringMode = 0, wrapMode = 0\n    \n    gl.bindTexture(cube ? gl.TEXTURE_CUBE_MAP : gl.TEXTURE_2D, texture)\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, !!yFlip)\n    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !!premultiplyAlpha)\n    \n\treturn {\n        get cube(){ return cube },\n        get glPointer(){ return texture },\n        get width(){ return width },\n        get height(){ return height },\n        bind: (location = 0) => (!ctx.onBind('texture'+location, target) ||\n            (ctx.textureLocation = location, gl.bindTexture(cube ? gl.TEXTURE_CUBE_MAP : gl.TEXTURE_2D, texture)), target),\n        unbind: (location = ctx.textureLocation) => (ctx.onBind('texture'+location, null), gl.bindTexture(cube ? gl.TEXTURE_CUBE_MAP : gl.TEXTURE_2D, null), target),\n        setTextureParameters: parameters => (Object.keys(parameters).forEach(param => target[param] = parameters[param]), target),\n        clear: _ => gl.deleteTexture(texture),\n        set wrapMode(value){\n            wrapMode = value\n            const wrapS = value & 0xF, wrapT = value >> 4,\n                  glWrapS = (wrapS === WRAP_MODE.CLAMP && gl.CLAMP_TO_EDGE) || (wrapS === WRAP_MODE.MIRRORED_REPEAT && gl.MIRRORED_REPEAT) || gl.REPEAT,\n                  glWrapT = (wrapT === WRAP_MODE.CLAMP && gl.CLAMP_TO_EDGE) || (wrapT === WRAP_MODE.MIRRORED_REPEAT && gl.MIRRORED_REPEAT) || gl.REPEAT\n            gl.texParameteri(cube ? gl.TEXTURE_CUBE_MAP : gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, glWrapS)\n            gl.texParameteri(cube ? gl.TEXTURE_CUBE_MAP : gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, glWrapT)\n        },\n        set filteringMode(value){\n            filteringMode = value\n            const filterMag = value & 0x7, filterMin = value >> 2, mipMaps = value >> 4,\n                  glFilterMag = (filterMag === FILTERING_MODE.NEAREST && gl.NEAREST) || gl.LINEAR,\n                  glFilterMin = mipMaps ? (\n                      mipMaps === FILTERING_MODE.NEAREST ? (\n                          (filterMin === FILTERING_MODE.NEAREST && gl.NEAREST_MIPMAP_NEAREST) || gl.LINEAR_MIPMAP_NEAREST) \n                      : ((filterMin === FILTERING_MODE.NEAREST && gl.NEAREST_MIPMAP_LINEAR) || gl.LINEAR_MIPMAP_LINEAR))\n            : ((filterMin === FILTERING_MODE.NEAREST && gl.NEAREST) || gl.LINEAR)\n            if(mipMaps) gl.generateMipmap(cube ? gl.TEXTURE_CUBE_MAP : gl.TEXTURE_2D)\n            gl.texParameteri(cube ? gl.TEXTURE_CUBE_MAP : gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, glFilterMag)\n            gl.texParameteri(cube ? gl.TEXTURE_CUBE_MAP : gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, glFilterMin)\n        },\n        get wrapMode(){ return wrapMode },\n        get filteringMode(){ return filteringMode },\n        upload: source => {\n            width = source.naturalWidth\n            height = source.naturalHeight\n            \n            gl.bindTexture(cube ? gl.TEXTURE_CUBE_MAP : gl.TEXTURE_2D, texture)\n            if(!cube) gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, source)\n            else for(let face = 0; face < 6; face++) gl.texImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_X + face, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, source[face])\n            target.url = source.src\n            \n            return target.autoDetectTexParameters()\n        },\n        autoDetectTexParameters: _ => {\n            if(ctx.onBind('texture'+ctx.textureLocation, target)) gl.bindTexture(cube ? gl.TEXTURE_CUBE_MAP : gl.TEXTURE_2D, texture)\n            \n            powOf2 = isPowOf2(width) && isPowOf2(height)\n            target.filteringMode = powOf2 ? \n                FILTERING_MODE.set(FILTERING_MODE.LINEAR, FILTERING_MODE.LINEAR, FILTERING_MODE.LINEAR)\n            : FILTERING_MODE.set(FILTERING_MODE.LINEAR, FILTERING_MODE.LINEAR)\n            if(!powOf2) target.wrapMode = WRAP_MODE.set(WRAP_MODE.CLAMP, WRAP_MODE.CLAMP)\n            return target\n        },\n        uploadSubTexture: (src, xOffset, yOffset, subWidth, subHeight, bufferOffset, bufferLength) => {\n            const subTextureView = new Uint8Array(src.buffer, src.byteOffset + bufferOffset * channels * Uint8Array.BYTES_PER_ELEMENT, bufferLength * channels)\n            if(ctx.onBind('texture'+ctx.textureLocation, target)) gl.bindTexture(gl.TEXTURE_2D, texture)\n            gl.texSubImage2D(gl.TEXTURE_2D, 0, xOffset, yOffset, subWidth, subHeight, format, byteSize, subTextureView)\n        },\n        uploadTexture: (src, params = {}, taskManager, maxChunkSize = 256) => {\n            channels = params.channels || ((params.format === gl.RGBA && 4) || (params.format === gl.RGB && 3) || 3)\n            format = params.format || (channels === 3 ? gl.RGB : (channels === 1 ? gl.ALPHA : gl.RGBA))\n            byteSize = params.byteSize || gl.UNSIGNED_BYTE\n            width = params.width || 1\n            height = params.height || 1\n            \n            ctx.onBind('texture'+ctx.textureLocation, target)\n            gl.bindTexture(cube ? gl.TEXTURE_CUBE_MAP : gl.TEXTURE_2D, texture)\n            \n            if(!taskManager){\n                if(!cube) gl.texImage2D(gl.TEXTURE_2D, 0, format, width, height, 0, format, byteSize, src)\n                else for(let face = 0; face < 6; face++) gl.texImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_X + face, 0, format, width, height, 0, format, byteSize, src && src[face])\n                return target\n            }\n            if(cube) throw new Error(`Async upload not supported for Cube Maps.`)\n            gl.texImage2D(gl.TEXTURE_2D, 0, format, width, height, 0, format, byteSize, null)\n            \n            const colMaxSize = Math.floor(maxChunkSize / width) || 1,\n                  rowMaxSize = Math.min(maxChunkSize, width),\n                  uploadEvent = Signal()\n            \n            for(let colOffset = 0; colOffset < height; colOffset += colMaxSize)\n                for(let rowOffset = 0; rowOffset < width; rowOffset += rowMaxSize){\n                    const subWidth = Math.min(width - rowOffset, rowMaxSize),\n                          subHeight = Math.min(height - colOffset, colMaxSize),\n                          bufferOffset = rowOffset + colOffset * width,\n                          bufferLength = subWidth * subHeight\n                    taskManager.schedule(target.uploadSubTexture.bind(target, src, rowOffset, colOffset, subWidth, subHeight, bufferOffset, bufferLength))\n                }\n            taskManager.schedule(_ => uploadEvent.onSuccess(target.autoDetectTexParameters()))\n            return uploadEvent\n        },\n        get format(){ return format },\n        get byteSize(){ return byteSize },\n        copy: texture => target.uploadTexture(null, {format: texture.format, byteSize: texture.byteSize, width: texture.width, height: texture.height})\n        .setTextureParameters({wrapMode: texture.wrapMode, filteringMode: texture.filteringMode}).unbind()\n\t}\n})\n\nexport {WRAP_MODE, FILTERING_MODE}","import {factory, Signal} from '../../util'\nimport {WRAP_MODE, FILTERING_MODE} from './texture'\n\nfactory.declare('gl_context', (target, options) => {\n\tconst gl = target.gl,\n          taskManager = options.manager\n    let textureLocation = null,\n        blankTexture = null\n    \n\treturn {\n        get emptyTexture(){\n            return blankTexture || (blankTexture = factory.build('texture', {ctx: target})\n                                    .uploadTexture(new Uint8Array([0x7f,0x7f,0x7f]), {width: 1, height: 1, channels: 3})\n                                    .setTextureParameters({\n                wrapMode: WRAP_MODE.set(WRAP_MODE.REPEAT, WRAP_MODE.REPEAT),\n                filteringMode: FILTERING_MODE.set(FILTERING_MODE.NEAREST, FILTERING_MODE.NEAREST, 0)\n            }))\n        },\n        generateTexture: ({ data, width, height, channels = 4 }) => factory.build('texture', {ctx: target})\n        .uploadTexture(new Uint8Array(data.map(pixel => pixel * 0xFF)), { width, height, channels })\n        .setTextureParameters({\n            wrapMode: WRAP_MODE.set(WRAP_MODE.CLAMP, WRAP_MODE.CLAMP),\n            filteringMode: FILTERING_MODE.set(FILTERING_MODE.LINEAR, FILTERING_MODE.LINEAR, 0)\n        }).unbind(),\n        uploadTexture: imageData => {\n            const texture = factory.build('texture', {ctx: target})\n            return texture.uploadTexture(imageData.out.data, {width: imageData.out.width, height: imageData.out.height, channels: 4 || imageData.channels}, taskManager)\n                .pipe(_ => texture.unbind())\n        },\n        bindTextures: material => {\n            if(material.length === 0) return target.emptyTexture.bind(0)\n            //TODO blank texture init on location > 0 - resets tex 0 (if it is unboud after creation) //Note it was removed (unbind) for now\n            material.forEach((texture, location) => texture.loaded ? texture.data.bind(location) : target.emptyTexture.bind(location))\n        },\n        set textureLocation(location){\n            if(textureLocation !== location)\n                textureLocation = (gl.activeTexture(gl.TEXTURE0 + location), location)\n        },\n        get textureLocation(){ return textureLocation || 0 },\n        get maxTexturePrecision(){\n            return (target.extensions.texture_float && target.extensions.texture_float_linear && 32) || (target.extensions.texture_half_float && target.extensions.texture_half_float_linear && 16) || 8\n        }\n\t}\n})","import {factory, tie} from '../../util'\nimport {vec3} from '../../math'\nimport {WRAP_MODE, FILTERING_MODE} from '../texture'\n\n//TODO depth tex, etc. Check for depth support?\nfactory.declare('fbo', (target, options) => {\n    const gl = options.ctx.gl,\n          framebuffer = gl.createFramebuffer(),\n          renderbuffer = gl.createRenderbuffer()\n    let textures = [],\n        faces = [],\n        depthTexture = null\n    gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer)   \n    framebuffer.width = options.width\n    framebuffer.height = options.height\n    \n    return {\n        get width(){ return options.width },\n        get height(){ return options.height },\n        get attachedTextures(){ return textures },\n        get attachedDepthTexture(){ return depthTexture },\n        bind: resize => {\n            if(options.ctx.onBind('fbo', target))\n                gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer)\n            if(resize) options.ctx.viewport = [options.width, options.height]\n            return target\n        },\n        unbind: _ => {\n            options.ctx.onBind('fbo', null)\n            gl.bindFramebuffer(gl.FRAMEBUFFER, null)\n            return target\n        },\n        attachStencil: texture => {\n            target.bind()\n            return target\n        },\n        attachDepth: texture => {\n            if(depthTexture === texture) return target\n            target.bind()\n            if(texture){\n                depthTexture = texture = texture === true ? factory.build('texture', {ctx: options.ctx})\n                .uploadTexture(null, {width: options.width, height: options.height, format: gl.DEPTH_COMPONENT, byteSize: gl.UNSIGNED_SHORT})// ::ALTERNATIVE:: gl.UNSIGNED_INT\n                .setTextureParameters({\n                    wrapMode: WRAP_MODE.set(WRAP_MODE.CLAMP, WRAP_MODE.CLAMP),\n                    filteringMode: FILTERING_MODE.set(FILTERING_MODE.NEAREST, FILTERING_MODE.NEAREST, 0)\n                }).unbind() : texture\n                \n                if(texture.width !== options.width || texture.height !== options.height)\n                    throw new Error('Texture dimenstions do not match Framebuffer!')\n                gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.TEXTURE_2D, texture.glPointer, 0)\n            }else{\n                gl.bindRenderbuffer(gl.RENDERBUFFER, renderbuffer)\n                gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, options.width, options.height)\n                gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, renderbuffer)\n                gl.bindRenderbuffer(gl.RENDERBUFFER, null)\n            }\n            if(gl.checkFramebufferStatus(gl.FRAMEBUFFER) != gl.FRAMEBUFFER_COMPLETE) //TODO IMPORTANT optimisation, this is a bottleneck. Defer checking status\n                throw new Error('Incomplete Framebuffer')\n            return target\n        },\n        attachTexture: (texture, location = 0, face) => {\n            if(textures[location] === texture && faces[location] == face) return target\n            faces[location] = face\n            textures[location] = texture = texture || factory.build('texture', { ctx: options.ctx })\n                .uploadTexture(null, { width: options.width, height: options.height, format: gl.RGBA })\n                .setTextureParameters({\n                    wrapMode: WRAP_MODE.set(WRAP_MODE.CLAMP, WRAP_MODE.CLAMP),\n                    filteringMode: FILTERING_MODE.set(FILTERING_MODE.NEAREST, FILTERING_MODE.NEAREST, 0)\n                }).unbind()\n            \n            if(texture.width !== options.width || texture.height !== options.height)\n                throw new Error('Texture dimenstions do not match Framebuffer!')\n            target.bind()\n            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + location, texture.cube ? gl.TEXTURE_CUBE_MAP_POSITIVE_X + face : gl.TEXTURE_2D, texture.glPointer, 0)\n            if(gl.checkFramebufferStatus(gl.FRAMEBUFFER) != gl.FRAMEBUFFER_COMPLETE) //TODO IMPORTANT optimisation, this is a bottleneck. Defer checking status\n                throw new Error('Incomplete Framebuffer')\n            return target\n        },\n        clear: _ => {\n            gl.deleteFramebuffer(framebuffer)\n            gl.deleteRenderbuffer(renderbuffer)\n        }\n    }\n})\n            \n//COLOR_ATTACHMENT0 = RGBA/UNSIGNED_BYTE texture\n//COLOR_ATTACHMENT0 = RGBA/UNSIGNED_BYTE texture + DEPTH_ATTACHMENT = DEPTH_COMPONENT16 renderbuffer\n//COLOR_ATTACHMENT0 = RGBA/UNSIGNED_BYTE texture + DEPTH_STENCIL_ATTACHMENT = DEPTH_STENCIL renderbuffer","import {logger} from '../../debug/logger'\nimport {factory, tie} from '../../util'\n\nfactory.declare('gl_context', (target, options) => {\n    const gl = target.gl,\n          FBOs = []\n    let totalMemoryUsage = 0\n    \n    return {\n        returnFramebuffer: (framebuffer) => {\n            framebuffer.inUse = false\n        },\n        pollFramebuffer: (width, height = width) => {\n            let fboIdx = FBOs.findIndex(fbo => fbo.width === width && fbo.height === height && !fbo.inUse)\n            if(fboIdx > -1) return FBOs[fboIdx]\n            \n            totalMemoryUsage += width * height\n            let fbo = factory.build('fbo', {ctx: target, width: width, height: height})\n                \n            logger.info('memory', `Allocating framebuffer (${FBOs.length}) size [${width},${height}]. Total: ${totalMemoryUsage}`)\n            return FBOs[FBOs.length] = tie(fbo, { inUse: true, return: target.returnFramebuffer.bind(target, fbo).once() })\n        }\n    }\n})","import {factory, Signal} from '../../util'\n\nfactory.declare('pipeline', target => {\n    const queue = []\n    let frame = 0\n    \n    return {\n        pass: callable => (queue.push(callable), target),\n        clear: callable => (callable ? queue.remove(callable) : queue.length = 0, target),\n        run: (ctx, scene) => Signal(flush => {\n            let idx = 0\n            const next = _ => idx >= queue.length ? flush(frame++) : queue[idx++].call(target, ctx, scene, next.once(), frame)\n            next()\n        })\n    }\n})","import {logger} from '../../debug/logger'\nimport {factory, Signal, Stream, tie} from '../../util'\nimport {shaders, vglsl} from '../vglsl'\nimport {ATTRIBUTE_LOCATIONS} from '../glutil'\nimport {WRAP_MODE, FILTERING_MODE} from '../texture'\nimport {vec2, vec3, vec4, mat3, mat4, BinPacker} from '../../math'\n\nconst LIGHTMAP_RESOLUTION = Math.pow(2, 4)\nconst LIGHTMAP_SCALE_FACTOR = Math.pow(2, 5) / Math.pow(2, 8) //TODO adjust relative scale\n\n//TODO move lightmap into separate file\nconst LightmapTexture = (ctx, width, height) => factory.build('texture', { ctx })\n.uploadTexture(null, { width, height, format: ctx.gl.RGBA })\n.setTextureParameters({\n    wrapMode: WRAP_MODE.set(WRAP_MODE.CLAMP, WRAP_MODE.CLAMP),\n    filteringMode: FILTERING_MODE.set(FILTERING_MODE.LINEAR, FILTERING_MODE.LINEAR, 0)\n}).unbind()\n\nconst Lightmap = (ctx, {width, height}) => {\n    const target = Object.create(null),\n          texture = LightmapTexture(ctx, width, height),\n          packer = BinPacker(undefined, width, height),\n          instances = []\n    \n    return tie(target, {\n        dirtyFlag: true,\n        texture,\n        get instances(){ return instances },\n        updateLayout: _ => {\n            packer.clear().insert(instances.map(instanceLightmap => (delete instanceLightmap.bounds.fit, instanceLightmap.bounds)))\n            if(!instances.every(instanceLightmap => instanceLightmap.bounds.fit)) return false\n            instances.forEach(instanceLightmap => vec2.copy([instanceLightmap.bounds.fit.x / width, instanceLightmap.bounds.fit.y / height], instanceLightmap.offset))\n            return target.dirtyFlag = true\n        },\n        attachInstance: (instance, defer = false) => {\n            const lightmapScale = LIGHTMAP_SCALE_FACTOR * LIGHTMAP_RESOLUTION\n            const initialBounds = instance.delegate.data.internalData.uvBounds,\n                  bounds = {w: initialBounds.w * lightmapScale, h: initialBounds.h * lightmapScale}\n            instances.push(instance.lightmap = {\n                delegate: target,\n                bounds,\n                scale: vec2(bounds.w / width, bounds.h / height),\n                offset: vec2()\n            })\n            return defer || target.updateLayout() || (target.detachInstance(instance), false)\n        },\n        detachInstance: instance => {\n            let idx = instances.indexOf(instance.lightmap)\n            if(idx == -1) return false\n            delete instance.lightmap\n            instances.splice(idx, 1)\n        }\n    })\n}\n\nfactory.declare('gl_context', (target, options) => {\n    const gl = target.gl, ctx = target,\n          taskManager = options.manager,\n          lightmapScale = LIGHTMAP_RESOLUTION,\n          lightShaders = {\n              'spotlight': ctx.compileShader(vglsl.merge(shaders.bake_lightmap, shaders.spotlight)),\n              'spotlight-shadow': ctx.compileShader(vglsl.merge(shaders.bake_lightmap, shaders.vsm_shadow, shaders.spotlight)),\n              'omnilight': ctx.compileShader(vglsl.merge(shaders.bake_lightmap, shaders.omnilight)),\n              'omnilight-shadow': ctx.compileShader(vglsl.merge(shaders.bake_lightmap, shaders.vsm_cube_shadow, shaders.omnilight)),\n              'hemisphere': ctx.compileShader(vglsl.merge(shaders.bake_lightmap, shaders.hemisphere))\n          },\n          wireShader = {\n              'spotlight': (shader, light) => {\n                  shader.uao.light.color = vec3.copy(light.color, shader.uao.light.color)\n                  shader.uao.light.direction = vec3.copy(light.direction, shader.uao.light.direction) //TODO use global position\n                  shader.uao.light.radius = light.radius\n                  shader.uao.light.outerAngle = light.cosOuterAngle\n                  shader.uao.light.innerAngle = light.cosInnerAngle\n                  shader.uao.lightViewMatrix = mat4.copy(light.camera.viewMatrix, shader.uao.lightViewMatrix)\n              },\n              'omnilight': (shader, light) => {\n                  shader.uao.light.color = vec3.copy(light.color, shader.uao.light.color)\n                  shader.uao.light.radius = light.radius\n                  //TODO rework omnilight\n                  shader.uao.lightPosition = vec3.copy(light.camera.position, shader.uao.lightPosition)\n              },\n              'hemisphere': (shader, light) => {\n                  shader.uao.light.up = vec3.copy(light.up, shader.uao.light.up)\n                  shader.uao.light.skyColor = vec3.copy(light.skyColor, shader.uao.light.skyColor)\n                  shader.uao.light.groundColor = vec3.copy(light.groundColor, shader.uao.light.groundColor)\n              }\n          },\n          lightmapRegions = Object.create(null),\n          clearLightmap = instance => instance.lightmap && instance.lightmap.delegate.detachInstance(instance)\n    let framebuffer = null,\n        renderTexture = null\n    \n    return {\n        lightmapper: {\n            updateRegion: (lights, cluster) => {\n                //TODO doesn't rerender if instances or light were moved/changed\n                let region = lightmapRegions[cluster.index]\n                if(!region){\n                    region = { cluster, deferredLights: [], lights: [], lightmaps: [] }\n                    region.bake = target.lightmapper.bakeRegion.bind(target, region)\n                    region.clear = target.lightmapper.clearRegion.bind(target, region)\n                    region.lightCleanup = light => (region.lights.remove(light), region.lightmaps.forEach(lightmap => lightmap.dirtyFlag = true))\n                    lightmapRegions[cluster.index] = region\n                }\n                const deferredLights = lights\n                .filter(light => region.lights.indexOf(light) == -1 && region.deferredLights.indexOf(light) == -1)\n                .filter(light => !light.boundingSphereRadius || cluster.pointers\n                        .find(instance => Math.pow(light.boundingSphereRadius + instance.boundingSphereRadius, 2) > \n                              vec3.differenceSquared(light.camera.position, vec3.translationFromMat4(instance.modelMatrix, vec3.temp))))\n                region.deferredLights.push(...deferredLights)\n                deferredLights.forEach(light => light.onCleanup(region.deferredLights.remove.bind(region.deferredLights, light)))\n                taskManager.schedule(cluster.pointers.length ? region.bake : region.clear, false)\n            },\n            bakeRegion: region => {\n                const instances = region.cluster.pointers,\n                      lightmaps = region.lightmaps,\n                      instancesPerLightmap = [],\n                      deferredLights = region.deferredLights.slice()\n                instances.forEach(instance => {\n                    instance.onCleanup(clearLightmap)\n                    for(let i = 0, maxLightmaps = lightmaps.length; !instance.lightmap && i <= maxLightmaps; i++)\n                        (lightmaps[i] = lightmaps[i] || Lightmap(target, {width: lightmapScale*128, height: lightmapScale*128})).attachInstance(instance)\n                    if(!instance.lightmap)\n                        throw new Error(`Mesh ${instance.delegate.id} ${instance.delegate.data.internalData.uvBounds.w} x ${instance.delegate.data.internalData.uvBounds.h} does not fit into lightmap ${lightmapScale*128}`)\n                    const lightmapIdx = lightmaps.indexOf(instance.lightmap.delegate)\n                    return (instancesPerLightmap[lightmapIdx] = instancesPerLightmap[lightmapIdx] || []).push(instance)\n                })\n                region.deferredLights.length = 0\n                deferredLights.forEach(light => light.onCleanup(region.lightCleanup))\n                region.lights.push(...deferredLights)\n                logger.info('lightmap', `Baking lightmap region ${region.cluster.index} instances: ${instances.length} lights: ${deferredLights.length} count: ${lightmaps.length}`)\n                \n                for(let idx = 0; idx < lightmaps.length; idx++){\n                    if(!instancesPerLightmap[idx]) continue\n                    const lightmap = lightmaps[idx]\n                    if(lightmap.dirtyFlag)\n                        target.lightmapper.bakeLightmap(instancesPerLightmap[idx], region.lights, lightmap.texture, lightmap.dirtyFlag = false)\n                    else if(deferredLights.length)\n                        target.lightmapper.bakeLightmap(instancesPerLightmap[idx], deferredLights, lightmap.texture)\n                }\n            },\n            clearRegion: region => { //TODO use pool for textures and lightmap layouts\n                logger.info('lightmap', `Clearing lightmap region ${region.cluster.index} count: ${region.lightmaps.length}`)\n                region.lightmaps.forEach(lightmap => lightmap.texture.clear())\n                region.lights.forEach(light => light.cleanupProcedures.remove(region.lightCleanup))\n                region.deferredLights.length = region.lights.length = region.lightmaps.length = 0\n                delete lightmapRegions[region.cluster.index]\n            },\n            bakeLightmap: (instances, lights, outputTexture, accumulate = true) => {\n                if(!renderTexture) renderTexture = LightmapTexture(ctx, lightmapScale*128, lightmapScale*128)\n                if(!framebuffer) framebuffer = ctx.pollFramebuffer(renderTexture.width, renderTexture.height).attachTexture(renderTexture)\n                \n                taskManager.schedule(_ => {\n                    ctx.saveState()\n                    framebuffer.bind(true)\n                    \n                    ctx.clearColor = [0.0, 0.0, 0.0, 0.0]\n                    accumulate ? ctx.applyFilter(ctx.filters.none, framebuffer, outputTexture) : gl.clear(gl.COLOR_BUFFER_BIT) //TODO async\n                    \n                    framebuffer.unbind()\n                    ctx.restoreState()\n                })\n                \n                lights.forEach(light => {\n                    const shadowMap = light.castShadow && ctx.renderShadowMap(light, { blur: true, shared: true })\n                    \n                    taskManager.schedule(function(){\n                        target.lightmapper.bakeLight(light, instances, shadowMap && shadowMap.value)\n                    })\n                }) //TODO culling of instances\n                \n                taskManager.schedule(_ => { //TODO optimize. separate attach and render\n                    const tempFramebuffer = ctx.pollFramebuffer(outputTexture.width, outputTexture.height).attachTexture(outputTexture)\n                    ctx.applyFilter(ctx.filters.dilate, tempFramebuffer, renderTexture)\n                    tempFramebuffer.return()\n                })\n                return Signal(done => taskManager.schedule(done.bind(target, outputTexture)))\n            },\n            bakeLight: (light, instances, shadowMap) => {\n                const shader = lightShaders[`${light.type}${shadowMap ? '-shadow' : ''}`]\n                \n                ctx.saveState()\n                ctx.depthTest = ctx.culling = false\n                ctx.blendMode = 'add'\n                framebuffer.bind(true)\n                shader.use()\n                if(shadowMap) ctx.bindShadowMap(shadowMap, light, shader)\n                wireShader[light.type](shader, light)\n                \n                instances.forEach(instance => {\n                    if(!instance.lightmap) return\n                    ctx.enableVAO(instance.delegate.data)\n\n                    shader.uao.lightmapOffset = vec2.copy(instance.lightmap.offset, shader.uao.lightmapOffset) //lightmap is not defined\n                    shader.uao.lightmapScale = vec2.copy(instance.lightmap.scale, shader.uao.lightmapScale)\n\n                    //TODO culling before (in bake lightmaps)\n                    shader.uao.modelMatrix = mat4.copy(instance.modelMatrix, shader.uao.modelMatrix)\n                    shader.uao.update()\n                    ctx.drawElements(instance.delegate.data.totalSize, instance.delegate.data.offset)\n                })\n                \n                framebuffer.unbind()\n                ctx.restoreState()\n            }\n        },\n        bindLightmap: (instance, shader, location = 2) => {\n            if(!instance.lightmap)\n                return target.emptyTexture.bind(location)\n            \n            const lightmap = instance.lightmap\n            \n            lightmap.delegate.texture.bind(location)\n            shader.uao.lightmap = location\n            \n            shader.uao.lightmapOffset = vec2.copy(lightmap.offset, shader.uao.lightmapOffset)\n            shader.uao.lightmapScale = vec2.copy(lightmap.scale, shader.uao.lightmapScale)\n        }\n    }\n})\n\nexport {LIGHTMAP_RESOLUTION, LIGHTMAP_SCALE_FACTOR}","import {factory, Signal, tie} from '../../util'\nimport {shaders} from '../vglsl'\nimport {ATTRIBUTE_LOCATIONS} from '../glutil'\nimport {WRAP_MODE, FILTERING_MODE} from '../texture'\nimport {mat4} from '../../math'\n\nfactory.declare('gl_context', (target, options) => {\n    const gl = target.gl, ctx = target,\n          taskManager = options.manager,\n          shader = ctx.compileShader(shaders.vsm_depth),\n          shadowMapScale = 1\n    let framebuffer = null,\n        sharedShadowMap = null, //TODO rename to renderTexture\n        sharedShadowCubeMap = null\n    \n    return {//TODO add shadowmapper prefix?\n        renderShadowMap: (light, { shared = true, blur = true } = {}) => { //TODO async\n            const camera = light.camera\n            if(camera.cube) return target.renderShadowCubeMap(light, { shared })\n            if(!framebuffer) framebuffer = ctx.pollFramebuffer(shadowMapScale*1024, shadowMapScale*1024).attachTexture(null).attachDepth(true)\n            const shadowmap = (!shared && light.shadowmap) || (sharedShadowMap || (sharedShadowMap = factory.build('texture', { ctx })\n            .uploadTexture(null, {\n                width: framebuffer.width, \n                height: framebuffer.height, \n                format: gl.RGBA, \n                byteSize: (ctx.maxTexturePrecision === 32 && gl.FLOAT) || (ctx.maxTexturePrecision === 16 && gl.HALF_FLOAT) || gl.UNSIGNED_BYTE})\n            .setTextureParameters({\n                wrapMode: WRAP_MODE.set(WRAP_MODE.CLAMP, WRAP_MODE.CLAMP),\n                filteringMode: FILTERING_MODE.set(FILTERING_MODE.LINEAR, FILTERING_MODE.LINEAR, 0)})\n            .unbind()))\n            \n            taskManager.schedule(_ => {\n                ctx.saveState()\n            \n                ctx.blendMode = false\n                ctx.depthTest = true\n                ctx.culling = 'back'\n                shader.use()\n\n                shader.uao.viewMatrix = mat4.copy(camera.viewMatrix, shader.uao.viewMatrix)\n                shader.uao.projectionMatrix = mat4.copy(camera.projectionMatrix, shader.uao.projectionMatrix)\n                shader.uao.radius = light.radius\n\n                framebuffer.bind(true).attachTexture(shadowmap)\n                ctx.colorMask = [true, true, false, false]\n                ctx.clearColor = [0.0, 0.0, 0.0, 0.0]\n                gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT)\n\n                light.queryShadowcasters().forEach(instance => {\n                    const meshData = instance.delegate.data\n                    ctx.enableVAO(meshData)\n                    shader.uao.modelMatrix = mat4.copy(instance.modelMatrix, shader.uao.modelMatrix)\n                    shader.uao.update()\n                    ctx.drawElements(meshData.totalSize, meshData.offset)\n                })\n\n                framebuffer.unbind()\n                ctx.restoreState()\n            })\n            \n            return Signal(done => taskManager.schedule(function(){\n                if(!blur) return done.call(target, shadowmap)\n                \n                shadowmap.blur = shadowmap.blur || ctx.prepareFilter(ctx.filters.blur, shadowmap)\n                return done.call(target, shadowmap.blur())\n            }))\n        },\n        renderShadowCubeMap: (light, { shared = true } = {}) => {\n            const camera = light.camera\n            if(!framebuffer) framebuffer = ctx.pollFramebuffer(shadowMapScale*1024, shadowMapScale*1024).attachTexture(null).attachDepth(true)\n            const shadowmap = (!shared && light.shadowmap) || (sharedShadowCubeMap || (sharedShadowCubeMap = factory.build('texture', { ctx, cube: camera.cube })\n            .uploadTexture(null, {\n                width: framebuffer.width, \n                height: framebuffer.height, \n                format: gl.RGBA, \n                byteSize: (ctx.maxTexturePrecision === 32 && gl.FLOAT) || (ctx.maxTexturePrecision === 16 && gl.HALF_FLOAT) || gl.UNSIGNED_BYTE})\n            .setTextureParameters({\n                wrapMode: WRAP_MODE.set(WRAP_MODE.CLAMP, WRAP_MODE.CLAMP),\n                filteringMode: FILTERING_MODE.set(FILTERING_MODE.LINEAR, FILTERING_MODE.LINEAR, 0)})\n            .unbind()))\n            \n            camera.faces.forEach((camera, face) => taskManager.schedule(_ => {\n                ctx.saveState()\n            \n                ctx.blendMode = false\n                ctx.depthTest = true\n                ctx.culling = 'back'\n                shader.use()\n                \n                shader.uao.viewMatrix = mat4.copy(camera.viewMatrix, shader.uao.viewMatrix)\n                shader.uao.projectionMatrix = mat4.copy(camera.projectionMatrix, shader.uao.projectionMatrix)\n                shader.uao.radius = light.radius\n\n                framebuffer.bind(true).attachTexture(shadowmap, 0, face)\n                ctx.colorMask = [true, true, false, false]\n                ctx.clearColor = [0.0, 0.0, 0.0, 0.0]\n                gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT)\n\n                light.queryShadowcasters(face).forEach(instance => {\n                    const meshData = instance.delegate.data\n                    ctx.enableVAO(meshData)\n                    shader.uao.modelMatrix = mat4.copy(instance.modelMatrix, shader.uao.modelMatrix)\n                    shader.uao.update()\n                    ctx.drawElements(meshData.totalSize, meshData.offset)\n                })\n                \n                framebuffer.unbind()\n                ctx.restoreState()\n            }))\n            \n            return Signal(done => taskManager.schedule(done.bind(target, shadowmap)))\n        },\n        bindShadowMap: (shadowMap, light, shader, location = 1) => {\n            if(shader.uao.lightProjectionMatrix) shader.uao.lightProjectionMatrix = mat4.copy(light.camera.projectionMatrix, shader.uao.lightProjectionMatrix)\n            shader.uao.shadowMap = location\n            shadowMap.bind(location)\n        }\n    }\n})","import {factory, Signal, tie} from '../../util'\nimport {shaders, vglsl} from '../vglsl'\nimport {ATTRIBUTE_LOCATIONS} from '../glutil'\nimport {vec2, vec3, vec4, mat3, mat4} from '../../math'\n\nconst FullscreenQuad = ctx => {\n    const gl = ctx.gl,\n          quadVBO = factory.build('vbo', {ctx}).staticUpload(new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]), new Uint16Array([0, 1, 2, 0, 2, 3]))\n    \n    return {\n        render: _ => {\n            quadVBO.bind()\n            ctx.bindArrayAttribute(ATTRIBUTE_LOCATIONS['uv'], 2, gl.FLOAT, false, 2*4, 0)\n            ctx.drawElements(6, 0)\n        }\n    }\n}\n\nfactory.declare('gl_context', (target, options) => {\n    const gl = target.gl, ctx = target,\n          taskManager = options.manager,\n          quad = FullscreenQuad(target),\n          filters = {\n              blur: target.compileShader(vglsl.merge(shaders.fullscreen, shaders.box_blur)),\n              dilate: target.compileShader(vglsl.merge(shaders.fullscreen, shaders.dilate)),\n              none: target.compileShader(shaders.fullscreen)\n          }\n    \n    return {\n        filters,\n        prepareFilter: (filter, input, output) => {\n            output = output || factory.build('texture', {ctx}).copy(input)\n            const framebuffer = ctx.pollFramebuffer(output.width, output.height).attachTexture(output)\n            \n            return target.applyFilter.bind(null, filter, framebuffer, input)\n        },\n        applyFilter: (filter, framebuffer, input) => {\n            ctx.saveState()\n            ctx.depthTest = ctx.depthMask = ctx.blendMode = false\n            \n            filter.uao.pixelSize = vec2.copy([1.0/framebuffer.width, 1.0/framebuffer.height], filter.uao.pixelSize)\n            filter.uao.sampler = 0\n            input.bind(0)\n\n            framebuffer.bind(true)\n            filter.use()\n            \n            gl.clear(gl.COLOR_BUFFER_BIT)\n            quad.render()\n            \n            framebuffer.unbind()\n            ctx.restoreState()\n            return framebuffer.attachedTextures[0]\n        }\n    }\n})","import {factory, Signal, tie} from '../../util'\nimport {shaders, vglsl} from '../vglsl'\nimport {ATTRIBUTE_LOCATIONS} from '../glutil'\nimport {vec3, mat3, mat4} from '../../math'\n\nexport const SkyboxPass = (ctx, scene) => {\n    const gl = ctx.gl,\n          shader = ctx.compileShader(shaders.fullscreen_cube),\n          cubeVBO = factory.build('vbo', { ctx }).staticUpload(\n              new Float32Array([\n             1, 1, 1,  -1, 1, 1,  -1,-1, 1,   1,-1, 1,\n             1, 1, 1,   1,-1, 1,   1,-1,-1,   1, 1,-1,\n             1, 1, 1,   1, 1,-1,  -1, 1,-1,  -1, 1, 1,\n            -1, 1, 1,  -1, 1,-1,  -1,-1,-1,  -1,-1, 1,\n            -1,-1,-1,   1,-1,-1,   1,-1, 1,  -1,-1, 1,\n             1,-1,-1,  -1,-1,-1,  -1, 1,-1,   1, 1,-1\n              ]),\n              new Uint16Array([\n                  0, 1, 2,   0, 2, 3,\n                  4, 5, 6,   4, 6, 7,\n                  8, 9,10,   8,10,11,\n                  12,13,14,  12,14,15,\n                  16,17,18,  16,18,19,\n                  20,21,22,  20,22,23\n              ])\n          )\n    shader.uao.sampler = 0\n    \n    let skyboxTexture = null\n    \n    scene.camera.mutation.pipe(mutations => {\n        if(mutations.projectionMatrix)\n            shader.uao.projectionMatrix = mat4.copy(mutations.projectionMatrix, shader.uao.projectionMatrix)\n        //TODO optimize\n        if(mutations.viewMatrix)\n            shader.uao.modelViewMatrix = mat4.multiply(mutations.viewMatrix, mat4.translate(mat4.identity(), scene.camera.position), shader.uao.modelViewMatrix)\n    }, false)\n    \n//    app.ctx.renderShadowMap(app.scene.lights[2], { shared: false, blur: false }).pipe(texture => app.ctx.setSkyboxTexture(texture))\n    \n    return (ctx, scene, next, frame) => {\n        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT) //TODO have a skybox related pass!!\n        \n        if(!skyboxTexture) return next()\n        \n        ctx.saveState()\n        \n        ctx.depthTest = false\n        \n        shader.use()\n        cubeVBO.bind()\n        \n        ctx.bindArrayAttribute(ATTRIBUTE_LOCATIONS['position'], 3, gl.FLOAT, false, 3*4, 0)\n        skyboxTexture.bind(0)\n        \n        gl.drawElements(gl.TRIANGLES, 36, gl.UNSIGNED_SHORT, 0)\n        \n        ctx.restoreState()\n        next()\n    }\n}","import {factory, Signal, tie} from '../../util'\nimport {shaders, vglsl} from '../vglsl'\nimport {vec3, mat3, mat4} from '../../math'\n\nexport const StaticGeometryPass = (ctx, scene, lightmapping = true) => {\n    const gl = ctx.gl,\n          shader = lightmapping ? ctx.compileShader(vglsl.merge(shaders.static_geometry, shaders.fog_exp, shaders.render_lightmap))\n          : ctx.compileShader(vglsl.merge(shaders.static_geometry, shaders.fog_exp, shaders.blinn_phong, shaders.ambient_light))\n    shader.uao.albedo = 0\n    \n    scene.camera.mutation.pipe(mutations => {\n        if(mutations.projectionMatrix) shader.uao.Pmat = mat4.copy(mutations.projectionMatrix, shader.uao.Pmat)\n    })\n    scene.environment.mutation.pipe(mutations => {\n        if(mutations.fogColor){\n            shader.uao.fogColor = vec3.copy(mutations.fogColor, shader.uao.fogColor) //TODO can remove copy, just assign\n            ctx.clearColor = vec3.copy(mutations.fogColor, ctx.clearColor)\n        }\n        if(mutations.fogDensity) shader.uao.fogDensity = mutations.fogDensity\n    })\n    \n    if(lightmapping){\n        scene.clusterPartitioning.addEventListener('complete', ctx.lightmapper.updateRegion.bind(ctx, scene.lights))\n        scene.clusterPartitioning.addEventListener('remove', ctx.lightmapper.updateRegion.bind(ctx, scene.lights))\n        //scene.lights.mutation -> listen for all existing lights? capture all changes?\n        \n        scene.addEventListener('light', light => light.queryShadowcasters()\n                               .map(instance => instance.partitionCluster)\n                               .filter(cluster => cluster && !cluster.awaitEvent)\n                               .forEach(cluster => ctx.lightmapper.updateRegion([light], cluster)))\n        //TODO light removal and cluster removal? (maybe attach cluster removal to lightmap directly?, or instances?) same for lights\n    }\n    \n    return (ctx, scene, next, frame) => {\n        ctx.depthTest = true\n        ctx.depthMask = true\n        ctx.culling = 'back'\n        //shader.use()\n        \n        const geometry = scene.fetchInstancesByGroup('static')\n        let meshIdx = geometry.length,\n            subMeshIdx = null,\n            instanceIdx = null,\n            mesh = null,\n            meshData = null,\n            subMesh = null,\n            instance = null\n        while(meshIdx--){\n            mesh = geometry[meshIdx]\n            if(!mesh.loaded) continue\n            meshData = mesh.data\n            //ctx.enableVAO(meshData)\n            subMeshIdx = meshData.subMeshes.length\n            while(subMeshIdx--){\n                subMesh = meshData.subMeshes[subMeshIdx]\n                //subMesh.material && ctx.bindTextures(subMesh.material.textures)\n                instanceIdx = mesh.instances.length\n                while(instanceIdx--){\n                    instance = mesh.instances[instanceIdx]\n                    if(instance.frameFlag !== frame){\n                        instance.frameFlag = frame\n                        instance.visible = scene.camera.frustumCulling(instance)\n                    }\n                    if(!instance.visible) continue\n                    \n                    shader.use()\n                    ctx.enableVAO(meshData)\n                    subMesh.material && ctx.bindTextures(subMesh.material.textures)\n                    \n                    if(lightmapping) ctx.bindLightmap(instance, shader)\n                    shader.uao.MVmat = mat4.multiply(scene.camera.viewMatrix, instance.modelMatrix, shader.uao.MVmat)\n                    shader.uao.update()\n                    ctx.drawElements(subMesh.bufferLength, meshData.offset + subMesh.bufferOffset)\n                }\n            }\n        }\n        next()\n    }\n}","import {factory, Signal, tie} from '../../util'\nimport {shaders, vglsl} from '../vglsl'\nimport {vec3, mat3, mat4} from '../../math'\n\nconst RealtimeLightingPass = (ctx, scene) => {\n    const gl = ctx.gl,\n          shader = ctx.compileShader(vglsl.merge(shaders.static_geometry, shaders.fog_exp, shaders.blinn_phong, shaders.ambient_light))\n    shader.uao.albedo = 0\n    \n    //TODO connect to environment settings\n    shader.uao.ambient = [0.2, 0.2, 0.2]\n    shader.uao.sun.direction = vec3.normalize([0.5, 1, 0.5])\n    shader.uao.sun.color = [0.4, 0.4, 0.4]\n    \n    scene.camera.mutation.pipe(mutations => {\n        if(mutations.projectionMatrix) shader.uao.Pmat = mat4.copy(mutations.projectionMatrix, shader.uao.Pmat)\n    })\n    scene.environment.mutation.pipe(mutations => {\n        if(mutations.fogColor) shader.uao.fogColor = vec3.copy(mutations.fogColor, shader.uao.fogColor)\n        if(mutations.fogDensity) shader.uao.fogDensity = mutations.fogDensity\n    })\n    \n    return (ctx, scene, next, frame) => {\n        ctx.depthTest = true\n        ctx.culling = 'back'\n        \n        const geometry = scene.fetchInstancesByGroup('dynamic')\n        let meshIdx = geometry.length\n        while(meshIdx--){\n            let mesh = geometry[meshIdx]\n            if(!mesh.loaded) continue\n            let subMeshIdx = mesh.data.subMeshes.length\n            while(subMeshIdx--){\n                let subMesh = mesh.data.subMeshes[subMeshIdx]\n                let instanceIdx = mesh.instances.length\n                while(instanceIdx--){\n                    let instance = mesh.instances[instanceIdx]\n                    if(instance.frameFlag !== frame) \n                        instance.visible = scene.camera.frustumCulling(instance)\n                    if(!instance.visible) continue\n                    \n                    shader.use()\n                    ctx.enableVAO(mesh.data)\n                    subMesh.material && ctx.bindTextures(subMesh.material.textures)\n                    \n                    shader.uao.MVmat = mat4.multiply(scene.camera.viewMatrix, instance.modelMatrix, shader.uao.MVmat)\n                    shader.uao.update()\n                    ctx.drawElements(subMesh.bufferLength, mesh.data.offset + subMesh.bufferOffset)\n                }\n            }\n        }\n        next()\n    }\n}\n\nexport {RealtimeLightingPass}","import {factory, Signal, tie} from '../../util'\nimport {shaders, vglsl} from '../vglsl'\nimport {vec3, mat3, mat4} from '../../math'\n\nconst SkinnedGeometryPass = (ctx, scene, options = {}) => {\n    options.dualQuatSkinning = true\n    const gl = ctx.gl,\n          shader = options.dualQuatSkinning ? ctx.compileShader(vglsl.merge(shaders.geometry, shaders.dualquat_skinning, shaders.fog_exp))\n    : ctx.compileShader(vglsl.merge(shaders.geometry, shaders.linear_skinning, shaders.fog_exp))\n    shader.uao.albedo = 0\n    \n    scene.camera.mutation.pipe(mutations => {\n        if(mutations.projectionMatrix) shader.uao.projectionMatrix = mat4.copy(mutations.projectionMatrix, shader.uao.projectionMatrix)\n    })\n    \n    scene.environment.mutation.pipe(mutations => {\n        if(mutations.fogColor) shader.uao.fogColor = vec3.copy(mutations.fogColor, shader.uao.fogColor)\n        if(mutations.fogDensity) shader.uao.fogDensity = mutations.fogDensity\n    })\n\n    return (ctx, scene, next, frame) => {\n        ctx.depthTest = true\n        ctx.culling = 'back'\n        shader.use()\n            \n        const geometry = scene.fetchInstancesByGroup('skinned')\n        let meshIdx = geometry.length,\n            subMeshIdx = null,\n            instanceIdx = null,\n            mesh = null,\n            meshData = null,\n            subMesh = null,\n            instance = null\n        while(meshIdx--){\n            mesh = geometry[meshIdx]\n            if(!mesh.loaded) continue\n            meshData = mesh.data\n            ctx.enableVAO(meshData)\n            subMeshIdx = meshData.subMeshes.length\n            while(subMeshIdx--){\n                subMesh = meshData.subMeshes[subMeshIdx]\n                subMesh.material && ctx.bindTextures(subMesh.material.textures)\n                instanceIdx = mesh.instances.length\n                while(instanceIdx--){\n                    instance = mesh.instances[instanceIdx]\n                    if(instance.frameFlag !== frame) \n                        instance.visible = scene.camera.frustumCulling(instance)\n                    if(!instance.visible) continue\n                    \n                    shader.uao.modelViewMatrix = mat4.multiply(scene.camera.viewMatrix, instance.modelMatrix, shader.uao.modelViewMatrix)\n                    \n                    meshData.armature.update(instance.animationClip)\n                    instance.applyTransform(meshData.armature)\n                    shader.uao.boneMatrix = meshData.armature.jointMatrixArray\n                    \n                    shader.uao.highlightColor = vec3.copy(instance.highlight, shader.uao.highlightColor)\n                    \n                    shader.uao.update()\n                    ctx.drawElements(subMesh.bufferLength, meshData.offset + subMesh.bufferOffset)\n                }\n            }\n        }\n\n        \n        next()\n    }\n}\n\nexport {SkinnedGeometryPass}","import {factory, Signal, tie} from '../../util'\nimport {shaders, vglsl} from '../vglsl'\nimport {vec2, vec3, vec4, quat, mat3, mat4} from '../../math'\n\nconst decal_geometry = {\n    vert: vglsl.createShader(),\n    frag: vglsl.createShader()\n    .extension('GL_EXT_frag_depth')\n\n    .main([\n        'vec4 color = texture2D(albedo, vTexCoords);',\n\n        'if(color.a <= 0.1) discard;',\n\n        '#ifdef GL_EXT_frag_depth',\n        'gl_FragDepthEXT = gl_FragCoord.z - 0.000001;',\n        '#endif',\n\n        'vec3 normal = normalize(vNormal);',\n        'vec3 viewDirection = normalize(vViewDir);',\n        'vec3 totalLight = calcLighting(normal, viewDirection);',\n        'gl_FragColor = vec4(applyFog(totalLight * color.rgb), color.a);'\n    ])\n}\n\nexport const DecalGeometryPass = (ctx, scene, lightmapping = true) => {\n    const gl = ctx.gl\n    const dataFormat = [\n        { type: 'position', size: 3, byteSize: 4 },\n        { type: 'normal', size: 3, byteSize: 4 },\n        { type: 'uv', size: 2, byteSize: 4 }\n    ].concat(lightmapping ? [\n        { type: 'lm_uv', size: 2, byteSize: 4 }\n    ] : [])\n\n    const shader = lightmapping ? ctx.compileShader(vglsl.merge(shaders.static_geometry, shaders.fog_exp, shaders.render_lightmap, decal_geometry)) : null\n    shader.uao.albedo = 0\n    \n    scene.camera.mutation.pipe(mutations => {\n        if(mutations.projectionMatrix) shader.uao.Pmat = mat4.copy(mutations.projectionMatrix, shader.uao.Pmat)\n        if(mutations.viewMatrix) shader.uao.MVmat = mat4.copy(mutations.viewMatrix, shader.uao.MVmat)\n    }, false)\n    scene.environment.mutation.pipe(mutations => {\n        if(mutations.fogColor) shader.uao.fogColor = vec3.copy(mutations.fogColor, shader.uao.fogColor) //TODO can remove copy, just assign\n        if(mutations.fogDensity) shader.uao.fogDensity = mutations.fogDensity\n    })\n\n    const decalRegions = Object.create(null)\n    function updateRegion(cluster){ //TODO async deferred\n        //TODO zones load multiple times?\n        if(decalRegions[cluster.index] && decalRegions[cluster.index].uploadEvent){\n            decalRegions[cluster.index].uploadEvent.listen(mesh => mesh.unload())\n            delete decalRegions[cluster.index]\n            //TODO clear\n        }\n        const staticGeometry = cluster.pointers.slice()\n        const decals = scene.fetchInstancesByGroup('decal').map(({ instances }) => instances).flatten()\n        \n        const regionData = Object.create(null)\n        decalRegions[cluster.index] = regionData\n        regionData.uploadEvent = ctx.batchDecals(decals, staticGeometry, dataFormat).pipe(meshData => {\n            Object.assign(regionData, meshData)\n            return ctx.uploadMeshData(meshData, null, true).pipe(mesh => regionData.data = mesh)\n        })\n    }\n    scene.clusterPartitioning.addEventListener('complete', updateRegion)\n    scene.clusterPartitioning.addEventListener('remove', updateRegion)\n\n    return (ctx, scene, next, frame) => {\n        ctx.depthTest = true\n        ctx.depthMask = false\n        ctx.culling = 'back'\n        shader.use()\n        \n        const regions = scene.clusterPartitioning.clusters\n        let regionIdx = regions.length\n        while(regionIdx--){\n            const mesh = decalRegions[regions[regionIdx].index]\n            if(!mesh || !mesh.data) continue\n            ctx.enableVAO(mesh.data)\n            let submeshIdx = mesh.submeshes.length,\n                submesh = null\n            while(submeshIdx--){\n                submesh = mesh.submeshes[submeshIdx]\n                \n                if(submesh.instance.frameFlag !== frame){\n                    submesh.instance.frameFlag = frame\n                    submesh.instance.visible = scene.camera.frustumCulling(submesh.instance)\n                }\n                if(!submesh.instance.visible) continue\n                \n                ctx.bindTextures(submesh.materials)\n                if(lightmapping) ctx.bindLightmap(submesh.delegate, shader)\n                shader.uao.update()\n                ctx.drawElements(submesh.length, mesh.data.offset + submesh.offset)\n            }\n        }\n        next()\n    }\n}","import {tie} from '../../../util'\n\nconst CORNERS = [\n    [-0.5, -0.5],\n    [+0.5, -0.5],\n    [+0.5, +0.5],\n    [-0.5, +0.5]\n]\n\nconst InterleavedArrayIterator = (requireArray, format) => {\n    const iterator = Object.create(null),\n          stride = format.reduce((size, property) => (property[2] = size) + (property[3] = property[1].length || 1), 2),\n          arrayPointer = typeof requireArray === 'function' ? requireArray(4  * stride) : requireArray\n    let arrayOffset = 0\n    format.forEach(property => property[0] && Object.defineProperty(iterator, property[0], {\n        set: new Function('array', 'value', `var i=this.offset+${property[2]};${Array(4)\n                          .fill(property[3] > 1 ? Array.range(property[3]).map(i => `array[i+${i}] = value[${i}];`).join('') : 'array[i] = value;')\n                          .join(`i+=${stride};`)}`)\n        .bind(iterator, arrayPointer),\n        get: new Function('array', `var i=this.offset+${property[2]};return array.slice(i,i+${property[3]})${property[3] == 1 ? '[0]' : ''};`)\n        .bind(iterator, arrayPointer)\n    }))\n    \n    return tie(iterator, {\n        set index(value){ arrayOffset = value * stride * 4 },\n        get stride(){ return 4 * stride },\n        get offset(){ return arrayOffset },\n        get array(){ return arrayPointer },\n        init: skipDefaults => {\n            CORNERS.forEach((corner, i) => {\n                let offset = arrayOffset + i * stride\n                arrayPointer[offset + 0] = corner[0]\n                arrayPointer[offset + 1] = corner[1]\n            })\n            if(!skipDefaults) format.forEach(property => iterator[property[0]] = property[1])\n        }\n    })\n}\n\nconst generateParticleTexture = _ => { //TODO more options\n    const pixelBase = [0, 0.2, 0.7, 1, 0.7, 0.2, 0, 0],\n          size = pixelBase.length,\n          pixels = []\n    for(let y = 0; y < size; y++)\n        for(let x = 0; x < size; x++){\n            let pixel = pixelBase[x] * pixelBase[y]\n            pixels.push(pixel, pixel, pixel, pixel)\n        }\n    return { data: pixels, width: 8, height: 8, channels: 8 } //TODO what is the format for the output?\n}\n\nconst ColorRamp = (...colors) => ({\n    data: colors.flatten(),\n    width: colors.length,\n    height: 1,\n    channels: colors[0].length\n})\n\nconst RangeSampler = (value, range) => {\n    if(!value.length)\n        return _ => value + (Math.random() - 0.5) * range * 2\n    const temp = []\n    return _ => {\n        for(let i = value.length - 1; i >= 0; i--)\n            temp[i] = value[i] + (Math.random() - 0.5) * range[i] * 2\n        return temp\n    }\n}\n\nexport {InterleavedArrayIterator, generateParticleTexture, RangeSampler, ColorRamp}","import {tie} from '../../../util'\nimport {vec3, vec4, mat4} from '../../../math'\n\nconst approximateParticleSystemRadius = (group, range, samples = 4) => { //TODO include world velocity and acceleration\n    let max = 0\n    for(let rangeLength = range[1] - range[0], i = 0; i < samples; i++){\n        let index = Math.floor(rangeLength * i/samples)\n        group.arrayIterator.index = range[0] + index\n        let position = group.arrayIterator.position,\n            velocity = group.arrayIterator.velocity,\n            acceleration = group.arrayIterator.acceleration,\n            time = group.arrayIterator.lifeTime\n        max = Math.max(max, Math.abs(position[0]) + Math.abs(velocity[0]) + Math.abs(acceleration[0]),\n                       Math.abs(position[1]) + Math.abs(velocity[1]) + Math.abs(acceleration[1]),\n                       Math.abs(position[2]) + Math.abs(velocity[2]) + Math.abs(acceleration[2]))\n    }\n    return max\n}\n\nconst ParticleEmitter = (group, options) => {\n    const emitter = Object.create(null),\n          material = [options.colorRamp, options.texture],\n          attributes = options.emitter\n\n    attributes.timeRange = attributes.timeRange || options.particle.lifeTime\n    attributes.frameCount = attributes.frameCount || 1\n    attributes.frameDuration = attributes.frameDuration || options.particle.lifeTime / attributes.frameCount\n    \n    const range = group.allocate(options.count, options.particle)\n    let cursor = 0\n        \n    return tie(emitter, {\n        modelMatrix: mat4.identity(),\n        static: options.static,\n        time: 0,\n        radius: approximateParticleSystemRadius(group, range),\n        get blendMode(){ return options.blend },\n        get instances(){ return options.instances },\n        get attributes(){ return attributes },\n        get material(){ return material }, //TODO assign instead of getters\n        get bufferLength(){ return 6 * options.count },\n        get bufferOffset(){ return 6 * range[0] },\n        advanceTime: deltaTime => emitter.time += deltaTime,\n        emitParticles: (count, transform) => {\n            const position = options.particle.position,\n                  orientation = options.particle.orientation\n            //if(position.applyTransform) position.applyTransform(vec => )\n            vec3.translationFromMat4(transform, position) //TODO \n            options.particle.startTime = emitter.time\n            \n            const limit = range[1] - range[0]\n            count = count % limit\n            \n            if(cursor + count > limit){\n                let remaining = limit - cursor\n                group.update(range[0] + cursor, remaining, options.particle)\n                count -= remaining\n                cursor = 0\n            }\n            group.update(range[0] + cursor, count, options.particle)\n            cursor += count\n        }\n    })\n}\n\nexport {ParticleEmitter}","import {tie, factory} from '../../../util'\nimport {vec3, vec4} from '../../../math'\nimport {InterleavedArrayIterator} from './util'\nimport {ParticleEmitter} from './emitter'\n\nfactory.declare('particle_system', (target, { ctx }) => { //TODO better place to put common functionality?\n    const gl = ctx.gl,\n          vertexBuffer = gl.createBuffer(),\n          indexBuffer = gl.createBuffer()\n    \n    return {\n        uploadRange: (startIndex, endIndex, vertexArray) => {            \n            target.bind()\n            const dataView = new Float32Array(vertexArray.buffer, startIndex * Float32Array.BYTES_PER_ELEMENT, endIndex - startIndex)\n            gl.bufferSubData(gl.ARRAY_BUFFER, startIndex * Float32Array.BYTES_PER_ELEMENT, dataView)\n            return target\n        },\n        upload: (vertexArray, indexArray) => { //TODO maybe move that into vbo?\n            target.bind()\n            \n            if(vertexArray instanceof Float32Array)\n                gl.bufferData(gl.ARRAY_BUFFER, vertexArray, gl.DYNAMIC_DRAW)\n            else if(!isNaN(vertexArray))\n                gl.bufferData(gl.ARRAY_BUFFER, vertexArray * Float32Array.BYTES_PER_ELEMENT, gl.DYNAMIC_DRAW)\n                \n            if(indexArray instanceof Uint16Array)\n                gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, indexArray, gl.STATIC_DRAW)\n            \n            return target\n        },\n        bind: _ => { //TODO common VBO methods?\n            if(ctx.onBind('vbo', target)){\n                gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer)\n                gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer)\n            }\n            return target\n        },\n        unbind: _ => {\n            ctx.onBind('vbo', null)\n            gl.bindBuffer(gl.ARRAY_BUFFER, null)\n            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null)\n            return target\n        },\n        clear: _ => {\n            ctx.clearVBOAttributePointers(target)\n            gl.deleteBuffer(vertexBuffer)\n            gl.deleteBuffer(indexBuffer)\n        }\n    }\n})\n\nfactory.declare('particle_system', (target, { format, limit }) => {\n    const arrayIterator = InterleavedArrayIterator(size => new Float32Array(size * limit), format),\n          emitters = [],\n          reservedRanges = [],\n          deferredRanges = [],\n          requireRange = size => {\n              let index, offset = 0\n              for(index = 0; index < reservedRanges.length; index++){\n                  if(reservedRanges[index][0] - offset >= size) break\n                  offset = reservedRanges[index][1]\n              }\n              const range = [offset, offset + size]\n              reservedRanges.splice(index, 0, range)\n              return range\n          },\n          deferRangeUpload = range => {\n              const mergeThreshold = limit / 16\n              for(let i = deferredRanges.length - 1; i >= 0; i--){\n                  let mergedRange = deferredRanges[i]\n                  let t = mergedRange.slice()\n                  if(range[0] > mergedRange[1] + mergeThreshold || range[1] < mergedRange[0] - mergeThreshold) continue\n                  mergedRange[0] = Math.min(mergedRange[0], range[0])\n                  mergedRange[1] = Math.max(mergedRange[1], range[1])\n                  return true\n              }\n              deferredRanges.push(range)\n          }\n    \n    target.upload(arrayIterator.array.length, new Uint16Array(Array.range(limit).map(i => [0,1,2,0,2,3].map(idx => idx + i * 4)).flatten()))\n    \n    return {\n        arrayIterator,\n        get emitters(){ return emitters },\n        createEmitter: options => {\n            const emitter = ParticleEmitter(target, options)\n            emitters.push(emitter)\n            return emitter\n        },\n        allocate: (count, particleSettings) => {\n            const parameterNames = Object.keys(particleSettings),\n                  range = requireRange(count),\n                  indexOffset = range[0]\n            for(let i = 0; i < count; i++){\n                arrayIterator.index = indexOffset + i\n                arrayIterator.init()\n                parameterNames.forEach(param => {\n                    let value = particleSettings[param]\n                    if(typeof value === 'function') value = value.call(target, i, count, particleSettings)\n                    arrayIterator[param] = value\n                })\n            }\n            deferRangeUpload(range.slice())\n            return range\n        },\n        update: (indexOffset, count, particleSettings) => {\n            const parameterNames = Object.keys(particleSettings)\n            for(let i = 0; i < count; i++){\n                arrayIterator.index = indexOffset + i\n                parameterNames.forEach(param => {\n                    let value = particleSettings[param]\n                    if(typeof value === 'function') value = value.call(target, i, count, particleSettings)\n                    arrayIterator[param] = value\n                })\n            }\n            deferRangeUpload([indexOffset, indexOffset + count])\n        },\n        syncBufferData: _ => {\n            if(!deferredRanges) return true\n            deferredRanges.forEach(range => target.uploadRange(range[0] * arrayIterator.stride, range[1] * arrayIterator.stride, arrayIterator.array))\n            deferredRanges.length = 0\n        }\n    }\n})","import {factory, tie} from '../../../util'\nimport {generateParticleTexture} from './util'\n\nfactory.declare('gl_context', (target, options) => {\n    const gl = target.gl,\n          groups = []\n        \n    return {\n        get particleSystems(){ return groups },\n        registerParticleSystem: ({ attributeFormat, bufferFormat, limit, shaderSrc }) => {\n            const group = factory.build('particle_system', { ctx: target, format: bufferFormat, limit })\n            const attributeLocations = attributeFormat.reduce((attributes, attribute, location) => \n                                                              (attributes[attribute.type] = location, attributes), Object.create(null))\n            shaderSrc.attributeLocations = attributeLocations\n            const shader = target.compileShader(shaderSrc)\n            const vao = factory.build('vao', {ctx: target}).setup(group, attributeFormat, attributeLocations)\n            \n            shader.uao.rampSampler = 0\n            shader.uao.textureAtlas = 1\n            \n            groups.push({ group, shader, vao })\n            return groups[groups.length - 1]\n        }\n    }\n})","import {EPSILON, vec3} from '../../math'\n\nvec3.MAX = vec3(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE)\nvec3.MIN = vec3(-Number.MAX_VALUE, -Number.MAX_VALUE, -Number.MAX_VALUE)\n\nvec3.temp = vec3()\n\nvec3.AXIS_X = vec3(1,0,0)\nvec3.AXIS_Y = vec3(0,1,0)\nvec3.AXIS_Z = vec3(0,0,1)\n\nvec3.ZERO = vec3(0)\nvec3.ONE = vec3(1)\n\nvec3.set = (x, y, z, out = vec3()) => {\n    out[0] = x\n    out[1] = y\n    out[2] = z\n    return out\n}\n\nvec3.distanceSquared = v => {\n    const x = v[0], y = v[1], z = v[2]\n    return x*x + y*y + z*z\n}\n\nvec3.distance = v => {\n    let x = v[0], y = v[1], z = v[2]\n    return Math.sqrt(x*x + y*y + z*z)\n}\n\nvec3.differenceSquared = (a, b) => {\n    const dx = a[0] - b[0],\n          dy = a[1] - b[1],\n          dz = a[2] - b[2]\n    return dx*dx + dy*dy + dz*dz\n}\n\nvec3.difference = (a, b) => {\n    const dx = a[0] - b[0],\n          dy = a[1] - b[1],\n          dz = a[2] - b[2]\n    return Math.sqrt(dx*dx + dy*dy + dz*dz)\n}\n\nvec3.transformMat3 = (v, m, out = vec3()) => {\n    const x = v[0], y = v[1], z = v[2]\n    out[0] = m[0]*x + m[1]*y + m[2]*z\n    out[1] = m[3]*x + m[4]*y + m[5]*z\n    out[2] = m[6]*x + m[7]*y + m[8]*z\n    return out\n}\n\nvec3.negate = (v, out = vec3()) => {\n    out[0] = -v[0]\n    out[1] = -v[1]\n    out[2] = -v[2]\n    return out\n}\n\nvec3.extractTangents = (normal, tangent, binormal) => { //TODO refactor?\n    //TODO wrong? why? assumes tangent obj !== binormal obj\n    vec3.normalize(normal, binormal)\n    if(Math.abs(binormal[0]) < 0.9)\n        vec3.cross(binormal, vec3.AXIS_X, tangent)\n    else\n        vec3.cross(binormal, vec3.AXIS_Y, tangent)\n    vec3.cross(binormal, tangent, binormal)\n}\n\nvec3.equals = (a, b) => Math.abs(a[0] - b[0]) <= EPSILON && Math.abs(a[1] - b[1]) <= EPSILON && Math.abs(a[2] - b[2]) <= EPSILON\n\nexport {vec3}","import {vec2} from '../../math'\n\nvec2.set = (x, y, out = vec2()) => {\n    out[0] = x\n    out[1] = y\n    return out\n}\n\nexport {vec2}","import {mat3} from '../../math'\n\nmat3.ZERO = mat3(0)\nmat3.temp = mat3()\n\nmat3.scale = (m, v, out = mat3()) => {\n    const sx = v[0], sy = v[1], sz = v[2]\n    out[0] = sx * m[0]\n    out[1] = sy * m[1]\n    out[2] = sz * m[2]\n    \n    out[3] = sx * m[3]\n    out[4] = sy * m[4]\n    out[5] = sz * m[5]\n    \n    out[6] = sx * m[6]\n    out[7] = sy * m[7]\n    out[8] = sz * m[8]\n    return out\n}\n\nexport {mat3}","import {quat} from '../../math'\n\nquat.set = (x, y, z, w, out = quat()) => {\n    out[0] = x\n    out[1] = y\n    out[2] = z\n    out[3] = w\n    return out\n}\n\nquat.conjugate = (q, out = quat()) => {\n    out[0] = -q[0]\n    out[1] = -q[1]\n    out[2] = -q[2]\n    out[3] = q[3]\n    return out\n}\n\nquat.invert = (q, out = quat()) => { //TODO: For normalized, conjugate is enough\n    const x = q[0], y = q[1], z = q[2], w = q[3],\n          lengthSquared = x*x + y*y + z*z + w*w,\n          invLengthSquared = lengthSquared ? 1 / lengthSquared : 0\n    out[0] = invLengthSquared * -x\n    out[1] = invLengthSquared * -y\n    out[2] = invLengthSquared * -z\n    out[3] = invLengthSquared * w\n    return out\n}\n\nquat.normalizeApproximation = (q, out = quat()) => {\n    const x = q[0], y = q[1], z = q[2], w = q[3],\n          f = (3.0 - (x*x + y*y + z*z + w*w)) / 2.0\n    out[0] = x * f\n    out[1] = y * f\n    out[2] = z * f\n    out[3] = w * f\n    return out\n}\n\nquat.temp = quat()\n\nexport {quat}","import {vec3} from './vec3'\nimport {quat} from './quat'\n\nconst Transform = {\n    pointToLocalFrame: (point, position, rotation, out = vec3()) => {\n        vec3.subtract(point, position, out)\n        quat.conjugate(rotation, quat.temp)\n        vec3.transformQuat(out, quat.temp, out)\n        return out\n    },\n    pointToWorldFrame: (point, position, rotation, out = vec3()) => {\n        vec3.transformQuat(point, rotation, out)\n        vec3.add(out, position, out)\n        return out\n    },\n    vectorToLocalFrame: (vector, position, rotation, out = vec3()) => {\n        quat.conjugate(rotation, quat.temp)\n        vec3.transformQuat(vector, quat.temp, out)\n        return out\n    },\n    vectorToWorldFrame: (vector, position, rotation, out = vec3()) => {\n        vec3.transformQuat(vector, rotation, out)\n        return out\n    }\n}\n\nexport {Transform}","import {vec3} from './vec3'\n\nconst AABB = _ => ({ lowerBound: vec3(), upperBound: vec3() })\n\nAABB.temp = AABB()\n\nAABB.copy = (aabb, out = AABB()) => {\n    vec3.copy(aabb.lowerBound, out.lowerBound)\n    vec3.copy(aabb.upperBound, out.upperBound)\n    return out\n}\n\nAABB.margin = (aabb, margin, out = AABB()) => {\n    out.lowerBound[0] = aabb.lowerBound[0] - margin\n    out.lowerBound[1] = aabb.lowerBound[1] - margin\n    out.lowerBound[2] = aabb.lowerBound[2] - margin\n    out.upperBound[0] = aabb.upperBound[0] + margin\n    out.upperBound[1] = aabb.upperBound[1] + margin\n    out.upperBound[2] = aabb.upperBound[2] + margin\n    return out\n}\n\nAABB.extend = (a, b, out = AABB()) => {\n    vec3.min(a.lowerBound, b.lowerBound, out.lowerBound)\n    vec3.max(a.upperBound, b.upperBound, out.upperBound)\n    return out\n}\n\nAABB.overlap = (a, b) => {\n    const minA = a.lowerBound,\n          maxA = a.upperBound,\n          minB = b.lowerBound,\n          maxB = b.upperBound,\n          overlapX = (minB[0] <= maxA[0] && maxA[0] <= maxB[0]) || (minA[0] <= maxB[0] && maxB[0] <= maxA[0]),\n          overlapY = (minB[1] <= maxA[1] && maxA[1] <= maxB[1]) || (minA[1] <= maxB[1] && maxB[1] <= maxA[1]),\n          overlapZ = (minB[2] <= maxA[2] && maxA[2] <= maxB[2]) || (minA[2] <= maxB[2] && maxB[2] <= maxA[2])\n    return overlapX && overlapY && overlapZ\n}\n\nAABB.volume = aabb => {\n    const min = aabb.lowerBound,\n          max = aabb.upperBound\n    return (max[0] - min[0]) * (max[1] - min[1]) * (max[2] - min[2])\n}\n\nAABB.contains = (outer, inner) => {\n    const minA = outer.lowerBound,\n          maxA = outer.upperBound,\n          minB = inner.lowerBound,\n          maxB = inner.upperBound\n    return minA[0] <= minB[0] && maxB[0] <= maxA[0]\n        && minA[1] <= minB[1] && maxB[1] <= maxA[1]\n        && minA[2] <= minB[2] && maxB[2] <= maxA[2]\n}\n\nAABB.surfaceArea = aabb => {\n    const width = aabb.upperBound[0] - aabb.lowerBound[0],\n          height = aabb.upperBound[1] - aabb.lowerBound[1],\n          depth = aabb.upperBound[2] - aabb.lowerBound[2]\n    return 2 * (width * (height + depth) + height * depth)\n}\n\nAABB.rayIntersect = (aabb, ray) => { //TODO ray intersection should be separate? Also, we already have the same function!!!\n    const direction = ray._direction,\n          origin = ray.from,\n          lower = aabb.lowerBound,\n          upper = aabb.upperBound,\n          invX = 1.0 / direction[0],\n          invY = 1.0 / direction[1],\n          invZ = 1.0 / direction[2],\n          t0 = (lower[0] - origin[0]) * invX,\n          t1 = (upper[0] - origin[0]) * invX,\n          t2 = (lower[1] - origin[1]) * invY,\n          t3 = (upper[1] - origin[1]) * invY,\n          t4 = (lower[2] - origin[2]) * invZ,\n          t5 = (upper[2] - origin[2]) * invZ,\n          tMax = Math.min(Math.max(t0, t1), Math.max(t2, t3), Math.max(t4, t5))\n    if(tMax < 0) return false\n    const tMin = Math.max(Math.min(t0, t1), Math.min(t2, t3), Math.min(t4, t5))\n    return tMin <= tMax\n}\n\nexport {AABB}","//TODO ray utility functions - not used right now\nimport {vec3} from './vec3'\nimport {aquireVec3Pool} from '../math'\nimport {Pool} from '../../util'\nimport {quat} from './quat'\nimport {AABB} from './aabb'\n\nconst Ray = (origin = vec3(), target = vec3()) => ({\n    origin, target,\n    direction: vec3.normalize(vec3.subtract(target, origin)),\n    length: vec3.difference(target, origin)\n})\nRay.precision = 0.0001\n\nRay.computeAABB = (ray, out = AABB()) => {\n    vec3.min(ray.origin, ray.target, out.lowerBound)\n    vec3.max(ray.origin, ray.target, out.upperBound)\n    return out\n}\n\nconst IntersectionManifold = () => ({\n    intersectionPoint: vec3(),\n    intersectionNormal: vec3(),\n    distance: 0\n})\n\nconst Raytracer = (world, intersectionDetector) => {\n    const candidates = []\n    const intersectionPool = Pool(IntersectionManifold)\n    const rayAABB = AABB()\n    \n    //TODO unfinished functionality\n    const context = {\n        options: {\n            skipBackFaces: true,\n            nearest: false\n        },\n        vec3Pool: null,\n        intersectionPoint: vec3(),\n        intersectionNormal: vec3(),\n        ray: null,\n        shape: null,\n        body: null,\n        intersectionPoints: [],\n        clear(){\n            //TODO clear options\n            if(context.intersectionPoints.length == 0) return\n            intersectionPool.release.apply(intersectionPool, context.intersectionPoints)\n            context.intersectionPoints.length = 0\n        },\n        registerIntersection(){\n            if(context.options.skipBackFaces && vec3.dot(context.intersectionNormal, context.ray.direction) > 0) return false\n            let intersection,\n                distance = vec3.difference(context.ray.origin, context.intersectionPoint)\n            \n            if(context.options.nearest && context.intersectionPoints[0]){\n                intersection = context.intersectionPoints[0]\n                if(intersection.distance < distance) return false\n            }else{\n                intersection = intersectionPool.obtain()\n                context.intersectionPoints.push(intersection)\n                //TODO sort by distance\n            }\n            \n            vec3.copy(context.intersectionPoint, intersection.intersectionPoint)\n            vec3.copy(context.intersectionNormal, intersection.intersectionNormal)\n            intersection.distance = distance\n            \n            return intersection\n        }\n    }\n    \n    const worldPosition = vec3()\n    const worldRotation = quat()\n    \n    return (ray, options) => {\n        context.clear()\n        context.ray = ray\n        Object.assign(context.options, options)\n        \n        const vec3Pool = context.vec3Pool = aquireVec3Pool()\n        Ray.computeAABB(ray, rayAABB)\n        candidates.length = 0\n    \n        const bodies = world.broadphase.aabbQuery ? world.broadphase.aabbQuery(rayAABB, candidates) : world.bodies\n        for(let i = bodies.length - 1; i >= 0; i--){\n            let body = context.body = bodies[i]\n            if(body.dynamic) continue //TODO configure for dynamic objects as well\n            for(let j = body.shapes.length - 1; j >= 0; j--){\n                quat.multiply(body.quaternion, body.shapeOrientations[j], worldRotation)\n                vec3.transformQuat(body.shapeOffsets[j], body.quaternion, worldPosition)\n                vec3.add(body.position, worldPosition, worldPosition)\n                let shape = context.shape = body.shapes[j]\n\n                vec3.subtract(worldPosition, ray.origin, vec3.temp)\n                vec3.scale(ray.direction, vec3.dot(vec3.temp, ray.direction), vec3.temp)\n                vec3.add(ray.origin, vec3.temp, vec3.temp)\n                let distance = vec3.difference(vec3.temp, worldPosition) //TODO optimise\n\n                if(distance > shape.boundingSphereRadius) continue\n\n                let intersectMethod = intersectionDetector[shape.type] //TODO clear vec3Pool after each detector call\n                if(!intersectMethod) continue\n\n                intersectMethod.call(null, context, shape, worldPosition, worldRotation, ray)\n            }\n        }\n\n        vec3Pool.release()\n        return context.intersectionPoints\n    }\n}\n\nconst rayPlane = (context, shape, worldPosition, worldRotation, ray) => {\n    const { intersectionPoint, intersectionNormal } = context\n    const vec3Pool = context.vec3Pool\n    vec3.transformQuat(vec3.AXIS_Z, worldRotation, intersectionNormal)\n    let distance = vec3.subtract(ray.origin, worldPosition, vec3Pool.obtain())\n    let planeOrigin = vec3.dot(intersectionNormal, vec3.subtract(ray.origin, worldPosition, vec3.temp))\n    let planeTarget = vec3.dot(intersectionNormal, vec3.subtract(ray.target, worldPosition, vec3.temp))\n    if(planeOrigin * planeTarget > 0) return false\n    \n    if(vec3.differenceSquared(ray.origin, ray.target) < planeOrigin * planeOrigin) return false\n    let dot = vec3.dot(intersectionNormal, ray.direction)\n    if(Math.abs(dot) < Ray.precision) return false\n    \n    vec3.scale(ray.direction, -planeOrigin / dot, intersectionPoint)\n    vec3.add(ray.origin, intersectionPoint, intersectionPoint)\n    \n    context.registerIntersection()\n    return true\n}\n\nconst raySphere = (context, shape, worldPosition, worldRotation, ray) => {\n    const { intersectionPoint, intersectionNormal } = context\n    const vec3Pool = context.vec3Pool,\n          radius = shape.radius,\n          direction = vec3.subtract(ray.target, ray.origin, vec3Pool.obtain()),\n          sphereOrigin = vec3.subtract(ray.origin, worldPosition, vec3Pool.obtain())\n    \n    let a = vec3.dot(direction, direction)\n    let b = 2 * vec3.dot(direction, sphereOrigin)\n    let c = vec3.dot(sphereOrigin, sphereOrigin) - radius * radius\n    \n    const delta = b * b - 4 * a * c\n    if(delta < 0) return false\n    else if(delta === 0){\n        vec3.lerp(ray.origin, ray.target, delta, intersectionPoint)\n        vec3.subtract(intersectionPoint, worldPosition, intersectionNormal)\n        vec3.normalize(intersectionNormal, intersectionNormal)\n        context.registerIntersection()\n        return true\n    }\n    const delta0 = (-b - Math.sqrt(delta)) / (2 * a)\n    if(delta0 >= 0 && delta0 <= 1){\n        vec3.lerp(ray.origin, ray.target, delta0, intersectionPoint)\n        vec3.subtract(intersectionPoint, worldPosition, intersectionNormal)\n        vec3.normalize(intersectionNormal, intersectionNormal)\n        context.registerIntersection()\n    }\n    const delta1 = (-b + Math.sqrt(delta)) / (2 * a)\n    if(delta1 >= 0 && delta1 <= 1){\n        vec3.lerp(ray.origin, ray.target, delta1, intersectionPoint)\n        vec3.subtract(intersectionPoint, worldPosition, intersectionNormal)\n        vec3.normalize(intersectionNormal, intersectionNormal)\n        context.registerIntersection()\n    }\n    return true\n}\n\nfunction pointInTriangle(p, a, b, c){\n    const x0 = c[0] - a[0], y0 = c[1] - a[1], z0 = c[2] - a[2],\n          x1 = b[0] - a[0], y1 = b[1] - a[1], z1 = b[2] - a[2],\n          x2 = p[0] - a[0], y2 = p[1] - a[1], z2 = p[2] - a[2],\n          dot00 = x0*x0 + y0*y0 + z0*z0,\n          dot01 = x0*x1 + y0*y1 + z0*z1,\n          dot02 = x0*x2 + y0*y2 + z0*z2,\n          dot11 = x1*x1 + y1*y1 + z1*z1,\n          dot12 = x1*x2 + y1*y2 + z1*z2\n    \n    const u = dot11 * dot02 - dot01 * dot12\n    if(u < 0) return false\n    const v = dot00 * dot12 - dot01 * dot02\n    if(v < 0) return false\n    return u + v < dot00 * dot11 - dot01 * dot01\n}\n\nconst rayConvex = (context, shape, worldPosition, worldRotation, ray) => {\n    const { intersectionPoint, intersectionNormal } = context\n    const vec3Pool = context.vec3Pool,\n          faces = shape.faces,\n          vertices = shape.vertices,\n          faceNormals = shape.faceNormals,\n          worldVertices = Array(vertices.length)\n    \n    for(let i = vertices.length - 1; i >= 0; i--){\n        let vertex = worldVertices[i] = vec3Pool.obtain()\n        vec3.copy(vertices[i], vertex)\n        vec3.transformQuat(vertex, worldRotation, vertex)\n        vec3.add(vertex, worldPosition, vertex)\n    }\n    \n    for(let i = 0; i < faces.length; i++){\n        let face = faces[i]\n        let faceNormal = faceNormals[i]\n        \n        vec3.transformQuat(faceNormal, worldRotation, intersectionNormal)\n        let dot = vec3.dot(ray.direction, intersectionNormal)\n        if(Math.abs(dot) < Ray.precision) continue\n        \n        let vertexA = worldVertices[face[0]]\n        vec3.subtract(vertexA, ray.origin, intersectionPoint)\n        let scalar = vec3.dot(intersectionNormal, intersectionPoint) / dot\n\n        if(scalar < 0 || scalar > ray.length) continue\n\n        vec3.scale(ray.direction, scalar, intersectionPoint)\n        vec3.add(ray.origin, intersectionPoint, intersectionPoint)\n\n        for(var f = 1; f < face.length - 1; f++){\n            let vertexB = worldVertices[face[f]]\n            let vertexC = worldVertices[face[f+1]]\n            if(pointInTriangle(intersectionPoint, vertexA, vertexB, vertexC) || pointInTriangle(intersectionPoint, vertexB, vertexA, vertexC)){\n                context.registerIntersection()\n                break\n            }\n        }\n    }\n}\n\nconst rayBox = (context, shape, worldPosition, worldRotation, ray) => {\n    const {intersectionPoint, intersectionNormal} = context\n    const vec3Pool = context.vec3Pool\n    const halfExtents = shape.halfExtents\n    \n    const axisX = vec3.transformQuat(vec3.AXIS_X, worldRotation, vec3Pool.obtain())\n    const axisY = vec3.transformQuat(vec3.AXIS_Y, worldRotation, vec3Pool.obtain())\n    const axisZ = vec3.transformQuat(vec3.AXIS_Z, worldRotation, vec3Pool.obtain())\n    \n    const rayOrigin = vec3.subtract(ray.origin, worldPosition, vec3Pool.obtain())\n    const rayPlane = vec3Pool.obtain()\n\n    const dotX = vec3.dot(ray.direction, axisX)\n    const dotY = vec3.dot(ray.direction, axisY)\n    const dotZ = vec3.dot(ray.direction, axisZ)\n    \n    let maxX = -vec3.dot(vec3.subtract(rayOrigin, vec3.scale(axisX, halfExtents[0], rayPlane), rayPlane), axisX) / dotX\n    let minX = -vec3.dot(vec3.subtract(rayOrigin, vec3.scale(axisX, -halfExtents[0], rayPlane), rayPlane), axisX) / dotX\n    \n    let maxY = -vec3.dot(vec3.subtract(rayOrigin, vec3.scale(axisY, halfExtents[1], rayPlane), rayPlane), axisY) / dotY\n    let minY = -vec3.dot(vec3.subtract(rayOrigin, vec3.scale(axisY, -halfExtents[1], rayPlane), rayPlane), axisY) / dotY\n    \n    let maxZ = -vec3.dot(vec3.subtract(rayOrigin, vec3.scale(axisZ, halfExtents[2], rayPlane), rayPlane), axisZ) / dotZ\n    let minZ = -vec3.dot(vec3.subtract(rayOrigin, vec3.scale(axisZ, -halfExtents[2], rayPlane), rayPlane), axisZ) / dotZ\n    \n    if(maxX < 0 && minX < 0) return false\n    if(maxY < 0 && minY < 0) return false\n    if(maxZ < 0 && minZ < 0) return false\n    \n    let minmax = Infinity\n    let maxmin = -Infinity\n    \n    planeX: {\n        if(Math.abs(dotX) < Ray.precision) break planeX        \n        if(maxX < minX){\n            if(minX < minmax){\n                minmax = minX\n            }\n            if(maxX > maxmin){\n                maxmin = maxX\n                vec3.copy(axisX, intersectionNormal)\n            }\n        }else{\n            if(maxX < minmax){\n                minmax = maxX\n            }\n            if(minX > maxmin){\n                maxmin = minX\n                vec3.negate(axisX, intersectionNormal)\n            }\n        }\n    }\n    planeY: {\n        if(Math.abs(dotY) < Ray.precision) break planeY\n        if(maxY < minY){\n            if(minY < minmax){\n                minmax = minY\n            }\n            if(maxY > maxmin){\n                maxmin = maxY\n                vec3.copy(axisY, intersectionNormal)\n            }\n        }else{\n            if(maxY < minmax){\n                minmax = maxY\n            }\n            if(minY > maxmin){\n                maxmin = minY\n                vec3.negate(axisY, intersectionNormal)\n            }\n        }\n    }\n    planeZ: {\n        if(Math.abs(dotZ) < Ray.precision) break planeZ\n        if(maxZ < minZ){\n            if(minZ < minmax){\n                minmax = minZ\n            }\n            if(maxZ > maxmin){\n                maxmin = maxZ\n                vec3.copy(axisZ, intersectionNormal)\n            }\n        }else{\n            if(maxZ < minmax){\n                minmax = maxZ\n            }\n            if(minZ > maxmin){\n                maxmin = minZ\n                vec3.negate(axisZ, intersectionNormal)\n            }\n        }\n    }\n    \n    if(maxmin >= minmax || maxmin < 0) return false\n    vec3.add(ray.origin, vec3.scale(ray.direction, maxmin), intersectionPoint)\n    context.registerIntersection()\n    return true\n}\n\nexport { Ray, Raytracer, rayConvex, raySphere, rayPlane, rayBox }","import {vec2} from '../../math'\nimport {Pool} from '../../util'\nimport {vec3} from '../math/vec3'\n\nconst SATContext = _ => {\n    const worldNormalsA = [],\n          worldNormalsB = [],\n          worldVerticesA = [],\n          worldVerticesB = [],\n          clippedVertices = [],\n          connectedFaces = [],\n          contactPoints = [],\n          minmax = vec2()\n    return {\n        vec3Pool: null,\n        worldNormalsA, worldNormalsB, worldVerticesA, worldVerticesB, clippedVertices, connectedFaces, contactPoints, minmax,\n        clear: _ => {\n            worldNormalsA.length = 0\n            worldNormalsB.length = 0\n            worldVerticesA.length = 0\n            worldVerticesB.length = 0\n            clippedVertices.length = 0\n            connectedFaces.length = 0\n            contactPoints.length = 0\n        },\n        precompute: function(hullA, positionA, rotationA, hullB, positionB, rotationB){\n            const vec3Pool = this.vec3Pool\n            for(let i = hullA.vertices.length - 1; i >= 0; i--){\n                let vertex = vec3.transformQuat(hullA.vertices[i], rotationA, vec3Pool.obtain())\n                worldVerticesA[i] = vec3.add(positionA, vertex, vertex)\n            }\n            for(let i = hullB.vertices.length - 1; i >= 0; i--){\n                let vertex = vec3.transformQuat(hullB.vertices[i], rotationB, vec3Pool.obtain())\n                worldVerticesB[i] = vec3.add(positionB, vertex, vertex)\n            }\n            for(let i = hullA.faceNormals.length - 1; i >= 0; i--)\n                worldNormalsA[i] = vec3.transformQuat(hullA.faceNormals[i], rotationA, vec3Pool.obtain())\n            for(let i = hullB.faceNormals.length - 1; i >= 0; i--)\n                worldNormalsB[i] = vec3.transformQuat(hullB.faceNormals[i], rotationB, vec3Pool.obtain())\n        }\n    }\n}\n\nconst projectConvexAxis = (vertices, origin, axis, out = vec2()) => {\n    const offset = origin ? vec3.dot(origin, axis) : 0\n    let value,\n        min = Number.MAX_VALUE,\n        max = -Number.MAX_VALUE\n    for(let i = vertices.length - 1; i >= 0; i--){\n        value = vec3.dot(vertices[i], axis)\n        if(value > max) max = value\n        if(value < min) min = value\n    }\n    out[0] = min - offset\n    out[1] = max - offset\n    return out\n}\n\nconst testSeparatingAxis = (context, axis) => {\n    const dotMaxMin = context.minmax\n    projectConvexAxis(context.worldVerticesA, 0, axis, dotMaxMin)\n    const minA = dotMaxMin[0],\n          maxA = dotMaxMin[1]\n    projectConvexAxis(context.worldVerticesB, 0, axis, dotMaxMin)\n    const minB = dotMaxMin[0],\n          maxB = dotMaxMin[1]\n    const d0 = maxA - minB,\n          d1 = maxB - minA\n    if(d0 < 0 || d1 < 0) return false\n    return d0 < d1 ? d0 : d1\n}\n\n\nconst findSeparatingAxis = (context, hullA, hullB, worldPositionA, worldPositionB, worldRotationA, worldRotationB, separatingNormal) => {\n    context.clear()\n    context.precompute(hullA, worldPositionA, worldRotationA, hullB, worldPositionB, worldRotationB)\n    \n    const vec3Pool = context.vec3Pool,\n          faceNormal = vec3Pool.obtain()\n    let minDistance = Number.MAX_VALUE\n\n    const axesA = hullA.uniqueAxes || hullA.faceNormals\n    const axesB = hullB.uniqueAxes || hullB.faceNormals\n    \n    for(let i = axesA.length - 1; i >= 0; i--){\n        vec3.transformQuat(axesA[i], worldRotationA, faceNormal)\n        let distance = testSeparatingAxis(context, faceNormal)\n        if(distance === false) return false\n        if(distance >= minDistance) continue\n        minDistance = distance\n        vec3.copy(faceNormal, separatingNormal)\n    }\n    \n    for(let i = axesB.length - 1; i >= 0; i--){\n        vec3.transformQuat(axesB[i], worldRotationB, faceNormal)\n        let distance = testSeparatingAxis(context, faceNormal)\n        if(distance === false) return false\n        if(distance >= minDistance) continue\n        minDistance = distance\n        vec3.copy(faceNormal, separatingNormal)\n    }\n    \n    const edges = [],\n          cross = vec3Pool.obtain(),\n          edge0 = vec3Pool.obtain()\n    \n    for(let e0 = hullA.uniqueEdges.length - 1; e0 >= 0; e0--){\n        vec3.transformQuat(hullA.uniqueEdges[e0], worldRotationA, edge0)\n\n        for(let e1 = hullB.uniqueEdges.length - 1; e1 >= 0; e1--){\n            let edge1 = edges[e1] || (edges[e1] = vec3.transformQuat(hullB.uniqueEdges[e1], worldRotationB, vec3Pool.obtain()))\n            vec3.cross(edge0, edge1, cross)\n\n            if(vec3.equals(cross, vec3.ZERO)) continue\n            vec3.normalize(cross, cross)\n            let distance = testSeparatingAxis(context, cross)\n            if(distance === false) return false\n            if(distance >= minDistance) continue\n            minDistance = distance\n            vec3.copy(cross, separatingNormal)\n        }\n    }\n    const delta = vec3.subtract(worldPositionB, worldPositionA, vec3Pool.obtain())\n    if(vec3.dot(delta, separatingNormal) > 0.0) vec3.negate(separatingNormal, separatingNormal)\n    return true\n}\n\n\nconst clipAgainstHull = (context, hullA, positionA, quaternionA, hullB, positionB, quaternionB, separatingNormal, minDistance, maxDistance, out = []) => {\n    const { vec3Pool, worldNormalsA, worldNormalsB, worldVerticesB, worldVerticesA, contactPoints } = context\n    \n    let minDot = Number.MAX_VALUE,\n        maxDot = -Number.MAX_VALUE,\n        minFaceIndex = -1,\n        maxFaceIndex = -1\n    for(let i = worldNormalsB.length - 1; i >= 0; i--){\n        let dot = vec3.dot(worldNormalsB[i], separatingNormal)\n        if(dot <= maxDot) continue\n        maxDot = dot\n        maxFaceIndex = i\n    }\n    for(let i = worldNormalsA.length - 1; i >= 0; i--){\n        let dot = vec3.dot(worldNormalsA[i], separatingNormal)\n        if(dot >= minDot) continue\n        minDot = dot\n        minFaceIndex = i\n    }\n    const faceA = hullA.faces[minFaceIndex],\n          faceB = hullB.faces[maxFaceIndex]\n    \n    let clippedVertices = context.clippedVertices\n    for(let i = 0; i < faceB.length; i++)\n        clippedVertices.push(worldVerticesB[faceB[i]])\n    \n    outer: for(let i = 0; i < hullA.faces.length; i++){\n        if(i == minFaceIndex) continue\n        for(let j = 0; j < hullA.faces[i].length; j++)\n        \n            if(faceA.indexOf(hullA.faces[i][j]) != -1){\n\n                let planeNormal = worldNormalsA[i],\n                    planeConstant = -vec3.dot(hullA.faceNormals[i], hullA.vertices[hullA.faces[i][0]]),\n                    planeEquation = planeConstant - vec3.dot(planeNormal, positionA)\n\n                let outVertices = []\n                clipFaceAgainstPlane(vec3Pool, clippedVertices, planeNormal, planeEquation, outVertices)\n                clippedVertices = outVertices\n\n                continue outer\n            }\n    }\n    \n    const normal = worldNormalsA[minFaceIndex],\n          planeConstant = -vec3.dot(hullA.faceNormals[minFaceIndex], hullA.vertices[hullA.faces[minFaceIndex][0]]),\n          planeEquation = planeConstant - vec3.dot(normal, positionA)\n    \n    for(let i = 0; i < clippedVertices.length; i++){\n        let depth = vec3.dot(normal, clippedVertices[i]) + planeEquation\n        if(depth <= minDistance) depth = minDistance\n        if(depth > maxDistance) continue\n        if(depth > 0) continue\n        out.push({\n            point: clippedVertices[i],\n            normal: normal,\n            depth: depth\n        })\n    }\n    return out\n}\n\nconst clipFaceAgainstPlane = (vec3Pool, vertices, planeNormal, planeConstant, out = []) => {\n    if(vertices.length < 2) return out\n    \n    let prevVertex = vertices[vertices.length-1],\n        prevDot = vec3.dot(planeNormal, prevVertex) + planeConstant\n    for(let length = vertices.length, i = 0; i < length; i++){\n        let vertex = vertices[i],\n            dot = vec3.dot(planeNormal, vertex) + planeConstant\n        \n        if(prevDot < 0 != dot < 0)\n            out.push(vec3.lerp(prevVertex, vertex, prevDot / (prevDot - dot), vec3Pool.obtain()))\n        if(dot < 0)\n            out.push(vec3.copy(vertex, vec3Pool.obtain()))\n        prevVertex = vertex\n        prevDot = dot\n    }\n    return out\n}\n\nexport {clipAgainstHull, findSeparatingAxis, SATContext, clipFaceAgainstPlane}","export * from './vec3'\nexport * from './vec2'\nexport * from './mat3'\nexport * from './quat'\nexport * from './transform'\nexport * from './ray'\nexport * from './separatingAxis'\nexport * from './aabb'\n\nimport {vec3} from './vec3'\nimport {vec2} from './vec2'\nimport {Pool, PoolManager} from '../../util'\n\nconst aquireVec3Pool = PoolManager(Pool(_ => vec3()))\nconst aquireVec2Pool = PoolManager(Pool(_ => vec2()))\n\nexport {aquireVec3Pool, aquireVec2Pool}","export function clipFace(interpolateVertex, vertices, plane, out = []){\n    if(!vertices.length) return out\n    const size = 0.5 * Math.abs(vec3.dot(vec3.ONE, plane))\n    \n    function clip(v0, v1){\n        let d0 = vec3.dot(v0.position, plane) - size,\n            d1 = vec3.dot(v1.position, plane) - size\n        return v0.index < v1.index\n            ? interpolateVertex(v0, v1, d0 / (d0 - d1))\n            : interpolateVertex(v1, v0, d1 / (d1 - d0))\n    }\n    \n    for(let i = 0; i < vertices.length; i+=3){\n        let d0 = vec3.dot(vertices[i + 0].position, plane) - size\n        let d1 = vec3.dot(vertices[i + 1].position, plane) - size\n        let d2 = vec3.dot(vertices[i + 2].position, plane) - size\n        \n        let v0 = d0 > 0\n        let v1 = d1 > 0\n        let v2 = d2 > 0\n        \n        switch(v0 + v1 + v2){\n            case 0:\n                out.push(vertices[i + 0])\n                out.push(vertices[i + 1])\n                out.push(vertices[i + 2])\n                break\n            case 1:\n                if(v0){\n                    out.push(\n                        vertices[i + 1],\n                        vertices[i + 2],\n                        clip(vertices[i + 0], vertices[i + 1])\n                    )\n                    out.push(\n                        clip(vertices[i + 0], vertices[i + 2]),\n                        out[out.length - 1],\n                        out[out.length - 2]\n                    )\n                }else if(v1){\n                    out.push(\n                        clip(vertices[i + 1], vertices[i + 0]),\n                        vertices[i + 2],\n                        vertices[i + 0]\n                    )\n                    out.push(\n                        out[out.length - 2],\n                        out[out.length - 3],\n                        clip(vertices[i + 1], vertices[i + 2])\n                    )\n                }else if(v2){\n                    out.push(\n                        vertices[i + 0],\n                        vertices[i + 1],\n                        clip(vertices[i + 2], vertices[i + 0])\n                    )\n                    out.push(\n                        clip(vertices[i + 2], vertices[i + 1]),\n                        out[out.length - 1],\n                        out[out.length - 2]\n                    )\n                }\n                break\n            case 2:\n                if(!v0){\n                    out.push(\n                        vertices[i + 0],\n                        clip(vertices[i + 0], vertices[i + 1]),\n                        clip(vertices[i + 0], vertices[i + 2])\n                    )\n                }else if(!v1){\n                    out.push(\n                        vertices[i + 1],\n                        clip(vertices[i + 1], vertices[i + 2]),\n                        clip(vertices[i + 1], vertices[i + 0])\n                    )\n                }else if(!v2){\n                    out.push(\n                        vertices[i + 2],\n                        clip(vertices[i + 2], vertices[i + 0]),\n                        clip(vertices[i + 2], vertices[i + 1])\n                    )\n                }\n                break\n            case 3: break\n        }\n    }\n    \n    return out\n}","import {factory, Signal, tie} from '../../../util'\nimport {vec2, vec3, vec4, quat, mat3, mat4, lerp} from '../../../math'\nimport { aquireVec2Pool, aquireVec3Pool } from '../../../physics/math'\nimport { clipFace } from './util'\n\nfactory.declare('gl_context', (target, options) => {\n    const gl = target.gl,\n          ctx = target,\n          taskManager = options.manager\n    const clippingPlanes = [\n        vec3(1, 0, 0), vec3(-1, 0, 0),\n        vec3(0, 1, 0), vec3(0, -1, 0),\n        vec3(0, 0, 1), vec3(0, 0, -1)\n    ]\n    \n    const enabledPlanes = vec3(1, 1, 1) //TODO configurable per decal\n    return {\n        batchDecals(decals, staticGeometry, dataFormat){\n            const positionD = vec3()\n            const positionG = vec3()\n\n            const vertices = [],\n                  indices = [],\n                  submeshes = []\n            let indexOffset = 0\n            \n            staticGeometry.forEach(geometry => {\n                vec3.translationFromMat4(geometry.modelMatrix, positionG)\n                decals.forEach(decal => {\n                    vec3.translationFromMat4(decal.modelMatrix, positionD)\n                    \n                    const minDistance = geometry.boundingSphereRadius + decal.boundingSphereRadius\n                    if(vec3.differenceSquared(positionG, positionD) > minDistance * minDistance)\n                        return false\n                    \n                    let mesh = null\n                    taskManager.schedule(function(){\n                        mesh = ctx.projectDecal(decal, geometry, dataFormat)\n                    })\n                    taskManager.schedule(function(){\n                        if(!mesh.indices.length) return\n                        \n                        submeshes.push({\n                            instance: decal,\n                            materials: [decal.delegate],\n                            delegate: geometry,\n                            offset: indices.length,\n                            length: mesh.indices.length\n                        })\n                        indices.push.apply(indices, mesh.indices.map(index => index + indexOffset))\n                        vertices.push.apply(vertices, mesh.vertices)\n                        indexOffset += mesh.vertexCount\n                    })\n                })\n            })\n            \n            return Signal(done => taskManager.schedule(() => done({\n                vertexArray: new Float32Array(vertices),\n                indexArray: new Uint16Array(indices),\n                submeshes,\n                dataFormat,\n                stride: dataFormat.reduce((total, { size }) => total + size, 0)\n            })))\n        },\n        projectDecal(decal, geometry, outputDataFormat){\n            const vec3Pool = aquireVec3Pool()\n            const vec2Pool = aquireVec2Pool()\n            \n            const uvBounds = decal.uvBounds || [[0,1],[0,1]]\n            const modelMatrix = decal.modelMatrix\n            const normalMatrix = mat3.fromMat4(geometry.modelMatrix, mat3())\n            const localMatrix = mat4.invert(modelMatrix, mat4())\n            mat4.multiply(localMatrix, geometry.modelMatrix, localMatrix)\n            \n            const { dataFormat, indexArray, vertexArray, stride } = geometry.delegate.data.internalData\n            let vertexCount = vertexArray.length / stride\n            const offsets = dataFormat.reduce((map, format) => Object.assign(map, { [format.type]: format.offset }), {})\n            const vertexAttributes = outputDataFormat.reduce((map, format) => Object.assign(map, { [format.type]: format.type in offsets }), {})\n            \n            const cachedVertices = Array(vertexCount)\n            \n            const insertVertex = index => cachedVertices[index] = {\n                index,\n                position: vec3Pool.obtain(),\n                uv: vec2Pool.obtain(),\n                normal: vertexAttributes.normal && vec3Pool.obtain(),\n                lm_uv: vertexAttributes.lm_uv && vec2Pool.obtain()\n            }\n            \n            const splitVertices = Object.create(null)\n            const interpolateVertex = (v0, v1, s) => {\n                const key = `${v0.index}-${v1.index}-${Math.floor(s * 1e3)}`\n                if(key in splitVertices) return cachedVertices[splitVertices[key]]\n                splitVertices[key] = vertexCount\n                \n                const vertex = insertVertex(vertexCount++)\n                vec3.lerp(v0.position, v1.position, s, vertex.position)\n                if(vertex.normal) vec3.lerp(v0.normal, v1.normal, s, vertex.normal)\n                if(vertex.lm_uv) vec2.lerp(v0.lm_uv, v1.lm_uv, s, vertex.lm_uv)\n                return vertex\n            }\n            let vertexList = []\n            for(let i = 0; i < indexArray.length; i+=3){\n                let faceVertices = Array(3)\n                for(let j = 0; j < 3; j++){\n                    let index = indexArray[i + j]\n                    \n                    if(cachedVertices[index]){\n                        faceVertices[j] = cachedVertices[index]\n                        continue\n                    }\n                    \n                    const vertex = insertVertex(index)\n                    vec3.set(\n                        vertexArray[index * stride + offsets.position + 0],\n                        vertexArray[index * stride + offsets.position + 1],\n                        vertexArray[index * stride + offsets.position + 2],\n                        vertex.position\n                    )\n                    if(vertex.normal) vec3.set(\n                        vertexArray[index * stride + offsets.normal + 0],\n                        vertexArray[index * stride + offsets.normal + 1],\n                        vertexArray[index * stride + offsets.normal + 2],\n                        vertex.normal\n                    )\n                    if(vertex.lm_uv) vec2.set(\n                        vertexArray[index * stride + offsets.lm_uv + 0],\n                        vertexArray[index * stride + offsets.lm_uv + 1],\n                        vertex.lm_uv\n                    )\n                    \n                    vec4.transform(vertex.position, localMatrix, vertex.position)\n                    faceVertices[j] = vertex\n                }\n                \n                if(enabledPlanes[0]){\n                    faceVertices = clipFace(interpolateVertex, faceVertices, clippingPlanes[0])\n                    faceVertices = clipFace(interpolateVertex, faceVertices, clippingPlanes[1])\n                }\n                if(enabledPlanes[1]){\n                    faceVertices = clipFace(interpolateVertex, faceVertices, clippingPlanes[2])\n                    faceVertices = clipFace(interpolateVertex, faceVertices, clippingPlanes[3])\n                }\n                if(enabledPlanes[2]){\n                    faceVertices = clipFace(interpolateVertex, faceVertices, clippingPlanes[4])\n                    faceVertices = clipFace(interpolateVertex, faceVertices, clippingPlanes[5])\n                }\n                \n                vertexList = vertexList.concat(faceVertices)\n            }\n\n            for(let i = cachedVertices.length - 1; i >= 0; i--){\n                let vertex = cachedVertices[i]\n                if(!vertex) continue\n                \n                vertex.uv[0] = lerp(uvBounds[0][0], uvBounds[0][1], 0.5 + vertex.position[0])\n                vertex.uv[1] = lerp(uvBounds[1][0], uvBounds[1][1], 0.5 + vertex.position[1])\n\n                if(!target.extensions['frag_depth']) vertex.position[2] -= 1e-3\n                \n                vec4.transform(vertex.position, modelMatrix, vertex.position)\n                if(vertex.normal) vec3.transformMat3(vertex.normal, normalMatrix, vertex.normal)\n            }\n            \n            const vertices = []\n            const indices = []\n            const duplicate = []\n            \n            let indexOffset = 0\n            \n            for(let i = 0; i < vertexList.length; i++){\n                const vertex = vertexList[i]\n                \n                if(duplicate[vertex.index] != null){\n                    indices.push(duplicate[vertex.index])\n                    continue\n                }else{\n                    duplicate[vertex.index] = indexOffset++\n                    indices.push(duplicate[vertex.index])\n                    \n                    for(let j = 0; j < outputDataFormat.length; j++){\n                        let { type, size } = outputDataFormat[j]\n                        for(let k = 0; k < size; k++)\n                            vertices.push(vertex[type][k])\n                    }\n                }\n            }\n            vec2Pool.release()\n            vec3Pool.release()\n            return {\n                vertices, indices, vertexCount: indexOffset\n            }\n        }\n    }\n})","import {logger} from '../../debug/logger'\nimport {factory, Signal, tie} from '../../util'\nimport {shaders, vglsl} from '../vglsl'\nimport {vec3, mat3, quat, mat4} from '../../math'\n\nimport {generateParticleTexture, RangeSampler, ColorRamp} from '../effects'\n\n//TODO move to lib\nconst billboarded_particle = {\n    //TODO reorganize?\n    vert: vglsl.createShader()\n    //TODO change names\n    .attribute('vec4', 'uvLifeTimeFrameStart')\n    .attribute('vec4', 'positionStartTime')\n    .attribute('vec4', 'velocityStartSize')\n    .attribute('vec4', 'accelerationEndSize')\n    .attribute('vec4', 'spinStartSpinSpeed')\n    .attribute('vec4', 'colorMult')\n    \n    .varying('vec2', 'uvPass')\n    .varying('float', 'percentLifePass')\n    .varying('vec4', 'colorPass')\n    \n    .uniform('mat4', 'viewProjectionMatrix')\n    .uniform('mat4', 'invViewMatrix')\n    .uniform('mat4', 'modelMatrix') //TODO do we need it? modelMatrix?\n    \n    .uniform('vec3', 'worldVelocity')\n    .uniform('vec3', 'worldAcceleration')\n    .uniform('float', 'timeRange')\n    .uniform('float', 'time')\n    .uniform('float', 'frameDuration')\n    .uniform('float', 'frameCount')\n    \n    .main([\n        //TODO separate param extracting?\n        'vec2 uv = uvLifeTimeFrameStart.xy;',\n        'float lifeTime = uvLifeTimeFrameStart.z;',\n        'float frameStart = uvLifeTimeFrameStart.w;',\n        'vec3 position = positionStartTime.xyz;',\n        'float startTime = positionStartTime.w;',\n        'vec3 velocity = (modelMatrix * vec4(velocityStartSize.xyz, 0.0)).xyz + worldVelocity;', //TODO operations later? (since separation)\n        'float startSize = velocityStartSize.w;',\n        'vec3 acceleration = (modelMatrix * vec4(accelerationEndSize.xyz, 0)).xyz + worldAcceleration;',\n        'float endSize = accelerationEndSize.w;',\n        'float spinStart = spinStartSpinSpeed.x;',\n        'float spinSpeed = spinStartSpinSpeed.y;',\n        \n        'float localTime = mod((time - startTime), timeRange);',\n        'float percentLife = localTime / lifeTime;',\n        'float frame = mod(floor(localTime / frameDuration + frameStart), frameCount);',\n        'float uOffset = frame / frameCount;',\n        'float u = uOffset + (uv.x + 0.5) * (1. / frameCount);',\n        \n        'vec3 basisX = invViewMatrix[0].xyz;',\n        'vec3 basisZ = invViewMatrix[1].xyz;',\n        'float size = mix(startSize, endSize, percentLife);',\n        'size = (percentLife < 0. || percentLife > 1.) ? 0. : size;',\n        'float s = sin(spinStart + spinSpeed * localTime);',\n        'float c = cos(spinStart + spinSpeed * localTime);',\n        'vec2 rotatedPoint = vec2(uv.x * c + uv.y * s, -uv.x * s + uv.y * c);',\n        'vec3 localPosition = vec3(basisX * rotatedPoint.x + basisZ * rotatedPoint.y) * size + velocity * localTime + acceleration * localTime * localTime + position;',\n        \n        'uvPass = vec2(u, uv.y + 0.5);',\n        'colorPass = colorMult;',\n        'percentLifePass = percentLife;',\n        \n        'gl_Position = viewProjectionMatrix * vec4(localPosition + modelMatrix[3].xyz, 1.);'\n    ]),\n    frag: vglsl.createShader()\n    .uniform('sampler2D', 'rampSampler')\n    .uniform('sampler2D', 'textureAtlas')\n    \n    .varying('vec2', 'uvPass')\n    .varying('float', 'percentLifePass')\n    .varying('vec4', 'colorPass')\n    \n    .main([\n        'vec4 color = texture2D(rampSampler, vec2(percentLifePass, 0.5)) * colorPass;', //TODO should clamp uv-s somehow? -0.5 of tex size\n        'gl_FragColor = texture2D(textureAtlas, uvPass) * color;'\n    ])\n}\n\nconst oriented_particle = {\n    vert: vglsl.createShader()\n    //TODO rename reorganize\n    .attribute('vec4', 'uvLifeTimeFrameStart')\n    .attribute('vec4', 'positionStartTime')\n    .attribute('vec4', 'velocityStartSize')\n    .attribute('vec4', 'accelerationEndSize')\n    .attribute('vec4', 'spinStartSpinSpeed')\n    .attribute('vec4', 'orientation')\n    .attribute('vec4', 'colorMult')\n    \n    .varying('vec2', 'uvPass')\n    .varying('float', 'percentLifePass')\n    .varying('vec4', 'colorPass')\n    \n    .uniform('mat4', 'viewProjectionMatrix')\n    .uniform('mat4', 'modelMatrix')\n    \n    .uniform('vec3', 'worldVelocity')\n    .uniform('vec3', 'worldAcceleration')\n    .uniform('float', 'timeRange')\n    .uniform('float', 'time')\n    .uniform('float', 'frameDuration')\n    .uniform('float', 'frameCount')\n    \n    .main([\n        'vec2 uv = uvLifeTimeFrameStart.xy;',\n        'float lifeTime = uvLifeTimeFrameStart.z;',\n        'float frameStart = uvLifeTimeFrameStart.w;',\n        'vec3 position = positionStartTime.xyz;',\n        'float startTime = positionStartTime.w;',\n        'vec3 velocity = (modelMatrix * vec4(velocityStartSize.xyz, 0.0)).xyz + worldVelocity;', //TODO do we need to multiply? it should be in world coords already\n        'float startSize = velocityStartSize.w;',\n        'vec3 acceleration = (modelMatrix * vec4(accelerationEndSize.xyz, 0)).xyz + worldAcceleration;',\n        'float endSize = accelerationEndSize.w;',\n        'float spinStart = spinStartSpinSpeed.x;',\n        'float spinSpeed = spinStartSpinSpeed.y;',\n        \n        'float localTime = mod((time - startTime), timeRange);',\n        'float percentLife = localTime / lifeTime;',\n        'float frame = mod(floor(localTime / frameDuration + frameStart), frameCount);',\n        'float uOffset = frame / frameCount;',\n        'float u = uOffset + (uv.x + 0.5) * (1. / frameCount);',\n        'float size = mix(startSize, endSize, percentLife);',\n        'size = (percentLife < 0. || percentLife > 1.) ? 0. : size;',\n        'float s = sin(spinStart + spinSpeed * localTime);',\n        'float c = cos(spinStart + spinSpeed * localTime);',\n        'vec4 rotatedPoint = vec4((uv.x * c + uv.y * s) * size, 0., (uv.x * s - uv.y * c) * size, 1.);',\n        'vec3 center = velocity * localTime + acceleration * localTime * localTime + position;',\n        \n        'vec4 q2 = orientation + orientation;',\n        'vec4 qx = orientation.xxxw * q2.xyzx;',\n        'vec4 qy = orientation.xyyw * q2.xyzy;',\n        'vec4 qz = orientation.xxzw * q2.xxzz;',\n        'mat4 localMatrix = mat4((1.0 - qy.y) - qz.z, qx.y + qz.w, qx.z - qy.w, 0,',\n        'qx.y - qz.w, (1.0 - qx.x) - qz.z, qy.z + qx.w, 0,',\n        'qx.z + qy.w, qy.z - qx.w, (1.0 - qx.x) - qy.y, 0,',\n        'center.x, center.y, center.z, 1);',\n        'rotatedPoint = localMatrix * rotatedPoint;',\n        \n        'uvPass = vec2(u, uv.y + 0.5);',\n        'colorPass = colorMult;',\n        'percentLifePass = percentLife;',\n        \n        'gl_Position = viewProjectionMatrix * modelMatrix * rotatedPoint;'\n    ]),\n    frag: vglsl.createShader()\n    .uniform('sampler2D', 'rampSampler')\n    .uniform('sampler2D', 'textureAtlas')\n    \n    .varying('vec2', 'uvPass')\n    .varying('float', 'percentLifePass')\n    .varying('vec4', 'colorPass')\n    \n    .main([\n        'vec4 color = texture2D(rampSampler, vec2(percentLifePass, 0.5)) * colorPass;', //TODO should clamp uv-s somehow? -0.5 of tex size\n        'gl_FragColor = texture2D(textureAtlas, uvPass) * color;'\n    ])\n}\n\n\n\n////TODO common code here\n//const particle_system = {\n//    vert: vglsl.createShader(),\n//    frag: vglsl.createShader()\n//}\n\nconst ParticleEffectPass = (ctx, scene, options = {}) => {\n    const gl = ctx.gl,\n          particleSystems = {\n              billboarded: ctx.registerParticleSystem({\n                  attributeFormat: [\n                      //TODO rename, reorganize\n                      { type: 'uvLifeTimeFrameStart', size: 4, byteSize: Float32Array.BYTES_PER_ELEMENT },\n                      { type: 'positionStartTime', size: 4, byteSize: Float32Array.BYTES_PER_ELEMENT },\n                      { type: 'velocityStartSize', size: 4, byteSize: Float32Array.BYTES_PER_ELEMENT },\n                      { type: 'accelerationEndSize', size: 4, byteSize: Float32Array.BYTES_PER_ELEMENT },\n                      { type: 'spinStartSpinSpeed', size: 4, byteSize: Float32Array.BYTES_PER_ELEMENT },\n                      { type: 'orientation', size: 4, byteSize: Float32Array.BYTES_PER_ELEMENT },\n                      { type: 'colorMult', size: 4, byteSize: Float32Array.BYTES_PER_ELEMENT }\n                  ],\n                  bufferFormat: [ //TODO correct defaults?\n                      ['lifeTime', 0], ['frameStart', 0],\n                      ['position', [0, 0, 0]], ['startTime', 0],\n                      ['velocity', [0, 0, 0]], ['startSize', 0],\n                      ['acceleration', [0, 0, 0]], ['endSize', 0],\n                      ['spinStart', 0], ['spinSpeed', 0], [null, [0, 0]],\n                      ['orientation', [0, 0, 0, 0]],\n                      ['color', [0, 0, 0, 0]]\n                  ],\n                  limit: 1024,\n                  shaderSrc: billboarded_particle\n              }),\n              oriented: ctx.registerParticleSystem({\n                  attributeFormat: [\n                      { type: 'uvLifeTimeFrameStart', size: 4, byteSize: Float32Array.BYTES_PER_ELEMENT },\n                      { type: 'positionStartTime', size: 4, byteSize: Float32Array.BYTES_PER_ELEMENT },\n                      { type: 'velocityStartSize', size: 4, byteSize: Float32Array.BYTES_PER_ELEMENT },\n                      { type: 'accelerationEndSize', size: 4, byteSize: Float32Array.BYTES_PER_ELEMENT },\n                      { type: 'spinStartSpinSpeed', size: 4, byteSize: Float32Array.BYTES_PER_ELEMENT },\n                      { type: 'orientation', size: 4, byteSize: Float32Array.BYTES_PER_ELEMENT },\n                      { type: 'colorMult', size: 4, byteSize: Float32Array.BYTES_PER_ELEMENT } //TODO array.map?\n                  ],\n                  bufferFormat: [\n                      ['lifeTime', 0], ['frameStart', 0],\n                      ['position', [0, 0, 0]], ['startTime', 0],\n                      ['velocity', [0, 0, 0]], ['startSize', 0],\n                      ['acceleration', [0, 0, 0]], ['endSize', 0],\n                      ['spinStart', 0], ['spinSpeed', 0], [null, [0, 0]],\n                      ['orientation', [0, 0, 0, 0]],\n                      ['color', [0, 0, 0, 0]]\n                  ],\n                  limit: 1024,\n                  shaderSrc: oriented_particle\n              })\n          }\n    let defaultParticleTexture = { loaded: true, data: ctx.generateTexture(generateParticleTexture()) },\n        defaultColorRamp = { loaded: true, data: ctx.generateTexture(ColorRamp([1,1,1,1],[0,0,0,0])) } //TODO lazy init?\n    \n    \n    scene.addEventListener('particle_emitter', (instance, emitter) => {\n        if(emitter.delegate) return true\n        logger.info('fx', `Initializing ParticleSystem ${emitter.group} \"${emitter.name}\".`)\n        emitter.texture = emitter.texture || defaultParticleTexture\n        emitter.colorRamp = emitter.colorRamp ? { loaded: true, data: ctx.generateTexture(ColorRamp(...emitter.colorRamp)) } : defaultColorRamp\n        emitter.delegate = particleSystems[emitter.group].group.createEmitter(emitter)\n    })\n    \n    return (ctx, scene, next, frame) => {\n        ctx.depthMask = false\n        ctx.culling = false\n        \n        const viewProjectionMatrix = scene.camera.viewProjectionMatrix,\n              invViewMatrix = mat4.invert(scene.camera.viewMatrix, mat4())\n        //TODO sorting?\n        ctx.particleSystems.forEach(particleSystem => {\n            let { shader, vao, group } = particleSystem\n            group.syncBufferData()\n            vao.bind()\n            shader.use()\n            shader.uao.viewProjectionMatrix = viewProjectionMatrix\n            shader.uao.invViewMatrix = invViewMatrix\n            \n            group.emitters.forEach(emitter => {\n                ctx.blendMode = emitter.blendMode\n                shader.uao.autowire(emitter.attributes)\n                ctx.bindTextures(emitter.material)\n                if(emitter.static)\n                    emitter.instances.forEach(instance => {\n                        if(!scene.camera.frustumCulling(instance)) return false\n                        \n                        shader.uao.modelMatrix = instance.modelMatrix\n                        shader.uao.time = instance.time\n                        shader.uao.update()\n                        ctx.drawElements(emitter.bufferLength, emitter.bufferOffset)\n                    })\n                else{\n                    shader.uao.modelMatrix = emitter.modelMatrix\n                    shader.uao.time = emitter.time\n                    shader.uao.update()\n                    ctx.drawElements(emitter.bufferLength, emitter.bufferOffset)\n                }\n            })\n            \n        })\n        ctx.depthMask = true //TODO should be elsewhere?\n        ctx.blendMode = false\n        ctx.culling = 'back'\n        next()\n    }\n}\n\nexport {ParticleEffectPass}","import {factory, Signal, tie} from '../../util'\nimport {shaders, vglsl} from '../vglsl'\nimport {vec2, vec3, vec4, quat, mat3, mat4} from '../../math'\nimport { GridGeometry } from '../../geometry'\n\nconst liquid = {\n    vert: vglsl.createShader()\n    .attribute('vec2', 'uv')\n    \n    .uniform('mat4', 'projectionMatrix')\n    .uniform('mat4', 'viewMatrix')\n    .uniform('mat4', 'invModelMatrix')\n    .uniform('vec3', 'center')\n    \n    .varying('vec2', 'uvPass')\n    .varying('vec3', 'worldPositionPass')\n    .varying('vec3', 'cameraEyePass')\n    .varying('vec2', 'normalizedPass')\n    \n    .const('float', 'infinite', '150000.0')\n    .const('vec3', 'groundNormal', 'vec3(0.0,-1.0,0.0)')\n    \n    .function('vec3 interceptPlane(in vec3 source, in vec3 dir, in vec3 normal, float height)', [\n        // Compute the distance between the source and the surface, following a ray, then return the intersection\n        // http://www.cs.rpi.edu/~cutler/classes/advancedgraphics/S09/lectures/11_ray_tracing.pdf\n\t\t'float distance = (-height - dot(normal, source)) / dot(normal, dir);',\n\t\t'if(distance < 0.0) return source + dir * distance;',\n\t\t'else return -(vec3(source.x, height, source.z) + vec3(dir.x, height, dir.z) * infinite);'\n        //'else return -(vec3(source.x, height, source.z) + vec3(dir.x, 0.0, dir.z) * infinite);'\n    ])\n    .function('mat3 getRotation()', [\n\t\t'return mat3(viewMatrix[0].xyz,viewMatrix[1].xyz,viewMatrix[2].xyz);'\n    ])\n    .function('vec3 getCameraPosition(in mat3 rotation)', [\n\t\t\t// Xc = R * Xw + t\n\t\t\t// c = - R.t() * t <=> c = - t.t() * R\n\t\t'return - viewMatrix[3].xyz * rotation;'\n    ])\n    .function('vec2 getImagePlan()', [\n\t\t\t// Extracting aspect and focal from projection matrix:\n\t\t\t// P = | e   0       0   0 |\n\t\t\t//     | 0   e/(h/w) 0   0 |\n\t\t\t//     | 0   0       .   . |\n\t\t\t//     | 0   0       -1  0 |\n\t\t'float focal = projectionMatrix[0].x;',\n\t\t'float aspect = projectionMatrix[1].y;',\n\t\t'return vec2((uv.x - 0.5) * aspect, (uv.y - 0.5) * focal);'\n    ])\n    .function('vec3 getCamRay(in mat3 rotation, in vec2 screenUV)', [\n        // Compute camera ray then rotate it in order to get it in world coordinate\n\t\t'return vec3(screenUV.x, screenUV.y, projectionMatrix[0].x) * rotation;'\n    ])\n    \n    .function('vec3 computeProjectedPosition(in float groundHeight)', [\n        'mat3 cameraRotation = getRotation();',\n        'vec3 camPosition = getCameraPosition(cameraRotation);',\n        \n        'cameraEyePass = camPosition;',\n        \n//        '\tif( camPosition.y < groundHeight )',\n//\t\t'\t\treturn vec3( 0.0, 0.0, 0.0 );',\n        \n        'vec2 screenUV = getImagePlan();',\n        'vec3 ray = getCamRay(cameraRotation, screenUV);',\n        'vec3 finalPos = interceptPlane(camPosition, ray, groundNormal, groundHeight);',\n        \n        //'float distance = length(finalPos);',\n\t\t//'if(distance > infinite) finalPos *= -infinite / distance;',\n\t\t\n\t\t'return finalPos;'\n    ])\n    \n    .main([\n        'uvPass = uv;',\n        'float groundHeight = center.y;',\n        'vec3 worldPosition = computeProjectedPosition(groundHeight);',\n        \n        'normalizedPass = (invModelMatrix * vec4(worldPosition, 1.0)).xz;',\n        \n        'worldPositionPass = worldPosition;',\n        'gl_Position = projectionMatrix * viewMatrix * vec4(worldPosition, 1.0);'\n    ]),\n    frag: vglsl.createShader()\n    .varying('vec2', 'uvPass')\n    \n    .varying('vec3', 'worldPositionPass')\n    .varying('vec3', 'cameraEyePass')\n    .varying('vec2', 'normalizedPass')\n    \n    .uniform('float', 'time')\n    \n    .uniform('float', 'height')\n    .uniform('float', 'choppiness')\n    .uniform('float', 'frequency')\n    .uniform('vec3', 'surfaceColor')\n    \n    .const('float', 'PI', Math.PI)\n    .const('float', 'EPSILON', 1e-3)\n\n    .const('int', 'ITERATIONS', 3)\n    .const('mat2', 'octave_m', 'mat2(1.6,1.2,-1.2,1.6)')\n\n    .function('float hash(vec2 p)', [\n        'float h = dot(p,vec2(127.1,311.7));',\n        'return fract(sin(h)*43758.5453123);'\n    ])\n    .function('float noise( in vec2 p )', [\n        'vec2 i = floor( p );',\n        'vec2 f = fract( p );\t',\n        'vec2 u = f*f*(3.0-2.0*f);',\n        'return -1.0+2.0*mix( mix( hash( i + vec2(0.0,0.0) ), ',\n        '                 hash( i + vec2(1.0,0.0) ), u.x),',\n        '            mix( hash( i + vec2(0.0,1.0) ), ',\n        '                 hash( i + vec2(1.0,1.0) ), u.x), u.y);',\n    ])\n    .function('float diffuse(vec3 n,vec3 l,float p)', [\n        'return pow(dot(n,l) * 0.4 + 0.6,p);'\n    ])\n    .function('float specular(vec3 n,vec3 l,vec3 e,float s)', [\n        'float nrm = (s + 8.0) / (PI * 8.0);',\n    'return pow(max(dot(reflect(e,n),l),0.0),s) * nrm;'\n    ])\n    .function('vec3 getSkyColor(vec3 e)', [\n        'e.y = max(e.y,0.0);',\n    'return vec3(pow(1.0-e.y,2.0), 1.0-e.y, 0.6+(1.0-e.y)*0.4);'\n    ])\n    .function('float sea_octave(vec2 uv, float choppy)', [\n         'uv += noise(uv);',    \n    'vec2 wv = 1.0-abs(sin(uv));',\n    'vec2 swv = abs(cos(uv));',\n    'wv = mix(wv,swv,wv);',\n    'return pow(1.0-pow(wv.x * wv.y,0.65),choppy);',\n    ])\n    .function('float map_detailed(vec3 p)', [\n    'float freq = frequency;',\n    'float amp = height;',\n    'float choppy = choppiness;',\n    'vec2 uv = p.xz; uv.x *= 0.75;',\n    \n    'float d, h = 0.0;',\n    'for(int i = 0; i < ITERATIONS; i++){  ',      \n    \t'd = sea_octave((uv+time)*freq,choppy);',\n    \t'd += sea_octave((uv-time)*freq,choppy);',\n        'h += d * amp;',\n    \t'uv *= octave_m; freq *= 1.9; amp *= 0.22;',\n        'choppy = mix(choppy,1.0,0.2);',\n    '}',\n    'return p.y - h;',\n        \n    ])\n    .function('vec3 getSeaColor(vec3 p, vec3 n, vec3 l, vec3 eye, vec3 dist)', [\n        \n        'float fresnel = clamp(1.0 - dot(n,-eye), 0.0, 1.0);',\n        'fresnel = pow(fresnel,3.0) * 0.65;',\n\n        'vec3 reflected = getSkyColor(reflect(eye,n));',\n        'vec3 refracted = surfaceColor + diffuse(n,l,80.0) * surfaceColor * 0.12;',\n\n        'vec3 color = mix(refracted,reflected,fresnel);',\n\n        'float atten = max(1.0 - dot(dist,dist) * 0.001, 0.0);',\n        'color += surfaceColor * (p.y - height) * 0.18 * atten;',\n\n        'color += vec3(specular(n,l,eye,60.0));',\n\n        'return color;',\n    ])\n    .function('vec3 getNormal(vec3 p, float eps)', [\n        'vec3 n;',\n        'n.y = map_detailed(p);',\n        'n.x = map_detailed(vec3(p.x+eps,p.y,p.z)) - n.y;',\n        'n.z = map_detailed(vec3(p.x,p.y,p.z+eps)) - n.y;',\n        'n.y = eps;',\n        'return normalize(n);',\n    ])\n    \n    .main([\n\t'vec2 uv = uvPass;',\n        \n    'vec3 dir = normalize(vec3(1.0,-1.0,1.0));',\n    'vec3 ori = cameraEyePass;',\n        \n        \n    'vec3 p = vec3(worldPositionPass.x, 0.0, worldPositionPass.z);',\n    'vec3 dist = p - ori;',\n        \n    'vec3 n = getNormal(p, dot(dist,dist) * EPSILON * 0.1);',\n    'vec3 light = normalize(vec3(0.0,1.0,0.8)); ',\n    'vec3 color = getSeaColor(p,n,light,dir,dist);',\n    \n    'float opacity = min(1.0, 0.5 + (color.r + color.g + color.b) / 3.0);',\n        \n        \n    'float fade = step(0.0, 1.0 - 0.01 * abs(normalizedPass.x)) * step(0.0, 1.0 - 0.01 * abs(normalizedPass.y));',\n    'opacity *= fade;',\n        \n    'gl_FragColor = vec4(applyFog(pow(color,vec3(0.75))), opacity);'\n    ])\n}\n\nfunction createGridMesh(){\n    const geometry = GridGeometry({ columns: 64, rows: 64, width: 1, height: 1 })\n    const vertices = Array.range(geometry.vertices.length).map(index => [...geometry.uvs[index]]).flatten()\n    const indices = geometry.indices\n    \n    return {\n        vertexArray: new Float32Array(vertices),\n        indexArray: new Uint16Array(indices),\n        dataFormat: [{ type: 'uv', size: 2, byteSize: 4 }]\n    }\n}\n\nexport const LiquidSurfacePass = (ctx, scene, lightmapping = true) => {\n    const gl = ctx.gl,\n          shader = ctx.compileShader(vglsl.merge(liquid, shaders.fog_exp))\n    \n    const meshData = createGridMesh()\n    const vbo = factory.build('vbo', { ctx }).staticUpload(\n        meshData.vertexArray,\n        meshData.indexArray\n    )\n    const vao = factory.build('vao', { ctx }).setup(vbo, meshData.dataFormat)\n    \n    scene.camera.mutation.pipe(mutations => {\n        if(mutations.projectionMatrix) shader.uao.projectionMatrix = mat4.copy(mutations.projectionMatrix, shader.uao.projectionMatrix)\n        if(mutations.viewMatrix) shader.uao.viewMatrix = mat4.copy(mutations.viewMatrix, shader.uao.viewMatrix)\n    }, false)\n    \n    scene.environment.mutation.pipe(mutations => {\n        if(mutations.fogColor) shader.uao.fogColor = vec3.copy(mutations.fogColor, shader.uao.fogColor)\n        if(mutations.fogDensity) shader.uao.fogDensity = mutations.fogDensity\n    })\n    \n    return (ctx, scene, next, frame) => {\n        ctx.culling = false\n        ctx.depthTest = true\n        ctx.depthMask = false\n        ctx.blendMode = 'blend'\n        \n        const surfaces = scene.surfaces\n        for(let i = surfaces.length - 1; i >= 0; i--){\n            const surface = surfaces[i]\n            \n            if(surface.frameFlag !== frame){\n                surface.frameFlag = frame\n                surface.visible = scene.camera.frustumCulling(surface)\n            }\n            if(!surface.visible) continue\n            \n            vao.bind()\n            shader.use()\n            \n            shader.uao.center = vec4.transform(vec3.ZERO, surface.modelMatrix, shader.uao.center)\n            shader.uao.invModelMatrix = mat4.invert(surface.modelMatrix, shader.uao.invModelMatrix)\n            \n            shader.uao.time = surface.time\n            \n            shader.uao.height = surface.height\n            shader.uao.choppiness = surface.choppiness\n            shader.uao.frequency = surface.frequency\n            shader.uao.surfaceColor = vec3.copy(surface.color, shader.uao.surfaceColor)\n                        \n            shader.uao.update()\n            ctx.drawElements(meshData.indexArray.length, 0)\n        }\n        \n        next()\n    }\n}","export * from './pipeline'\nexport * from './lightmapper'\nexport * from './shadowmapper'\nexport * from './filter'\n\nimport {SkyboxPass} from './skyboxPass'\nimport {StaticGeometryPass} from './staticGeometryPass'\nimport {RealtimeLightingPass} from './realtimeLightingPass'\nimport {SkinnedGeometryPass} from './skinnedGeometryPass'\nimport {DecalGeometryPass} from './decalGeometryPass'\nimport {ParticleEffectPass} from './particleEffectPass'\nimport {LiquidSurfacePass} from './liquidSurfacePass'\n//import {PostEffectPass} from './postEffectPass'\n\nexport const passes = {\n    SkyboxPass,\n    StaticGeometryPass,\n    RealtimeLightingPass,\n    SkinnedGeometryPass,\n    DecalGeometryPass,\n    ParticleEffectPass,\n    LiquidSurfacePass\n    //PostEffectPass,\n}","import {factory, tie} from '../util'\nimport {vec3} from '../math'\n\n//TODO move function somewhere else\nconst calcBoundingSphere = (vertexData, format) => {\n    const stride = format.reduce((size, attr) => attr.size + size, 0),\n          positionsOffset = format.slice(0, format.findIndex(attr => attr.type === 'position')).reduce((size, attr) => attr.size + size, 0)\n    let vertices = vertexData.length / stride,\n        position = vec3(),\n        maxRadius = 0\n    while(vertices--)\n        maxRadius = Math.max(vec3.sqrtLength(vec3.copy([vertexData[vertices*stride], vertexData[vertices*stride+1], vertexData[vertices*stride+2]], position)), maxRadius)\n    return Math.sqrt(maxRadius)\n}\n\nfactory.declare('mesh', (target, options) => { //TODO refactor, especially subMesh part.\n    //console.log(target, options)\n    const bufferRange = options.bufferRange,\n          armature = options.meshData.armature ? factory.build('armature', {bones: options.meshData.armature, animation: options.meshData.animation}) : null,\n          materials = options.meshData.materials || [{textures:[], bones:[]}],\n          subMeshes = options.meshData.armature ? options.meshData.armature.slice(1)\n    .filter(subMesh => subMesh.bufferLength)\n    .map((subMesh, id) => Object.assign(subMesh, {material: materials.find(material => material.bones.indexOf(id + 1) > -1) || materials[0] }))\n    : [{get bufferLength(){ return target.totalSize }, bufferOffset: 0, material: materials[0]}]\n    \n    \n    //todo iterate in material order, merge with the same one. Need example\n    return {\n        bufferRange, armature, materials, subMeshes,\n        vboIdx: options.vboIdx,\n        vdfIdx: options.vdfIdx,\n        get totalSize(){ return bufferRange.indexArrayLength },\n        get offset(){ return bufferRange.indexArrayOffset },\n        get vertexDataFormat(){ return options.meshData.dataFormat },\n        boundingSphereRadius: calcBoundingSphere(options.meshData.vertexArray, options.meshData.dataFormat),\n        get internalData(){ return options.meshData }\n    }\n})\n\nexport {calcBoundingSphere}","import {logger} from '../../debug/logger'\nimport {factory, tie, Signal} from '../../util'\nimport {BinPacker, vec3, mat4, vec2, vec4} from '../../math'\nimport {LIGHTMAP_RESOLUTION} from '../../graphics'\n\nconst LIGHTMAP_PADDING = 2\n\nconst generateLightmapUV = (mesh, taskManager, MAX_BATCH_SIZE = 1024) => Signal(done => {\n    const vertexArray = mesh.vertexArray,\n          indexArray = mesh.indexArray,\n          polycount = indexArray.length / 3,\n          vertexcount = vertexArray.length / mesh.stride,\n          offsets = mesh.dataFormat.reduce((attribs, attr) => (attribs[attr.type] = attribs.total, attribs.total += attr.size, attribs), {total: 0}),\n          tempClusterLookup = new Uint16Array(vertexcount),\n          stride = mesh.stride + 2,\n          lightmappedArray = new Float32Array(vertexcount * stride),\n          clusters = [],\n          packer = BinPacker(),\n          lightmapResolution = 128 * LIGHTMAP_RESOLUTION\n    let clusterCount = 0,\n        totalArea = 0,\n        padding = 0\n    logger.info('lightmap', `Unwrapping mesh for lightmap. polygons: ${polycount}, vertices: ${vertexcount}`)\n    \n    const selectCluster = vertices => vertices.map(idx => tempClusterLookup[idx]).filter(x => x).sort((c0, c1) => clusters[c1-1].length - clusters[c0-1].length)[0] || ++clusterCount\n    const transferCluster = (fromIdx, intoIdx) => {\n        clusters[intoIdx] = clusters[intoIdx].concat(clusters[fromIdx] || [])\n        clusters[fromIdx].forEach(triangle => triangle.forEach(vertIdx => tempClusterLookup[vertIdx] = intoIdx+1))\n        clusters[fromIdx].length = 0\n    }\n    const processTriangle = index => {\n        const triangle = new Uint16Array(indexArray.buffer, indexArray.byteOffset + index * Uint16Array.BYTES_PER_ELEMENT * 3, 3),\n              clusterIdx = selectCluster(triangle)\n        clusters[clusterIdx-1] = clusters[clusterIdx-1] || []\n        triangle.forEach(vertIdx => {\n            const prevClusterIdx = tempClusterLookup[vertIdx]\n            if(prevClusterIdx !== clusterIdx && prevClusterIdx)\n                transferCluster(prevClusterIdx-1, clusterIdx-1)\n            tempClusterLookup[vertIdx] = clusterIdx\n        })\n        clusters[clusterIdx-1].push(triangle)\n    }\n    const extractVertex = vertIndex => ({\n        position: !isNaN(offsets.position) && new Float32Array(vertexArray.buffer, vertexArray.byteOffset + (vertIndex * offsets.total + offsets.position) * Float32Array.BYTES_PER_ELEMENT, 3),\n        uv: !isNaN(offsets.uv) && new Float32Array(vertexArray.buffer, vertexArray.byteOffset + (vertIndex * offsets.total + offsets.uv) * Float32Array.BYTES_PER_ELEMENT, 2)\n    })\n    const calculateScaleContribution = (v0, v1) => {\n        const uvEdge = vec2.subtract(v0.uv, v1.uv),\n              edge = vec3.subtract(v0.position, v1.position),\n              uvEdgeLength = vec2.distance(uvEdge),\n              edgeLength = vec3.distance(edge),\n              xContrib = Math.abs(uvEdge[0]) / uvEdgeLength,\n              yContrib = Math.abs(uvEdge[1]) / uvEdgeLength\n        return vec2(\n            xContrib * edgeLength / uvEdgeLength || 0,\n            yContrib * edgeLength / uvEdgeLength || 0\n        )\n    }\n    const processCluster = clusterIdx => {\n        if(!clusters[clusterIdx].length) return clusters[clusterIdx] = null\n        \n        const cluster = clusters[clusterIdx],\n              scale = vec2(),\n              vertices = cluster.reduce((vertexMap, polygon) => {\n                  vertexMap[polygon[0]] = vertexMap[polygon[0]] || extractVertex(polygon[0])\n                  vertexMap[polygon[1]] = vertexMap[polygon[1]] || extractVertex(polygon[1])\n                  vertexMap[polygon[2]] = vertexMap[polygon[2]] || extractVertex(polygon[2])\n                  vec2.add(scale, calculateScaleContribution(vertexMap[polygon[0]], vertexMap[polygon[1]]), scale)\n                  vec2.add(scale, calculateScaleContribution(vertexMap[polygon[0]], vertexMap[polygon[2]]), scale)\n                  vec2.add(scale, calculateScaleContribution(vertexMap[polygon[1]], vertexMap[polygon[2]]), scale)\n                  return vertexMap\n              }, Object.create(null)),\n              vertexIndices = Object.keys(vertices),\n              lightmapUVs = new Float32Array(vertexIndices.length * 2),\n              min = vec2(Number.MAX_VALUE, Number.MAX_VALUE), max = vec2(-Number.MAX_VALUE, -Number.MAX_VALUE)\n\n        for(let i = 0; i < vertexIndices.length; i++){\n            let vertex = vertices[vertexIndices[i]]  \n            lightmapUVs[i*2+0] = vertex.uv[0]\n            lightmapUVs[i*2+1] = vertex.uv[1]\n            vec2.min(min, vertex.uv, min)\n            vec2.max(max, vertex.uv, max)\n        }\n        const bounds = vec2.subtract(max, min)\n        vec2.scale(scale, 1/cluster.length, scale)\n        vec2.multiply(bounds, scale, bounds)\n        totalArea += bounds[0]*bounds[1]\n        clusters[clusterIdx] = {\n            vertexIndices, lightmapUVs, min, scale, bounds,\n            rect: { w: bounds[0], h: bounds[1] }\n        }\n    }\n    const generateLightmapUV = clusterIdx => {\n        const cluster = clusters[clusterIdx]\n        if(!cluster) return false\n        cluster.vertexIndices.map(idx => parseInt(idx)).forEach((idx, i) => {\n            const lmUv = vec2(\n                (cluster.lightmapUVs[i*2+0] - cluster.min[0]) * cluster.scale[0],\n                (cluster.lightmapUVs[i*2+1] - cluster.min[1]) * cluster.scale[1]\n            )\n            lightmappedArray[idx * stride + offsets.total + 0] = (lmUv[0] + cluster.rect.fit.x + padding) / packer.root.w\n            lightmappedArray[idx * stride + offsets.total + 1] = (lmUv[1] + cluster.rect.fit.y + padding) / packer.root.h\n        })\n    }\n    const copyVertexData = idx => { for(let offset = 0; offset < offsets.total; lightmappedArray[idx * stride + offset] = vertexArray[idx * offsets.total + offset++]); }\n\n    return taskManager.deferIteration(processTriangle, polycount, 0, MAX_BATCH_SIZE)\n    .pipe(_ => taskManager.deferIteration(processCluster, clusterCount, 0, MAX_BATCH_SIZE))\n    .pipe(_ => {\n        let lightmapScale = Math.sqrt(LIGHTMAP_PADDING*totalArea)\n        padding = lightmapScale / lightmapResolution\n        return clusters.filter(x => x)\n            .map(cluster => cluster.rect)\n            .map(block => (block.w += 2 * padding, \n                           block.h += 2 * padding, block))\n    })\n    .pipe(blocks => packer.insert(blocks))\n    .pipe(_ => taskManager.deferIteration(generateLightmapUV, clusterCount, 0, MAX_BATCH_SIZE))\n    .pipe(_ => taskManager.deferIteration(copyVertexData, vertexcount, 0, MAX_BATCH_SIZE))\n    .pipe(_ => {\n        mesh.dataFormat.push({\n            type: 'lm_uv', size: 2, byteSize: Float32Array.BYTES_PER_ELEMENT, offset: mesh.stride\n        })\n        mesh.stride = stride\n        mesh.vertexArray = lightmappedArray\n        mesh.uvBounds = { w: packer.root.w, h: packer.root.h }\n        logger.info('lightmap', `Lightmap UVs generated. dimensions: ${packer.root.w} x ${packer.root.h} padding: ${padding*128}`) \n        done()\n    })\n})\n\nfactory.declare('loader', (target, options) => {\n    const taskManager = options.manager\n    \n    target.appendParser((loader, resource, next) => {\n        if(resource.type !== loader.RESOURCE_TYPE.MESH) return next()\n        if(resource.data.dataFormat.find(attrib => attrib.type === 'joint' || attrib.type === 'lm_uv')) return next()\n        \n        generateLightmapUV(resource.data, taskManager).listen(next)\n    })\n})","const zlib = Object.create(null)\n\nconst MAXBITS = 0XF\nconst ENOUGH_LENS = 852\nconst ENOUGH_DISTS = 592\nconst CODES = 0;\nconst LENS = 1;\nconst DISTS = 2;\n\nconst lbase = [ \n  3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31,\n  35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0\n]\n\nconst lext = [\n  16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18,\n  19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78\n]\n\nconst dbase = [\n  1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193,\n  257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145,\n  8193, 12289, 16385, 24577, 0, 0\n]\n\nconst dext = [\n  16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22,\n  23, 23, 24, 24, 25, 25, 26, 26, 27, 27,\n  28, 28, 29, 29, 64, 64\n]\n\nconst utf8lenTable = (array => {\n    for(let q = 0; q < 256; q++)\n        array[q] = (q >= 252 ? 6 : q >= 248 ? 5 : q >= 240 ? 4 : q >= 224 ? 3 : q >= 192 ? 2 : 1)\n    array[254] = array[254] = 1\n    \n    return array\n})(new Uint8Array(256))\n\nconst crcTable = (array => {\n    let c = 0\n    for(let c, n = 0; n < 256; (array[n] = c, c = ++n))\n        for(let k = 0; k < 8; k++)\n            c = ((c & 1) ? (0xEDB88320 ^ (c >>> 1)) : (c >>> 1))\n    return array\n})([])\n\nconst fixedtables = (_ => {\n    let lenfix = null, distfix = null\n    return state => {\n        if(!lenfix || !distfix){\n            lenfix = new Int32Array(512)\n            distfix = new Int32Array(32)\n            let sym = 0\n            for(; sym < 144; state.lens[sym++] = 8);\n            for(; sym < 256; state.lens[sym++] = 9);\n            for(; sym < 280; state.lens[sym++] = 7);\n            for(; sym < 288; state.lens[sym++] = 8);\n            inflate_table(LENS, state.lens, 0, 288, lenfix, 0, state.work, {bits: 9})\n            for(sym = 0; sym < 32; state.lens[sym++] = 5);\n            inflate_table(DISTS, state.lens, 0, 32, distfix, 0, state.work, {bits: 5})\n        }\n        state.lencode = lenfix\n        state.lenbits = 9\n        state.distcode = distfix\n        state.distbiys = 5\n    }\n})()\n\nconst    HEAD = 1\nconst    FLAGS = 2\nconst    TIME = 3\nconst    OS = 4\nconst    EXLEN = 5\nconst    EXTRA = 6\nconst    NAME = 7\nconst    COMMENT = 8\nconst    HCRC = 9\nconst    DICTID = 10\nconst    DICT = 11\nconst        TYPE = 12\nconst        TYPEDO = 13\nconst        STORED = 14\nconst        COPY_ = 15\nconst        COPY = 16\nconst        TABLE = 17\nconst        LENLENS = 18\nconst        CODELENS = 19\nconst            LEN_ = 20\nconst            LEN = 21\nconst            LENEXT = 22\nconst            DIST = 23\nconst            DISTEXT = 24\nconst            MATCH = 25\nconst            LIT = 26\nconst    CHECK = 27\nconst    LENGTH = 28\nconst    DONE = 29\nconst    BAD = 30\nconst    MEM = 31\nconst    SYNC = 32\n\nconst Z_NO_FLUSH = 0\nconst Z_PARTIAL_FLUSH = 1\nconst Z_SYNC_FLUSH = 2\nconst Z_FULL_FLUSH = 3\nconst Z_FINISH = 4\nconst Z_BLOCK = 5\nconst Z_TREES = 6\nconst Z_OK = 0\nconst Z_STREAM_END = 1\nconst Z_NEED_DICT = 2\nconst Z_ERRNO = -1\nconst Z_STREAM_ERROR = -2\nconst Z_DATA_ERROR = -3\nconst Z_MEM_ERROR = -4\nconst Z_BUF_ERROR = -5\nconst Z_NO_COMPRESSION = 0\nconst Z_BEST_SPEED = 1\nconst Z_BEST_COMPRESSION = 9\nconst Z_DEFAULT_COMPRESSION = -1\nconst Z_FILTERED = 1\nconst Z_HUFFMAN_ONLY = 2\nconst Z_RLE = 3\nconst Z_FIXED = 4\nconst Z_DEFAULT_STRATEGY = 0\nconst Z_BINARY = 0\nconst Z_TEXT = 1\nconst Z_UNKNOWN = 2\nconst Z_DEFLATED = 8\n\nzlib.flattenChunks = chunks => {\n    let idx = chunks.length,\n        bufferLength = 0,\n        offset = 0\n    while(idx--) bufferLength += chunks[idx].length\n    const buffer = new Uint8Array(bufferLength)\n    for(let i = 0; i < chunks.length; i++){\n        let chunk = chunks[i]\n        buffer.set(chunk, offset)\n        offset += chunk.length\n    }\n    return buffer\n}\nzlib.stringToBuffer = string => {\n    let idx = string.length\n    const buffer = new Uint8Array(idx)\n    while(idx--) buffer[idx] = string.charCodeAt(idx)\n    return buffer\n}\nzlib.arraySet = (output, src, src_offset, length, output_offset) => {\n    if(src.subarray && output.subarray) return output.set(src.subarray(src_offset, src_offset + length), output_offset)\n    for(let i = 0; i < length; output[output_offset + i] = src[input_offset + i++]);\n    return output\n}\nzlib.adler32 = (adler, buffer, length, offset) => {\n    let s1 = (adler & 0xFFFF) | 0,\n        s2 = ((adler >>> 16) & 0xFFFF) | 0,\n        n = 0\n    while(length !== 0){\n        n = length > 2000 ? 2000 : length\n        length -= n\n        do{\n            s1 = (s1 + buffer[offset++]) | 0\n            s2 = (s2 + s1) | 0\n        }while(--n)\n        s1 %= 0xFFF1\n        s2 %= 0xFFF1\n    }\n    return (s1 | (s2 << 16)) | 0\n}\nzlib.crc32 = (crc, buffer, length, offset) => {\n    const t = crcTable,\n          end = offset + length\n    crc ^= -1\n    for(let i = offset; i < end; i++)\n        crc = (crc >>> 8) ^ t[(crc ^ buffer[i]) & 0xFF]\n    return (crc ^ (-1))\n}\nzlib.shrinkBuffer = (buffer, size) => {\n    if(buffer.length === size) return buffer\n    if(buffer.subarray) return buffer.subarray(0, size)\n    return (buffer.length = size, buffer)\n}\nzlib.utf8border = (buffer, max) => {\n    max = Math.min(max || buffer.length, buffer.length)\n    let offset = max - 1\n    while(offset >= 0 && (buffer[offset--] & 0xC0) === 0x80);\n    if(offset <= 0) return max\n    return (offset + utf8lenTable[buffer[offset]] > max) ? offset : max\n}\nzlib.zswap32 = q => (((q >>> 24) & 0xff) + ((q >>> 8) & 0xff00) + ((q & 0xff00) << 8) + ((q & 0xff) << 24))\n\n\nconst Inflator = function(options){\n    const target = Object.create(null)\n    options = Object.assign({\n        chunkSize: 0x4000,\n        windowBits: 0,\n        to: ''\n    }, options || {})\n    \n    if(options.raw && options.windowBits >= 0 && options.windowBits < 0x10)\n        options.windowBits = options.windowBits ? -options.windowBits : -0x0F\n    else if(!options.windowBits) options.windowBits += 0x20\n    if(options.windowBits > 0x0F && options.windowBits < 0x30 && options.windowBits & 0x0F === 0)\n        options.windowBits |= 0x0F\n    \n    const stream = ZStream(),\n          state = InflateState(),\n          header = GZHeader(),\n          chunks = []\n    \n    stream.state = state\n    state.head = header\n    state.wrap = options.windowBits < 0 ? 0 : (options.windowBits >> 4) + 1\n    state.wbits = options.windowBits < 0 ? -options.windowBits : options.windowBits < 0x30 ? options.windowBits & 0x0F : options.windowBits\n    \n    if(state.wbits && (state.wbits < 8 || state.wbits > 15)) throw new Error('Invalid stream window bit size')\n    if(state.wrap & 0x02 === 0) throw new Error('Invalid wrap mode')\n    \n    stream.adler = state.wrap ? state.wrap & 0x01 : 0\n    state.mode = HEAD\n    state.lencode = state.lendyn = new Int32Array(ENOUGH_LENS)\n    state.distcode = state.distdyn = new Int32Array(ENOUGH_DISTS)\n    \n    return Object.assign(target, {\n        options, chunks, header, stream,\n        onComplete: _ => null,\n        onError: _ => null,\n        done: false,\n        onData: chunk => chunks.push(chunk),\n        onEnd: (status, done = false) => {\n            target.done = done\n            if(status === Z_OK) target.onComplete(target.result = zlib.flattenChunks(chunks))\n            else target.onError(status, stream.msg)\n            chunks.length = 0\n        },\n        consume: Inflator.consume.bind(target, target)\n    })\n}\n\nInflator.consume = function (target, data, mode) {\n    const stream = target.stream,\n          chunkSize = target.options.chunkSize,\n          dictionary = target.options.dictionary\n    let status, next_out_utf8, tail, utf8str, allowBufError = false\n    \n    if(target.done) return false\n    mode = (mode === ~~mode) ? mode : (mode ? Z_FINISH : Z_NO_FLUSH)\n    \n    stream.input = (typeof data === 'string' && zlib.stringToBuffer(data)) || (toString.call(data) === '[object ArrayBuffer]' && new Uint8Array(data)) || data\n    stream.next_in = 0\n    stream.avail_in = stream.input.length\n    \n    do{\n        if(!stream.avail_out){\n            stream.output = new Uint8Array(chunkSize)\n            stream.next_out = 0\n            stream.avail_out = chunkSize\n        }\n        \n        status = zlib.inflate(stream, Z_NO_FLUSH)\n        if(status === Z_NEED_DICT && dictionary) console.warn('inflate from dictionary not implemented')\n        if(status === Z_BUF_ERROR && allowBufError) status = (allowBufError = false, Z_OK)  \n        if(status !== Z_STREAM_END && status !== Z_OK) return (target.onEnd(status, true), false)\n        \n        if(stream.next_out && (!stream.avail_out || status === Z_STREAM_END || (!stream.avail_in && (mode === Z_FINISH || mode === Z_SYNC_FLUSH))))\n            target.onData(zlib.shrinkBuffer(stream.output, stream.next_out))\n        if(!stream.avail_in && !stream.avail_out)\n            allowBufError = true\n    }while((stream.avail_in > 0 || !stream.avail_out) && status !== Z_STREAM_END);\n    \n    if(mode === Z_FINISH || status === Z_STREAM_END){\n        stream.state = null\n        return (target.onEnd(Z_OK, true), true)\n    }else if(mode === Z_SYNC_FLUSH){\n        target.onEnd(Z_OK)\n        stream.avail_out = 0\n    }\n    return true\n}\n\nconst ZStream = _ => ({\n    input: null,\n    next_in: 0,\n    avail_in: 0,\n    total_in: 0,\n    output: null,\n    next_out: 0,\n    avail_out: 0,\n    total_out: 0,\n    msg: '',\n    state: null,\n    data_type: 2,\n    adler: 0\n})\nconst GZHeader = _ => ({\n    text: 0,\n    time: 0,\n    xflags: 0,\n    os: 0,\n    extra: null,\n    extra_len: 0,\n    name: '',\n    comment: '',\n    hcrc: 0,\n    done: false\n})\nconst InflateState = _ => ({\n    mode: 0,\n    last: 0,\n    wrap: 0,\n    havedict: 0,\n    flags: 0,\n    dmax: 32768,\n    check: 0,\n    total: 0,\n    head: null,\n    wbits: 0,\n    wsize: 0,\n    whave: 0,\n    wnext: 0,\n    window: null,\n    hold: 0,\n    bits: 0,\n    length: 0,\n    offset: 0,\n    extra: 0,\n    lencode: null,\n    distcode: null,\n    lenbits: 0,\n    distbits: 0,\n    ncode: 0,\n    nlen: 0,\n    ndist: 0,\n    have: 0,\n    next: null,\n    lens: new Uint16Array(320),\n    work: new Uint16Array(288),\n    lendyn: null,\n    distdyn: null,\n    sane: 1,\n    back: -1,\n    was: 0\n})\n\nzlib.inflate = (stream, flush) => {\n    let state = stream.state,\n        input = stream.input,\n        output = stream.output,\n        put = stream.next_out,\n        left = stream.avail_out,\n        next = stream.next_in,\n        have = stream.avail_in,\n        hold = state.hold,\n        bits = state.bits,\n        order = [ 16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15 ],\n        hbuf = new Uint8Array(4),\n        here = 0,\n        _in = have,\n        _out = left,\n        ret = Z_OK,\n        copy, from, from_source, here_bits, here_op, here_val, last_bits, last_op, last_val, len, opts, n;\n    \n    if(!stream || !stream.state || !stream.output || (!stream.input && stream.avail_in !== 0)) return Z_STREAM_ERROR\n    if(state.mode === TYPE) state.mode = TYPEDO\n    \n    inf_leave: while(1){\n        switch(state.mode) {\n            case HEAD: if(!state.wrap){ state.mode = TYPEDO; break }\n                while(bits < 16){\n                    if(have === 0) break inf_leave\n                    have--\n                    hold += input[next++] << bits\n                    bits += 8\n                }\n                if((state.wrap & 2) && hold === 0x8b1f){\n                    state.check = 0\n                    hbuf[0] = hold & 0xff\n                    hbuf[1] = (hold >>> 8) & 0xff\n                    state.check = zlib.crc32(state.check, hbuf, 2, 0)\n                    hold = 0\n                    bits = 0\n                    state.mode = FLAGS\n                    break\n                }\n                state.flags = 0\n                if(state.head) state.head.done = false\n                if(!(state.wrap & 1) || (((hold & 0xff) << 8) + (hold >> 8)) % 31){ stream.msg = 'incorrect header check'; state.mode = BAD; break }\n                if((hold & 0x0f) !== Z_DEFLATED){ stream.msg = 'unknown compression method'; state.mode = BAD; break }\n                hold >>>= 4\n                bits -= 4\n                len = (hold & 0x0f) + 8\n                if(state.wbits === 0) state.wbits = len\n                else if(len > state.wbits){ stream.msg = 'invalid window size'; state.mode = BAD; break }\n                state.dmax = 1 << len\n                stream.adler = state.check = 1\n                state.mode = hold & 0x200 ? DICTID : TYPE\n                hold = 0\n                bits = 0\n                break\n            case FLAGS:\n                while (bits < 16){\n                    if(have === 0) break inf_leave\n                    have--\n                    hold += input[next++] << bits\n                    bits += 8\n                }\n                state.flags = hold\n                if((state.flags & 0xff) !== Z_DEFLATED){ stream.msg = 'unknown compression method'; state.mode = BAD; break }\n                if(state.flags & 0xe000){ stream.msg = 'unknown header flags set'; state.mode = BAD; break }\n                if(state.head) state.head.text = ((hold >> 8) & 1)\n                if(state.flags & 0x0200){\n                    hbuf[0] = hold & 0xff\n                    hbuf[1] = (hold >>> 8) & 0xff\n                    state.check = zlib.crc32(state.check, hbuf, 2, 0)\n                }\n                hold = 0\n                bits = 0\n                state.mode = TIME\n            case TIME:\n                while(bits < 32){\n                    if(have === 0) break inf_leave\n                    have--\n                    hold += input[next++] << bits\n                    bits += 8\n                }\n                if(state.head) state.head.time = hold\n                if(state.flags & 0x0200){\n                    hbuf[0] = hold & 0xff\n                    hbuf[1] = (hold >>> 8) & 0xff\n                    hbuf[2] = (hold >>> 16) & 0xff\n                    hbuf[3] = (hold >>> 24) & 0xff\n                    state.check = zlib.crc32(state.check, hbuf, 4, 0)\n                }\n                hold = 0\n                bits = 0\n                state.mode = OS\n            case OS:\n                while(bits < 16){\n                    if(have === 0) break inf_leave\n                    have--\n                    hold += input[next++] << bits\n                    bits += 8\n                }\n                if(state.head){\n                    state.head.xflags = (hold & 0xff)\n                    state.head.os = (hold >> 8)\n                }\n                if(state.flags & 0x0200){\n                    hbuf[0] = hold & 0xff\n                    hbuf[1] = (hold >>> 8) & 0xff\n                    state.check = crc32(state.check, hbuf, 2, 0)\n                }\n                hold = 0\n                bits = 0\n                state.mode = EXLEN\n            case EXLEN:\n                if(state.flags & 0x0400){\n                    while(bits < 16){\n                        if(have === 0) break inf_leave\n                        have--\n                        hold += input[next++] << bits\n                        bits += 8\n                    }\n                    state.length = hold\n                    if(state.head) state.head.extra_len = hold\n                    if(state.flags & 0x0200){\n                        hbuf[0] = hold & 0xff\n                        hbuf[1] = (hold >>> 8) & 0xff\n                        state.check = zlib.crc32(state.check, hbuf, 2, 0)\n                    }\n                    hold = 0\n                    bits = 0\n                }else if(state.head) state.head.extra = null\n                state.mode = EXTRA\n            case EXTRA:\n                if(state.flags & 0x0400){\n                    copy = state.length\n                    if(copy > have) copy = have\n                    if(copy){\n                        if(state.head){\n                            len = state.head.extra_len - state.length\n                            if(!state.head.extra) state.head.extra = new Array(state.head.extra_len)\n                            zlib.arraySet(state.head.extra, input, next, copy, len)\n                        }\n                        if(state.flags & 0x0200) state.check = zlib.crc32(state.check, input, copy, next)\n                        have -= copy\n                        next += copy\n                        state.length -= copy\n                    }\n                    if(state.length) break inf_leave\n                }\n                state.length = 0\n                state.mode = NAME\n            case NAME:\n                if(state.flags & 0x0800){\n                    if(have === 0) break inf_leave\n                    copy = 0\n                    do{\n                        len = input[next + copy++];\n                        if(state.head && len && (state.length < 65536 )) state.head.name += String.fromCharCode(len)\n                    }while(len && copy < have);\n                    if(state.flags & 0x0200) state.check = zlib.crc32(state.check, input, copy, next)\n                    have -= copy\n                    next += copy\n                    if(len) break inf_leave\n                }else if(state.head) state.head.name = null\n                state.length = 0\n                state.mode = COMMENT\n            case COMMENT:\n                if(state.flags & 0x1000){\n                    if(have === 0) break inf_leave\n                    copy = 0\n                    do{\n                        len = input[next + copy++]\n                        if(state.head && len && (state.length < 65536)) state.head.comment += String.fromCharCode(len)\n                    }while(len && copy < have);\n                    if(state.flags & 0x0200) state.check = zlib.crc32(state.check, input, copy, next)\n                    have -= copy\n                    next += copy\n                    if(len) break inf_leave\n                }else if(state.head) state.head.comment = null\n                state.mode = HCRC\n            case HCRC:\n                if(state.flags & 0x0200){\n                    while(bits < 16){\n                        if(have === 0) break inf_leave\n                        have--\n                        hold += input[next++] << bits\n                        bits += 8\n                    }\n                    if(hold !== (state.check & 0xffff)){ stream.msg = 'header crc mismatch'; state.mode = BAD; break }\n                    hold = 0\n                    bits = 0\n                }\n                if(state.head){\n                    state.head.hcrc = ((state.flags >> 9) & 1)\n                    state.head.done = true\n                }\n                stream.adler = state.check = 0\n                state.mode = TYPE\n                break\n            case DICTID:\n                while(bits < 32){\n                    if(have === 0) break inf_leave\n                    have--\n                    hold += input[next++] << bits\n                    bits += 8\n                }\n                stream.adler = state.check = zlib.zswap32(hold)\n                hold = 0\n                bits = 0\n                state.mode = DICT\n            case DICT:\n                if(state.havedict === 0){\n                    stream.next_out = put\n                    stream.avail_out = left\n                    stream.next_in = next\n                    stream.avail_in = have\n                    state.hold = hold\n                    state.bits = bits\n                    return Z_NEED_DICT\n                }\n                stream.adler = state.check = 1\n                state.mode = TYPE\n            case TYPE: if(flush === Z_BLOCK || flush === Z_TREES) break inf_leave\n            case TYPEDO:\n                if(state.last){\n                    hold >>>= bits & 7\n                    bits -= bits & 7\n                    state.mode = CHECK\n                    break\n                }\n                while(bits < 3){\n                    if(have === 0) break inf_leave\n                    have--\n                    hold += input[next++] << bits\n                    bits += 8\n                }\n                state.last = (hold & 0x01)\n                hold >>>= 1\n                bits -= 1\n                switch ((hold & 0x03)){\n                    case 0: state.mode = STORED; break\n                    case 1: fixedtables(state)\n                        state.mode = LEN_\n                        if(flush === Z_TREES){\n                            hold >>>= 2\n                            bits -= 2\n                            break inf_leave\n                        }\n                        break\n                    case 2: state.mode = TABLE; break\n                    case 3: stream.msg = 'invalid block type'; state.mode = BAD\n                }\n                hold >>>= 2\n                bits -= 2\n                break\n            case STORED:\n                hold >>>= bits & 7\n                bits -= bits & 7\n                while(bits < 32){\n                    if(have === 0) break inf_leave\n                    have--\n                    hold += input[next++] << bits\n                    bits += 8\n                }\n                if((hold & 0xffff) !== ((hold >>> 16) ^ 0xffff)){ stream.msg = 'invalid stored block lengths'; state.mode = BAD; break }\n                state.length = hold & 0xffff\n                hold = 0\n                bits = 0\n                state.mode = COPY_\n                if(flush === Z_TREES) break inf_leave\n            case COPY_: state.mode = COPY\n            case COPY:\n                copy = state.length\n                if(copy){\n                    if(copy > have) copy = have\n                    if(copy > left) copy = left\n                    if(copy === 0) break inf_leave\n                    zlib.arraySet(output, input, next, copy, put)\n                    have -= copy\n                    next += copy\n                    left -= copy\n                    put += copy\n                    state.length -= copy\n                    break\n                }\n                state.mode = TYPE\n                break\n            case TABLE:\n                while(bits < 14){\n                    if(have === 0) break inf_leave\n                    have--\n                    hold += input[next++] << bits\n                    bits += 8\n                }\n                state.nlen = (hold & 0x1f) + 257\n                hold >>>= 5\n                bits -= 5\n                state.ndist = (hold & 0x1f) + 1\n                hold >>>= 5\n                bits -= 5\n                state.ncode = (hold & 0x0f) + 4\n                hold >>>= 4\n                bits -= 4\n                if(state.nlen > 286 || state.ndist > 30){ stream.msg = 'too many length or distance symbols'; state.mode = BAD; break }\n                state.have = 0\n                state.mode = LENLENS\n            case LENLENS:\n                while(state.have < state.ncode){\n                    while(bits < 3){\n                        if(have === 0) break inf_leave\n                        have--\n                        hold += input[next++] << bits\n                        bits += 8\n                    }\n                    state.lens[order[state.have++]] = (hold & 0x07)\n                    hold >>>= 3\n                    bits -= 3\n                }\n                while(state.have < 19) state.lens[order[state.have++]] = 0\n                state.lencode = state.lendyn\n                state.lenbits = 7\n                opts = { bits: state.lenbits }\n                ret = inflate_table(CODES, state.lens, 0, 19, state.lencode, 0, state.work, opts)\n                state.lenbits = opts.bits\n                if(ret){ stream.msg = 'invalid code lengths set'; state.mode = BAD; break }\n                state.have = 0\n                state.mode = CODELENS\n            case CODELENS:\n                while(state.have < state.nlen + state.ndist){\n                    while(1){\n                        here = state.lencode[hold & ((1 << state.lenbits) - 1)]\n                        here_bits = here >>> 24\n                        here_op = (here >>> 16) & 0xff\n                        here_val = here & 0xffff\n                        if((here_bits) <= bits) break\n                        if(have === 0) break inf_leave\n                        have--\n                        hold += input[next++] << bits\n                        bits += 8\n                    }\n                    if(here_val < 16){\n                        hold >>>= here_bits\n                        bits -= here_bits\n                        state.lens[state.have++] = here_val\n                    }else{\n                        if(here_val === 16){\n                            n = here_bits + 2\n                            while(bits < n){\n                                if(have === 0) break inf_leave\n                                have--\n                                hold += input[next++] << bits\n                                bits += 8\n                            }\n                            hold >>>= here_bits\n                            bits -= here_bits\n                            if(state.have === 0){ stream.msg = 'invalid bit length repeat'; state.mode = BAD; break }\n                            len = state.lens[state.have - 1]\n                            copy = 3 + (hold & 0x03)\n                            hold >>>= 2\n                            bits -= 2\n                        }else if(here_val === 17){\n                            n = here_bits + 3\n                            while(bits < n){\n                                if(have === 0) break inf_leave\n                                have--\n                                hold += input[next++] << bits\n                                bits += 8\n                            }\n                            hold >>>= here_bits\n                            bits -= here_bits\n                            len = 0\n                            copy = 3 + (hold & 0x07)\n                            hold >>>= 3\n                            bits -= 3\n                        }else{\n                            n = here_bits + 7\n                            while(bits < n){\n                                if(have === 0) break inf_leave\n                                have--\n                                hold += input[next++] << bits\n                                bits += 8\n                            }\n                            hold >>>= here_bits\n                            bits -= here_bits\n                            len = 0\n                            copy = 11 + (hold & 0x7f)\n                            hold >>>= 7\n                            bits -= 7\n                        }\n                        if(state.have + copy > state.nlen + state.ndist){ stream.msg = 'invalid bit length repeat'; state.mode = BAD; break }\n                        while(copy--) state.lens[state.have++] = len\n                    }\n                }\n                if(state.mode === BAD) break\n                if(state.lens[256] === 0){ stream.msg = 'invalid code -- missing end-of-block'; state.mode = BAD; break }\n                state.lenbits = 9\n                opts = { bits: state.lenbits }\n                ret = inflate_table(LENS, state.lens, 0, state.nlen, state.lencode, 0, state.work, opts)\n                state.lenbits = opts.bits\n                if(ret){ stream.msg = 'invalid literal/lengths set'; state.mode = BAD; break }\n                state.distbits = 6\n                state.distcode = state.distdyn\n                opts = { bits: state.distbits }\n                ret = inflate_table(DISTS, state.lens, state.nlen, state.ndist, state.distcode, 0, state.work, opts)\n                state.distbits = opts.bits\n                if(ret){ stream.msg = 'invalid distances set'; state.mode = BAD; break }\n                state.mode = LEN_\n                if(flush === Z_TREES) break inf_leave\n            case LEN_: state.mode = LEN\n            case LEN:\n                if(have >= 6 && left >= 258){\n                    stream.next_out = put\n                    stream.avail_out = left\n                    stream.next_in = next\n                    stream.avail_in = have\n                    state.hold = hold\n                    state.bits = bits\n                    \n                    inflate_fast(stream, _out)\n                    \n                    put = stream.next_out\n                    output = stream.output\n                    left = stream.avail_out\n                    next = stream.next_in\n                    input = stream.input\n                    have = stream.avail_in\n                    hold = state.hold\n                    bits = state.bits\n\n                    if(state.mode === TYPE) state.back = -1\n                    break\n                }\n                state.back = 0\n                while(1){\n                    here = state.lencode[hold & ((1 << state.lenbits) - 1)]\n                    here_bits = here >>> 24\n                    here_op = (here >>> 16) & 0xFF\n                    here_val = here & 0xFFFF\n                    if(here_bits <= bits) break\n                    if(have === 0) break inf_leave\n                    have--\n                    hold += input[next++] << bits\n                    bits += 8\n                }\n                if(here_op && (here_op & 0xf0) === 0){\n                    last_bits = here_bits\n                    last_op = here_op\n                    last_val = here_val\n                    while(1){\n                        here = state.lencode[last_val + ((hold & ((1 << (last_bits + last_op)) - 1)) >> last_bits)]\n                        here_bits = here >>> 24\n                        here_op = (here >>> 16) & 0xFF\n                        here_val = here & 0xFFFF\n                        if((last_bits + here_bits) <= bits) break\n                        if(have === 0) break inf_leave\n                        have--\n                        hold += input[next++] << bits\n                        bits += 8\n                    }\n                    hold >>>= last_bits\n                    bits -= last_bits\n                    state.back += last_bits\n                }\n                hold >>>= here_bits\n                bits -= here_bits\n                state.back += here_bits\n                state.length = here_val\n                if(here_op === 0){ state.mode = LIT; break }\n                if(here_op & 32){ state.back = -1; state.mode = TYPE; break }\n                if(here_op & 64){ stream.msg = 'invalid literal/length code'; state.mode = BAD; break }\n                state.extra = here_op & 15\n                state.mode = LENEXT\n            case LENEXT:\n                if(state.extra){\n                    n = state.extra\n                    while(bits < n){\n                        if(have === 0) break inf_leave\n                        have--\n                        hold += input[next++] << bits\n                        bits += 8\n                    }\n                    state.length += hold & ((1 << state.extra) - 1)\n                    hold >>>= state.extra\n                    bits -= state.extra\n                    state.back += state.extra\n                }\n                state.was = state.length\n                state.mode = DIST\n            case DIST:\n                while(1){\n                    here = state.distcode[hold & ((1 << state.distbits) - 1)]\n                    here_bits = here >>> 24\n                    here_op = (here >>> 16) & 0xff\n                    here_val = here & 0xffff\n                    if((here_bits) <= bits) break\n                    if(have === 0) break inf_leave\n                    have--\n                    hold += input[next++] << bits\n                    bits += 8\n                }\n                if((here_op & 0xf0) === 0){\n                    last_bits = here_bits\n                    last_op = here_op\n                    last_val = here_val\n                    while(1){\n                        here = state.distcode[last_val + ((hold & ((1 << (last_bits + last_op)) - 1)) >> last_bits)]\n                        here_bits = here >>> 24\n                        here_op = (here >>> 16) & 0xff\n                        here_val = here & 0xffff\n                        if((last_bits + here_bits) <= bits) break\n                        if(have === 0) break inf_leave\n                        have--\n                        hold += input[next++] << bits\n                        bits += 8\n                    }\n                    hold >>>= last_bits\n                    bits -= last_bits\n                    state.back += last_bits\n                }\n                hold >>>= here_bits\n                bits -= here_bits\n                state.back += here_bits\n                if(here_op & 64){ stream.msg = 'invalid distance code'; state.mode = BAD; break }\n                state.offset = here_val\n                state.extra = (here_op) & 15\n                state.mode = DISTEXT\n            case DISTEXT:\n                if(state.extra){\n                    n = state.extra;\n                    while(bits < n){\n                        if(have === 0) break inf_leave\n                        have--\n                        hold += input[next++] << bits\n                        bits += 8\n                    }\n                    state.offset += hold & ((1 << state.extra) - 1)\n                    hold >>>= state.extra\n                    bits -= state.extra\n                    state.back += state.extra\n                }\n                if(state.offset > state.dmax){ stream.msg = 'invalid distance too far back'; state.mode = BAD; break }\n                state.mode = MATCH\n            case MATCH:\n                if(left === 0) break inf_leave\n                copy = _out - left\n                if(state.offset > copy){\n                    copy = state.offset - copy\n                    if(copy > state.whave && state.sane){ stream.msg = 'invalid distance too far back'; state.mode = BAD; break }\n                    if(copy > state.wnext){\n                        copy -= state.wnext\n                        from = state.wsize - copy\n                    }else from = state.wnext - copy\n                    if(copy > state.length) copy = state.length\n                    from_source = state.window\n                }else{\n                    from_source = output\n                    from = put - state.offset\n                    copy = state.length\n                }\n                if(copy > left) copy = left\n                left -= copy\n                state.length -= copy\n                do{ output[put++] = from_source[from++] }while(--copy);\n                if(state.length === 0) state.mode = LEN\n                break\n            case LIT:\n                if(left === 0) break inf_leave\n                output[put++] = state.length\n                left--\n                state.mode = LEN\n                break\n            case CHECK:\n                if(state.wrap){\n                    while(bits < 32){\n                        if(have === 0) break inf_leave\n                        have--\n                        hold |= input[next++] << bits\n                        bits += 8\n                    }\n                    _out -= left\n                    stream.total_out += _out\n                    state.total += _out\n                    if(_out) stream.adler = state.check = (state.flags ? zlib.crc32(state.check, output, _out, put - _out) : zlib.adler32(state.check, output, _out, put - _out))\n                    _out = left\n                    if((state.flags ? hold : zlib.zswap32(hold)) !== state.check){ stream.msg = 'incorrect data check'; state.mode = BAD; break }\n                    hold = 0\n                    bits = 0\n                }\n                state.mode = LENGTH\n            case LENGTH:\n                if(state.wrap && state.flags){\n                    while (bits < 32){\n                        if(have === 0) break inf_leave\n                        have--\n                        hold += input[next++] << bits\n                        bits += 8\n                    }\n                    if(hold !== (state.total & 0xffffffff)){ stream.msg = 'incorrect length check'; state.mode = BAD; break }\n                    hold = 0\n                    bits = 0\n                }\n                state.mode = DONE\n            case DONE: ret = Z_STREAM_END; break inf_leave\n            case BAD: ret = Z_DATA_ERROR; break inf_leave\n            case MEM: return Z_MEM_ERROR\n            case SYNC:\n            default: return Z_STREAM_ERROR\n        }\n    }\n\n    stream.next_out = put\n    stream.avail_out = left\n    stream.next_in = next\n    stream.avail_in = have\n    state.hold = hold\n    state.bits = bits\n    if(state.wsize || (_out !== stream.avail_out && state.mode < BAD && (state.mode < CHECK || flush !== Z_FINISH)))\n    if(updatewindow(stream, stream.output, stream.next_out, _out - stream.avail_out)) return (state.mode = MEM, Z_MEM_ERROR)\n    _in -= stream.avail_in\n    _out -= stream.avail_out\n    stream.total_in += _in\n    stream.total_out += _out\n    state.total += _out\n    if(state.wrap && _out){\n    stream.adler = state.check = (state.flags ? zlib.crc32(state.check, output, _out, stream.next_out - _out) : zlib.adler32(state.check, output, _out, stream.next_out - _out))\n    }\n    stream.data_type = state.bits + (state.last ? 64 : 0) +\n        (state.mode === TYPE ? 128 : 0) +\n        (state.mode === LEN_ || state.mode === COPY_ ? 256 : 0)\n    if(((_in === 0 && _out === 0) || flush === Z_FINISH) && ret === Z_OK) return Z_BUF_ERROR\n    return ret\n}\n\n\n\n\nconst inflate_table = (type, lens, lens_index, codes, table, table_index, work, options) => {\n    let bits = options.bits,\n        len = 0,\n        sym = 0,\n        min = 0, max = 0,\n        curr = 0,\n        drop = 0,\n        left = 1,\n        used = 0,\n        huff = 0,\n        incr, fill, low, mask, next,\n        base = null,\n        base_index = 0,\n        end,\n        count = new Uint16Array(MAXBITS + 1),\n        offs = new Uint16Array(MAXBITS + 1),\n        extra = null,\n        extra_index = 0,\n        here_bits, here_op, here_val;\n    \n    for(len = 0; len <= MAXBITS; count[len++] = 0);\n    for(sym = 0; sym < codes; count[lens[lens_index + sym++]]++);\n    for(max = MAXBITS; max >= 0; max--) if(count[max] !== 0) break;\n    if(max === 0){\n        table[table_index++] = (1 << 24) | (64 << 16) | 0\n        table[table_index++] = (1 << 24) | (64 << 16) | 0\n        options.bits = 1\n        return 0\n    }\n    for(min = 1; min < max; min++) if(count[min] !== 0) break;\n    let root = Math.max(Math.min(bits, max), min)\n    for(len = 1; len <= MAXBITS; len++) if((left = (left << 1) - count[len]) < 0) return -1\n    if(left > 0 && (type === CODES || max !== 1)) return -1\n    offs[1] = 0\n    for(len = 1; len < MAXBITS; offs[len + 1] = offs[len] + count[len++]);\n    for(sym = 0; sym < codes; sym++) if(lens[lens_index + sym] !== 0) work[offs[lens[lens_index + sym]]++] = sym\n    if(type === CODES){\n        base = extra = work\n        end = 19\n    }else if(type === LENS){\n        base = lbase\n        base_index -= 257\n        extra = lext\n        extra_index -=257\n        end = 256\n    }else{\n        base = dbase\n        extra = dext\n        end = -1\n    }\n    sym = 0\n    len = min\n    next = table_index\n    curr = root\n    low = -1\n    used = 1 << root\n    mask = used -1\n    if((type === LENS && used > ENOUGH_LENS) || (type === DISTS && used > ENOUGH_DISTS)) return 1\n    \n    while(1){\n        here_bits = len - drop\n        if(work[sym] < end){\n            here_op = 0\n            here_val = work[sym]\n        }else if(work[sym] > end){\n            here_op = extra[extra_index + work[sym]]\n            here_val = base[base_index + work[sym]]\n        }else{\n            here_op = 32 + 64\n            here_val = 0\n        }\n        incr = 1 << (len - drop)\n        fill = 1 << curr\n        min = fill\n        do{\n            fill -=incr\n            table[next + (huff >> drop) + fill] = (here_bits << 24) | (here_op << 16) | here_val | 0\n        }while(fill);\n        \n        incr = 1 << (len - 1)\n        while(huff & incr) incr >>= 1\n        huff = incr !== 0 ? (huff & (incr - 1)) + incr : 0\n        sym++\n        if(--count[len] === 0){\n            if(len === max) break;\n            len = lens[lens_index + work[sym]]\n        }\n        if(len > root && (huff & mask) !== low){\n            drop = drop || root\n            next += min\n            curr = len - drop\n            left = 1 << curr\n            while(curr + drop < max){\n                left -= count[curr + drop]\n                if(left <= 0) break;\n                curr++\n                left <<= 1\n            }\n            used += 1 << curr\n            if((type === LENS && used > ENOUGH_LENS) || (type === DISTS && used > ENOUGH_DISTS)) return 1\n            low = huff & mask\n            table[low] = (root << 24) | (curr << 16) | (next - table_index) | 0\n        }\n    }\n    if(huff)\n        table[next + huff] = ((len - drop) << 24) | (64 << 16) | 0\n    options.bits = root\n    return 0\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst inflate_fast = (stream, start) => {\n    let state = stream.state,\n        _in = stream.next_in,\n        input = stream.input,\n        last = _in + (stream.avail_in - 5),\n        _out = stream.next_out,\n        output = stream.output,\n        beg = _out - (start - stream.avail_out),\n        end = _out + (stream.avail_out - 257),\n        dmax = state.dmax,\n        wsize = state.wsize,\n        whave = state.whave,\n        wnext = state.wnext,\n        s_window = state.window,\n        hold = state.hold,\n        bits = state.bits,\n        lcode = state.lencode,\n        dcode = state.distcode,\n        lmask = (1 << state.lenbits) - 1,\n        dmask = (1 << state.distbits) - 1,\n        here, op, len, dist, from, from_source;\n    top: do{\n        if(bits < 15){\n            hold += input[_in++] << bits; bits += 8\n            hold += input[_in++] << bits; bits += 8\n        }\n        here = lcode[hold & lmask]\n        dolen: while(1){\n            op = here >>> 24; hold >>>= op; bits -= op;\n            op = (here >>> 16) & 0xFF\n            if(op === 0) output[_out++] = here & 0xFFFF\n            else if(op & 16){\n                len = here & 0xFFFF\n                op &= 15\n                if(op){\n                    if(bits < op){ hold += input[_in++] << bits; bits += 8 }\n                    len += hold & ((1 << op) - 1); hold >>>= op; bits -= op\n                }\n                if(bits < 15){\n                    hold += input[_in++] << bits; bits += 8\n                    hold += input[_in++] << bits; bits += 8\n                }\n                here = dcode[hold & dmask]\n                dodist: while(1){\n                    op = here >>> 24; hold >>>= op; bits -= op\n                    op = (here >>> 16) & 0xFF\n                    if(op & 16){\n                        dist = here & 0xFFFF\n                        op &= 15\n                        if(bits < op){\n                            hold += input[_in++] << bits; bits += 8\n                            if(bits < op){ hold += input[_in++] << bits; bits += 8 }\n                        }\n                        dist += hold & ((1 << op) - 1)\n                        if(dist > dmax){\n                            stream.msg = 'invalid distance too far back'\n                            state.mode = BAD\n                            break top\n                        }\n                        hold >>>= op; bits -= op\n                        op = _out - beg\n                        if(dist > op){\n                            op = dist - op\n                            if(op > whave && state.sane){\n                                stream.msg = 'invalid distance too far back'\n                                state.mode = BAD\n                                break top\n                            }\n                            from = 0\n                            from_source = s_window\n                            if(wnext === 0){\n                                from += wsize - op\n                                if(op < len){\n                                    len -= op\n                                    do{ output[_out++] = s_window[from++] }while(--op);\n                                    from = _out - dist\n                                    from_source = output\n                                }\n                            }else if(wnext < op){\n                                from += wsize + wnext - op\n                                op -= wnext\n                                if(op < len){\n                                    len -= op\n                                    do{ output[_out++] = s_window[from++] }while(--op);\n                                    from = 0\n                                    if(wnext < len){\n                                        op = wnext\n                                        len -= op\n                                        do{ output[_out++] = s_window[from++] }while(--op);\n                                        from = _out - dist\n                                        from_source = output\n                                    }\n                                }\n                            }else{\n                                from += wnext - op\n                                if(op < len){\n                                    len -= op\n                                    do{ output[_out++] = s_window[from++] }while(--op);\n                                    from = _out - dist\n                                    from_source = output\n                                }\n                            }\n                            while(len > 2){\n                                output[_out++] = from_source[from++]\n                                output[_out++] = from_source[from++]\n                                output[_out++] = from_source[from++]\n                                len -= 3\n                            }\n                            if(len){\n                                output[_out++] = from_source[from++]\n                                if(len > 1) output[_out++] = from_source[from++]\n                            }\n                        }else{\n                            from = _out - dist\n                            do{\n                                output[_out++] = output[from++]\n                                output[_out++] = output[from++]\n                                output[_out++] = output[from++]\n                                len -= 3\n                            }while(len > 2);\n                            if(len){\n                                output[_out++] = output[from++]\n                                if(len > 1) output[_out++] = output[from++]\n                            }\n                        }\n                    }else if((op & 64) === 0){\n                        here = dcode[(here & 0xffff) + (hold & ((1 << op) - 1))]\n                        continue dodist\n                    }else{\n                        stream.msg = 'invalid distance code'\n                        state.mode = BAD\n                        break top\n                    }\n                    break;\n                }\n            }else if((op & 64) === 0){\n                here = lcode[(here & 0xffff) + (hold & ((1 << op) - 1))]\n                continue dolen\n            }else if(op & 32){\n                state.mode = TYPE\n                break top\n            }else{\n                stream.msg = 'invalid literal/length code'\n                state.mode = BAD\n                break top\n            }\n            break;\n        }\n    }while(_in < last && _out < end);\n    len = bits >> 3\n    _in -= len\n    bits -= len << 3\n    hold &= (1 << bits) - 1\n    \n    stream.next_in = _in\n    stream.next_out = _out\n    stream.avail_in = (_in < last ? 5 + (last - _in) : 5 - (_in - last))\n    stream.avail_out = (_out < end ? 257 + (end - _out) : 257 - (_out - end))\n    state.hold = hold\n    state.bits = bits\n}\n\n\nconst updatewindow = (stream, src, end, copy) => {\n    const state = stream.state\n    if(state.window === null){\n        state.wsize = 1 << state.wbits\n        state.wnext = 0\n        state.whave = 0\n        state.window = new Uint8Array(state.wsize)\n    }\n    if(copy >= state.wsize){\n        zlib.arraySet(state.window, src, end - state.wsize, state.wsize, 0)\n        state.wnext = 0\n        state.whave = state.wsize\n    }else{\n        let dist = state.wsize - state.wnext\n        if(dist > copy) dist = copy\n        zlib.arraySet(state.window, src, end - copy, dist, state.wnext)\n        copy -= dist\n        if(copy){\n            zlib.arraySet(state.window, src, end - copy, copy, 0)\n            state.wnext = copy\n            state.whave = state.wsize\n        }else{\n            state.wnext += dist\n            if(state.wnext === state.wsize) state.wnext = 0\n            if(state.whave < state.wsize) state.whave += dist\n        }\n    }\n    return 0\n}\n\nzlib.Inflator = Inflator\n\nexport {zlib}","import {factory, Signal, Stream} from '../../util'\nimport {zlib} from './zlib'\n\nconst defaultTaskManager = { schedule: task => task() }\n\nconst PNGDecoder = Object.create(null)\n\nPNGDecoder.process = (buffer, taskManager = defaultTaskManager) => \n    PNGDecoder.decode(buffer, taskManager)\n    .pipe(ctx => PNGDecoder.inflate(ctx))\n    .pipe(ctx => PNGDecoder.readInterlace(ctx))\n    .pipe(ctx => PNGDecoder.toRGBA8(ctx))\n\nPNGDecoder.inflate = target => Signal((resolve, reject) => {\n    const inflator = zlib.Inflator(),\n          rawData = target.out.data,\n          rawDataLength = rawData.length,\n          taskManager = target.taskManager,\n          maxChunkSize = 1024 * 16\n    \n    inflator.onComplete = _ => (target.out.data = inflator.result, resolve(target))\n    inflator.onError = (code, message) => reject(new Error(`Inflator exception ${code}: \"${message}\"`))\n    for(let offset = 0; offset < rawDataLength; offset += maxChunkSize)\n        taskManager.schedule(inflator.consume.bind(inflator, new Uint8Array(rawData.buffer, rawData.byteOffset + offset, Math.min(maxChunkSize, rawDataLength - offset)), offset + maxChunkSize >= rawDataLength))\n})\n\n//TODO keep the same data format\nPNGDecoder.toRGBA8 = target => Signal((resolve, reject) => {\n    const width = target.out.width,\n          height = target.out.height,\n          area = width*height,\n          pixelByteSize = target.channels * target.out.depth,\n          bytesPerPixel = pixelByteSize,\n          bytesPerLine = Math.ceil(width * bytesPerPixel/8),\n          stream = PNGDecoder.stream,\n          bin = PNGDecoder.bin,\n          taskManager = target.taskManager,\n          chunkMaxSize = 1024 * 16 * 16 * 10,\n          \n          buffer = new Uint8Array(area * 4),\n          uint32View = new Uint32Array(buffer.buffer),\n          src = target.out.data,\n          colorType = target.out.colorType,\n          depth = target.out.depth\n    let processor, totalArea = area\n    \n    if(colorType === 6){\n        totalArea = area << 2\n        if(depth === 8) processor = stream.copy.bind(null, buffer, 0, src, 0)\n        else if(depth === 16) processor = stream.iterateChunk.bind(null, i => buffer[i] = src[i++ << 1]) \n    }else if(colorType === 2){\n        let trns = target.out.transparency,\n            tR = trns ? trns[0] : -1, tG = trns ? trns[1] : -1, tB = trns ? trns[2] : -1\n        if(depth === 8) processor = stream.iterateChunk.bind(null, i => {\n            const qi = i << 2, i3 = i * 3\n            buffer[qi] = src[i3]\n            buffer[qi+1]=src[i3+1]\n            buffer[qi+2]=src[i3+2]\n            buffer[qi+3] = (trns && src[i3] === tR && src[i3+1] === tG && src[i3+2] === tB) ? 0 : 0xFF\n        })\n        else if(depth === 16) processor = stream.iterateChunk.bind(null, i => {\n            const qi = i << 2, i6 = i * 6\n            buffer[qi] = src[i6]\n            buffer[qi+1]=src[i6+2]\n            buffer[qi+2]=src[i6+4]\n            buffer[qi+3] = (trns && bin.readShort(src, i6) === tR && bin.readShort(src, i6+2) === tG && bin.readShort(src, i6+4) === tB) ? 0 : 0xFF\n        })\n    }else if(colorType === 3){\n        const palette = target.out.palette,\n              alpha = target.out.transparency,\n              trns = alpha ? alpha.length : 0\n        \n        if(depth === 8) processor = stream.iterateChunk.bind(null, i => {\n            const qi = i << 2,\n                  c = src[i],\n                  p = 3 * c\n            buffer[qi] = palette[p]\n            buffer[qi+1] = palette[p+1]\n            buffer[qi+2] = palette[p+2]\n            buffer[qi+3] = c < trns ? alpha[c] : 0xFF\n        })\n    }else if(colorType === 4){\n        if(depth === 8) processor = stream.iterateChunk.bind(null, i => {\n            const qi = i << 2,\n                  ii = i << 1,\n                  grey = src[ii]\n            buffer[qi] = buffer[qi+1] = buffer[qi+2] = grey\n            buffer[qi+3]=src[ii+1]\n        })\n        else if(depth === 16) processor = stream.iterateChunk.bind(null, i => {\n            const qi = i << 2,\n                  grey = src[qi]\n            buffer[qi] = buffer[qi+1] = buffer[qi+2] = grey\n            buffer[qi+3]=src[ii+2]\n        })\n    }else if(colorType === 0){\n        const trns = target.out.transparency || -1\n        if(depth === 1) processor = stream.iterateChunk.bind(null, i => {\n            const grey = 0xFF * ((src[i >> 3] >> (0x07 - ((i & 0x07)))) & 0x01),\n                  alpha = grey === trns * 0xFF ? 0 : 0xFF\n            uint32View[i] = (alpha << 24) | (grey << 16) | (grey << 8) | grey\n        })\n        else if(depth === 2) processor = stream.iterateChunk.bind(null, i => {\n            const grey = 0x55 * ((src[i >> 2] >> (0x06 - ((i & 0x03) << 1))) & 0x03),\n                  alpha = grey === trns * 0x55 ? 0 : 0xFF\n            uint32View[i] = (alpha << 24) | (grey << 16) | (grey << 8) | grey\n        })\n        else if(depth === 4) processor = stream.iterateChunk.bind(null, i => {\n            const grey = 0x11 * ((src[i >> 1] >> (0x04 - ((i & 0x01) << 2))) & 0x0F),\n                  alpha = grey === trns * 0x11 ? 0 : 0xFF\n            uint32View[i] = (alpha << 24) | (grey << 16) | (grey << 8) | grey\n        })\n        else if(depth === 8) processor = stream.iterateChunk.bind(null, i => {\n            const grey = src[i],\n                  alpha = grey === trns ? 0 : 0xFF\n            uint32View[i] = (alpha << 24) | (grey << 16) | (grey << 8) | grey\n        })\n        else if(depth === 16) processor = stream.iterateChunk.bind(null, i => {\n            const grey = src[i << 1],\n                  alpha = bin.readUshort(src, i << 1) === trns ? 0 : 0xFF\n            uint32View[i] = (alpha << 24) | (grey << 16) | (grey << 8) | grey\n        })\n    }\n    \n    for(let execOffset = 0; execOffset < totalArea; execOffset += chunkMaxSize)\n        taskManager.schedule(stream.processChunk.bind(null, processor, Math.min(chunkMaxSize, totalArea - execOffset), execOffset))\n    taskManager.schedule(_ => (target.out.data = buffer, resolve(target)))\n})\n\n\nPNGDecoder.decode = (buffer, taskManager) => Signal((resolve, reject) => {\n    const data = new Uint8Array(buffer),\n          bitmapData = new Uint8Array(data.length),\n          out = { data: bitmapData },\n          bin = PNGDecoder.binary,\n          stream = PNGDecoder.stream,\n          readChunkMaxSize = 1024 * 8\n    let offset = 8,\n        bitmapOffset = 0\n\t\n\tconst parseChunk = {\n\t\t'IHDR': o => {\n\t\t\tout.width = bin.readUint(data, o); o += 4\n\t\t\tout.height = bin.readUint(data, o); o += 4\n\t\t\tout.depth     = data[o++]\n\t\t\tout.colorType = data[o++]\n\t\t\tout.compress  = data[o++]\n\t\t\tout.filter    = data[o++]\n\t\t\tout.interlace = data[o++]\n\t\t},\n\t\t'IDAT': (o, l) => {\n            const processor = stream.copy.bind(null, bitmapData, bitmapOffset, data, o)\n            for(let readOffset = 0; readOffset < l; readOffset += readChunkMaxSize)\n                taskManager.schedule(stream.processChunk.bind(null, processor, Math.min(readChunkMaxSize, l - readOffset), readOffset))\n            bitmapOffset += l\n        },\n\t\t'pHYs': o => out.pixelDimensions = { x: bin.readUint(data, o), y: bin.readUint(data, o+4), unit: data[o+8] },\n\t\t'cHRM': o => out.chromaticies = Array(4).fill().map((_, i) => ({x: bin.readUint(data, o + i*4)/100000.0, y: bin.readUint(data, o + i*4 + 4)/100000.0})),\n\t\t'tEXt': (o, l) => {\n            //out.text = out.text || Object.create(null)\n            //const separator = bin.nextByte(data, o)\n            //out.text[bin.readASCII(data, o, separator-o)] = bin.readASCII(data, separator+1, o+l-separator-1)\n        },\n\t\t'iTXt': (o, l) => {\n            //out.iText = out.iText || Object.create(null)\n            //let separator = 0, initialOffset = o\n            \n            //separator = bin.nextByte(data, o)\n            //let keyword = bin.readASCII(data, o, separator-o),\n            //    cFlag = data[separator+1],\n            //    cMethod = data[separator+2]\n            //separator = bin.nextByte(data, o = separator+3)\n            //let language = bin.readASCII(data, o, separator-o)\n            //separator = bin.nextByte(data, o = separator+1)\n            //let translated = bin.readUTF8(data, o, separator-o),\n            //    text = bin.readUTF8(data, o = separator+1, l-(o-initialOffset))\n            \n            //out.iText[keyword] = text\n        },\n\t\t'PLTE': (o, l) => out.palette = bin.readBytes(data, o, l),\n\t\t'hIST': o => out.paletteHistogram = Array(Math.floor(out.palette.length/3)).fill().map((_, i) => bin.readUshort(data, o + i*2)),\n\t\t'tRNS': (o, l) => out.transparency = \n        (out.colorType === 3 && bin.readBytes(data, o, l)) || \n        (out.colorType === 2 && [bin.readUshort(data, o), bin.readUshort(data, o+2), bin.readUshort(data, o+4)]) || \n        (out.colorType === 0 && bin.readUshort(data, o)) || null,\n\t\t'gAMA': o => out.colorGamma = bin.readUint(data, o)/100000.0,\n\t\t'sRGB': o => out.rgbColorSpace = data[o],\n\t\t'bKGD': o => out.backgrounColor = \n        ((out.colorType === 0 || out.colorType === 4) && [bin.readUshort(data, o)]) || \n        ((out.colorType === 2 || out.colorType === 6) && [bin.readUshort(data, o), bin.readUshort(data, o+2), bin.readUshort(data, o+4)]) || \n        (out.colorType === 3 && data[o]),\n\t\t'IEND': _ => {\n            if(out.compress !== 0) reject(new Error('Unsupported compression method'))\n            if(out.filter !== 0) reject(new Error('Unsupported filter method'))\n            return 'END'\n        },\n        default: (_, length, type) => null\n\t}\n\tconst read = _ => {\n\t\tconst length = bin.readUint(data, offset); offset += 4\n\t\tconst type = bin.readASCII(data, offset, 4);  offset += 4\n\t\tconst end = (parseChunk[type] || parseChunk.default)(offset, length, type) === 'END'\n\t\toffset += length\n\t\tconst crc = bin.readUint(data, offset);  offset += 4\n        !end ? taskManager.schedule(read) : \n        \n        resolve({\n            taskManager, out,\n            get alpha(){ return out.colorType === 4 || out.colorType === 6 },\n            get channels(){ return [1,null,3,1,2,null,4][out.colorType] }\n        })\n\t}\n    taskManager.schedule(read)\n})\n\nPNGDecoder.readInterlace = (target) => Signal((resolve, reject) => {\n    const buffer = target.out.data,\n          width = target.out.width,\n          height = target.out.height,\n          pixelByteSize = target.channels * target.out.depth,\n          interlace = target.out.interlace,\n          stream = PNGDecoder.stream,\n          taskManager = target.taskManager,\n          chunkMaxSize = 1024 * 8\n    \n    if(interlace === 0) \n        return PNGDecoder.filterZero(buffer, 0, width, height, pixelByteSize, taskManager)\n        .pipe(data => (target.out.data = data, resolve(target)))\n    \n    const bytesPerPixel = pixelByteSize,\n          colorBytesPerPixel = bytesPerPixel >> 3,\n          bytesPerLine = Math.ceil(width * bytesPerPixel/8),\n          outputBuffer = new Uint8Array(height * bytesPerLine),\n          rowBegin = [0, 0, 4, 0, 2, 0, 1],\n          colBegin = [0, 4, 0, 2, 0, 1, 0],\n          rowStep  = [8, 8, 8, 4, 4, 2, 2],\n          colStep  = [8, 8, 4, 4, 2, 2, 1]\n    let inputOffset = 0\n    \n    const writeInterlace = (bytesPerPixel === 1 && ((row, col, ci) => \n                outputBuffer[row * bytesPerLine + (col >> 3)] |= (((buffer[ci >> 3] >> (0x07 - (ci & 0x07))) & 0x01) << (0x07 - ((col & 0x03) << 0)))\n        )) || (bytesPerPixel === 2 && ((row, col, ci) => \n                outputBuffer[row * bytesPerLine + (col >> 2)] |= (((buffer[ci >> 3] >> (0x06 - (ci & 0x07))) & 0x03) << (0x06 - ((col & 0x03) << 1)))\n        )) || (bytesPerPixel === 4 && ((row, col, ci) => \n                outputBuffer[row * bytesPerLine + (col >> 1)] |= (((buffer[ci >> 3] >> (0x04 - (ci & 0x07))) & 0x0F) << (0x04 - ((col & 0x01) << 2)))\n        )) || (bytesPerPixel >= 8 && ((row, col, ci) => {\n                const wOffset = row * bytesPerLine + col * colorBytesPerPixel\n                for(let i = 0; i < colorBytesPerPixel; outputBuffer[wOffset + i] = buffer[(ci >> 3) + i++]);\n        }))\n    \n    const processInterlace = (write, subWidth, subHeight, rb, cb, rs, cs, bytesPerSubLine, offset, i) => {\n        const r = Math.floor(i / subWidth),\n              c = i % subWidth,\n              row = rb + r * rs,\n              col = cb + c * cs,\n              ci = ((offset + r * bytesPerSubLine) << 3) + c * bytesPerPixel\n        write(row, col, ci)\n    }\n    \n    const interlacePass = pass => {\n        const rs = rowStep[pass], cs = colStep[pass],\n              rb = rowBegin[pass], cb = colBegin[pass],\n              subWidth = Math.ceil((width - cb) / cs),\n              subHeight = Math.ceil((height - rb) / rs),\n              subArea = subWidth * subHeight,\n              bytesPerSubLine = Math.ceil(subWidth * bytesPerPixel / 8),\n              processor = stream.iterateChunk.bind(null, processInterlace.bind(null, writeInterlace, subWidth, subHeight, rb, cb, rs, cs, bytesPerSubLine, inputOffset))\n        PNGDecoder.decode.filterZero(buffer, inputOffset, subWidth, subHeight, pixelByteSize, taskManager)\n        \n        for(let execOffset = 0; execOffset < subArea; execOffset += chunkMaxSize)\n            taskManager.schedule(stream.processChunk.bind(null, processor, Math.min(chunkMaxSize, subArea - execOffset), execOffset))\n        inputOffset += subArea !== 0 ? subHeight * (1 + bytesPerSubLine) : 0\n    }\n    for(let i = 0; i < 7; taskManager.schedule(interlacePass.bind(null, i++)));\n    \n    taskManager.schedule(_ => (target.out.data = outputBuffer, resolve(target)))\n})\n\nPNGDecoder.filterZero = (buffer, offset, width, height, pixelByteSize, taskManager) => Signal((resolve, reject) => {\n    const bytesPerLine = Math.ceil(width * pixelByteSize/8),\n          bytesPerPixel = Math.ceil(pixelByteSize/8),\n          bytesHalfLine = bytesPerLine - bytesPerPixel,\n          chunkMaxSize = 1024 * 8,\n          stream = PNGDecoder.stream\n    \n    const processRow = row => {\n        const outputOffset = offset + row*bytesPerLine,\n              inputOffset = outputOffset + row + 1,\n              type = buffer[inputOffset - 1]\n        let exec0 = null, exec1 = null\n        \n        if(type === 0) exec0 = stream.copy.bind(null, buffer, outputOffset, buffer, inputOffset)\n        else if(type === 1){\n            exec0 = stream.copy.bind(null, buffer, outputOffset, buffer, inputOffset)\n            exec1 = stream.merge.bind(null, buffer, outputOffset + bytesPerPixel, buffer, inputOffset + bytesPerPixel, outputOffset, NaN, 0)\n        }else if(row === 0){\n            exec0 = stream.copy.bind(null, buffer, outputOffset, buffer, inputOffset)\n            if(type === 2) exec1 = stream.copy.bind(null, buffer, outputOffset + bytesPerPixel, buffer, inputOffset + bytesPerPixel)\n            else if(type === 3) exec1 = stream.merge.bind(null, buffer, outputOffset + bytesPerPixel, buffer, inputOffset + bytesPerPixel, outputOffset, NaN, 1)\n            else if(type === 4) exec1 = stream.paeth.bind(null, buffer, outputOffset + bytesPerPixel, buffer, outputOffset, NaN, NaN)\n        }else{\n            if(type === 2) exec0 = stream.merge.bind(null, buffer, outputOffset, buffer, inputOffset, outputOffset - bytesPerLine, NaN, 0)\n            else if(type === 3){\n                exec0 = stream.merge.bind(null, buffer, outputOffset, buffer, inputOffset, outputOffset - bytesPerLine, NaN, 1)\n                exec1 = stream.merge.bind(null, buffer, outputOffset + bytesPerPixel, \n                                                     buffer, inputOffset + bytesPerPixel, outputOffset + bytesPerPixel - bytesPerLine, outputOffset, 1)\n            }else if(type === 4){\n                exec0 = stream.paeth.bind(null, buffer, outputOffset, buffer, inputOffset, NaN, outputOffset - bytesPerLine, NaN)\n                exec1 = stream.paeth.bind(null, buffer, outputOffset + bytesPerPixel, \n                                                     buffer, inputOffset + bytesPerPixel, outputOffset, outputOffset + bytesPerPixel - bytesPerLine, outputOffset - bytesPerLine)\n            }\n        }\n        const exec0Length = exec1 ? bytesPerPixel : bytesPerLine,\n              exec1Length = exec1 ? bytesHalfLine : 0\n        for(let execOffset = 0; execOffset < exec0Length; execOffset += chunkMaxSize)\n            taskManager.schedule(stream.processChunk.bind(null, exec0, Math.min(chunkMaxSize, exec0Length - execOffset), execOffset))\n        if(exec1)\n            for(let execOffset = 0; execOffset < exec1Length; execOffset += chunkMaxSize)\n                taskManager.schedule(stream.processChunk.bind(null, exec1, Math.min(chunkMaxSize, exec1Length - execOffset), execOffset))\n        if(row === height - 1) taskManager.schedule(_ => resolve(buffer))\n    }\n    for(let r = 0; r < height; taskManager.schedule(processRow.bind(null, r++)));\n})\n\nPNGDecoder.decode.paeth = (a, b, c) => {\n    const p = a+b-c, pa = Math.abs(p-a), pb = Math.abs(p-b), pc = Math.abs(p-c)\n    return (pa <= pb && pa <= pc) ? a : (pb <= pc ? b : c)\n}\n\nPNGDecoder.stream = {\n    copy: (output, outputOffset, input, inputOffset, length, offset = 0) => {\n        for(let i = offset; i < length; output[outputOffset + i] = input[inputOffset + i++] & 0xFF);\n    },\n    merge: (output, outputOffset, input, inputOffset1, inputOffset2, inputOffset3, shift, length, offset = 0) => {\n        if(!isNaN(inputOffset3))\n            for(let i = offset; i < length; output[outputOffset + i] = (input[inputOffset1 + i] + ((input[inputOffset2 + i] + input[inputOffset3 + i++]) >> shift)) & 0xFF);\n        else if(shift)\n            for(let i = offset; i < length; output[outputOffset + i] = (input[inputOffset1 + i] + (input[inputOffset2 + i++] >> shift)) & 0xFF);\n        else\n            for(let i = offset; i < length; output[outputOffset + i] = (input[inputOffset1 + i] + input[inputOffset2 + i++]) & 0xFF);\n    },\n    paeth: (output, outputOffset, input, inputOffset1, paethInOffset1, paethInOffset2, paethInOffset3, length, offset = 0) => {\n        const paeth = PNGDecoder.decode.paeth\n        if(isNaN(paethInOffset1))\n            for(let i = offset; i < length; output[outputOffset + i] = (input[inputOffset1 + i] + paeth(0, input[paethInOffset2 + i++], 0)) & 0xFF);\n        else if(isNaN(paethInOffset2))\n            for(let i = offset; i < length; output[outputOffset + i] = (input[inputOffset1 + i] + paeth(input[paethInOffset1 + i++], 0, 0)) & 0xFF);\n        else\n            for(let i = offset; i < length; output[outputOffset + i] = (input[inputOffset1 + i] + paeth(input[paethInOffset1 + i], input[paethInOffset2 + i], input[paethInOffset3 + i++])) & 0xFF);\n    },\n    processChunk: (processor, length, offset = 0) => processor(offset + length, offset),\n    iterateChunk: (processor, length, offset) => { for(let i = offset; i < length; processor(i++)); }\n}\n\nPNGDecoder.binary = {\n\treadUint: (buffer, offset) => (buffer[offset] << 24) | (buffer[offset+1] << 16) | (buffer[offset+2] << 8) | buffer[offset+3],\n    readUshort: (buffer, offset) => (buffer[offset] << 8) | buffer[offset+1],\n\treadASCII: (buffer, offset, length, out = '') => { for(let i = 0; i < length; out += String.fromCharCode(buffer[offset + i++ ])); return out },\n    readBytes: (buffer, offset, length, out = []) => { for(let i = 0; i < length; out.push(buffer[offset + i++])); return out },\n    nextByte: (buffer, offset, byte = 0) => { while(buffer[offset++] != byte); return offset-1 },\n    pad: (n, minLength = 2) => (Array(minLength).fill('0').join('') + n).substr(n.length+minLength - Math.max(n.length, minLength)),\n    readUTF8: (buffer, offset, length, out = '') => {\n        let str = '';\n        for(let i = 0; i < length; str += '%' + PNGDecoder.binary.pad(buffer[offset + i++].toString(16)));\n        try{ return window.decodeURIComponent(str) }catch(e){ return PNGDecoder.binary.readASCII(buffer, offset, length) }\n    },\n    writeUshort: (buffer, offset, value) => {\n        buffer[offset] = (value >> 8) & 0xFF\n        buffer[offset+1] = value & 0xFF\n    },\n    writeUint: (buffer, offset, value) => {\n        buffer[offset] = (value >> 24) & 0xFF\n        buffer[offset+1] = (value >> 16) & 0xFF\n        buffer[offset+2] = (value >> 8) & 0xFF\n        buffer[offset+3] = value & 0xFF\n    },\n    writeASCII: (buffer, offset, str) => { for(let i = 0; i < str.length; buffer[offset+i] = str.charCodeAt(i++)); }\n}\n\nexport {PNGDecoder}","import {Signal, factory} from '../../util'\nimport {PNGDecoder} from './pngDecoder'\n\nfactory.declare('loader', (target, options) => {\n    const taskManager = options.manager\n    \n    target.RESOURCE_TYPE.TEXTURE = 'texture'\n    \n    target.appendParser((loader, resource, next) => {\n        if(resource.extension !== 'png') return next()\n        \n        PNGDecoder.process(resource.data, loader.taskManager)\n            .listen(data => next({\n            data,\n            type: loader.RESOURCE_TYPE.TEXTURE\n        }))\n    })\n})","import {Signal, factory} from '../../util'\n\nfunction decodeBase64(dataURI){\n    const data = atob(dataURI.split(',')[1])\n    const dataView = new Uint8Array(data.length)\n    for(let i = 0; i < data.length; i++)\n        dataView[i] = data.charCodeAt(i)\n    return dataView.buffer\n}\n\nfactory.declare('loader', (target, options) => {\n    target.RESOURCE_TYPE.AUDIO = 'audio'\n    \n    target.appendParser((loader, resource, next) => {\n        if(resource.extension !== 'mp3') return next()\n        \n        next({\n            data: resource.data,\n            type: loader.RESOURCE_TYPE.AUDIO\n        })\n    })\n})","import { factory, Signal } from '../util'\n\nfunction unlockAudio(audioCtx){\n    function unlock(){\n        window.removeEventListener('mousedown', unlock)\n        window.removeEventListener('touchend', unlock)\n        audioCtx.resume()\n    }\n    window.addEventListener('mousedown', unlock)\n    window.addEventListener('touchend', unlock)\n}\n\nfactory.declare('audio_context', (target, options) => {\n    const audioCtx = new (window.AudioContext || window.webkitAudioContext)()\n    const scene = options.scene\n    \n    unlockAudio(audioCtx)\n    \n    scene.addEventListener('audio_source', (instance, buffer) => {\n        const context = { audio: audioCtx, nodes: [] }\n        const procedures = target.components.map(initialize => initialize(context))\n                \n        function update(){\n            for(let i = procedures.length - 1; i >= 0; i--)\n                procedures[i](instance)\n        }\n        instance.onCleanup(function(){\n            procedures.length = 0\n            context.nodes.forEach(node => node.disconnect())\n            context.nodes.length = 0\n            context.audio = context.buffer = null\n        })\n        \n        buffer.loadEvent.pipe(function(){\n            if(!context.audio) return\n            context.buffer = buffer.data\n            \n            instance.mutation.attach(update, null, false)\n            update()\n        })        \n    })\n    \n\treturn {\n        ctx: audioCtx,\n        set pause(value){\n            if(audioCtx.state === 'running' && value)\n                audioCtx.suspend()\n            else if(audioCtx.state !== 'running' && !value)\n                audioCtx.resume()\n        },\n        uploadAudioBuffer: audioData => Signal(done => audioCtx.decodeAudioData(audioData, buffer => done(buffer))),\n        components: []\n\t}\n})","import { factory, Signal } from '../util'\n\nfactory.declare('audio_context', (target, options) => {\n    const audioCtx = target.ctx\n    const masterGain = audioCtx.createGain()\n    \n    if(options.compressor){\n        const compressor = audioCtx.createDynamicsCompressor()\n        compressor.threshold.value = 10\n        compressor.ratio.value = 20\n        compressor.reduction.value = -20\n        masterGain.connect(compressor)\n        compressor.connect(audioCtx.destination)\n    }else{\n        masterGain.connect(audioCtx.destination)\n    }\n    \n    target.components.push(context => {\n        context.gainNode = context.audio.createGain()\n        context.volume = 1\n        \n        context.nodes.unshift(context.gainNode)\n        context.gainNode.connect(masterGain)\n        \n        return function update(instance){\n            if(instance.volume == context.volume) return\n            context.volume = instance.volume\n            context.gainNode.gain.setValueAtTime(context.volume, context.audio.currentTime)\n        }\n    })\n})","import { factory, Signal } from '../util'\nimport {vec3, vec4, mat4} from '../math'\n\nfunction updateListenerCoordinates(audioCtx, position, forward, up){\n    if(audioCtx.listener.positionX && audioCtx.listener.forwardX){\n        audioCtx.listener.positionX.setValueAtTime(position[0], audioCtx.currentTime)\n        audioCtx.listener.positionY.setValueAtTime(position[1], audioCtx.currentTime)\n        audioCtx.listener.positionZ.setValueAtTime(position[2], audioCtx.currentTime)\n        \n        audioCtx.listener.forwardX.setValueAtTime(forward[0], audioCtx.currentTime)\n        audioCtx.listener.forwardY.setValueAtTime(forward[1], audioCtx.currentTime)\n        audioCtx.listener.forwardZ.setValueAtTime(forward[2], audioCtx.currentTime)\n        audioCtx.listener.upX.setValueAtTime(up[0], audioCtx.currentTime)\n        audioCtx.listener.upY.setValueAtTime(up[1], audioCtx.currentTime)\n        audioCtx.listener.upZ.setValueAtTime(up[2], audioCtx.currentTime)\n    }else{\n        audioCtx.listener.setPosition(position[0], position[1], position[2])\n        \n        audioCtx.listener.setOrientation(forward[0], forward[1], forward[2], up[0], up[1], up[2])\n    }\n}\n\nfunction updateEmitterCoordinates(audioCtx, pannerNode, position, orientation){\n    if(pannerNode.positionX && pannerNode.orientationX){\n        pannerNode.positionX.setValueAtTime(position[0], audioCtx.currentTime)\n        pannerNode.positionY.setValueAtTime(position[1], audioCtx.currentTime)\n        pannerNode.positionZ.setValueAtTime(position[2], audioCtx.currentTime)\n        \n        pannerNode.orientationX.setValueAtTime(orientation[0], audioCtx.currentTime)\n        pannerNode.orientationY.setValueAtTime(orientation[1], audioCtx.currentTime)\n        pannerNode.orientationZ.setValueAtTime(orientation[2], audioCtx.currentTime)\n    }else{\n        pannerNode.setPosition(position[0], position[1], position[2])\n        pannerNode.setOrientation(orientation[0], orientation[1], orientation[2])\n    }\n}\n\nfactory.declare('audio_context', (target, options) => {\n    const audioCtx = target.ctx\n    const scene = options.scene\n    \n    const listener = {\n        position: vec3(0, 0, 0),\n        up: vec3(0, 1, 0),\n        forward: vec3(0, 0, -1)\n    }\n    \n    scene.camera.mutation.pipe(mutations => {\n        if(!mutations.viewMatrix) return\n        const { position, rotationMatrix } = scene.camera\n        \n        vec3.copy(position, listener.position)\n        \n        listener.forward[0] = -rotationMatrix[2]\n        listener.forward[1] = -rotationMatrix[6]\n        listener.forward[2] = -rotationMatrix[10]\n        \n        listener.up[0] = -rotationMatrix[1]\n        listener.up[1] = -rotationMatrix[5]\n        listener.up[2] = -rotationMatrix[9]\n        \n        updateListenerCoordinates(audioCtx, listener.position, listener.forward, listener.up)\n    })\n\n    target.components.push(context => {\n        context.position = vec3(0, 0, 0)\n        context.orientation = vec3(1, 0, 0)\n        \n        context.pannerNode = context.audio.createPanner()\n        Object.assign(context.pannerNode, {\n            panningModel: 'equalpower',\n            distanceModel: 'exponential',\n            refDistance: 1,\n            maxDistance: 10000,\n            rolloffFactor: 1,\n            coneInnerAngle: 360,\n            coneOuterAngle: 0,\n            coneOuterGain: 0\n        })\n        \n        context.pannerNode.connect(context.nodes[0])\n        context.nodes.unshift(context.pannerNode)\n        \n        return function update(instance){\n            vec3.translationFromMat4(instance.modelMatrix, context.position)\n            updateEmitterCoordinates(context.audio, context.pannerNode, context.position, context.orientation)\n        }\n    })\n})","import { factory, Signal } from '../util'\n\nfunction initializeAudioSource(context){\n    context.sourceNode = context.audio.createBufferSource()\n    context.sourceNode.buffer = context.buffer\n    \n    context.sourceNode.playbackRate.value = context.rate\n    context.sourceNode.loop = context.loop\n    context.sourceNode.loopStart = 0\n    context.sourceNode.loopEnd = context.buffer.duration\n    \n    context.sourceNode.connect(context.nodes[0])\n}\n\nfactory.declare('audio_context', (target, options) => {\n    target.components.push(context => {\n        context.loop = true\n        context.playhead = 0\n        context.rate = 1\n        context.startTime = null\n        \n        return function update(instance){\n            if(!context.buffer) return\n            if(context.startTime == instance.startTime && context.loop == instance.loop) return\n            const restart = context.startTime != instance.startTime\n            \n            context.loop = instance.loop\n            context.startTime = instance.startTime\n            \n            const timeOffset = instance.startTime - instance.time\n            const currentTime = context.audio.currentTime\n            \n            if(context.sourceNode){\n                const timeElapsed = currentTime - context.prevTime\n                context.playhead = (context.playhead + timeElapsed) % context.buffer.duration\n                context.sourceNode.stop(0)\n            }\n            \n            if(restart){\n                context.sourceNode = null\n                context.playhead = 0\n            }\n            if(context.startTime == null) return\n            \n            initializeAudioSource(context)\n            \n            context.prevTime = currentTime + Math.max(0, timeOffset)\n            context.playhead += Math.max(0, -timeOffset)\n            context.sourceNode.start(context.prevTime, context.playhead, undefined)\n            //context.sourceNode.onended = function(){}\n        }\n    })\n})","import {factory, tie, Stream, genRandomFloat} from '../util'\nimport {vec2, vec3, quat, mat4} from '../math'\n\nfactory.declare('behavior', (target, options) => { //TODO add pathfinding options and player movement functions into behavior?\n    return {\n    }\n})","import {factory, tie, Stream, genRandomFloat} from '../util'\nimport {vec2, vec3, quat, mat4} from '../math'\n\nconst Boid = options => {\n    const target = Object.create(null),\n          position = vec3.copy(options.position || vec3.ZERO),\n          rotation = quat(),\n          velocity = vec3(),\n          steeringForce = vec3(),\n          velocitySamples = [],\n          smoothingSampleCount = options.smoothingSampleCount || 20\n    let maxSpeed = options.maxSpeed || 1e-2,\n        maxForce = options.maxForce || 1e-5,\n        mass = options.mass || 1.0,\n        wanderAngle = 0\n    \n    return tie(target, {\n        get position(){ return position },\n        get rotation(){ return rotation },\n        get velocity(){ return velocity },\n        update: deltaTime => {\n            target.verlet(deltaTime)\n            \n            if(velocitySamples.length === smoothingSampleCount) velocitySamples.shift()\n            velocitySamples.push(velocity)\n            const totalVelocity = velocitySamples.reduce((total, v) => vec3.add(total, v, total), vec3())\n            vec3.normalize(totalVelocity, totalVelocity)\n            if(!vec3.equals(vec3.ZERO, totalVelocity))\n                quat.normalize(quat.fromMat4(mat4.targetTo(vec3.ZERO, totalVelocity, vec3.AXIS_Y)), rotation)\n        },\n        verlet: deltaTime => {\n            vec3.truncate(steeringForce, maxForce, steeringForce)\n            vec3.scale(steeringForce, 1 / mass, steeringForce)\n            vec3.add(velocity, steeringForce, velocity)\n            vec3.copy(vec3.ZERO, steeringForce)\n            \n            vec3.truncate(velocity, maxSpeed, velocity)\n            vec3.add(position, velocity, position)\n        },\n        seek: (objective, arrivalThreshold = 0) => {\n            const desiredVelocity = vec3.subtract(objective, position),\n                  distance = vec3.distance(desiredVelocity)\n            vec3.scale(desiredVelocity, (distance ? 1/distance : 0) * (distance > arrivalThreshold ? maxSpeed : maxSpeed * distance / arrivalThreshold), desiredVelocity)\n            vec3.subtract(desiredVelocity, velocity, desiredVelocity)\n            vec3.add(steeringForce, desiredVelocity, steeringForce)\n        },\n        flee: objective => {\n            const desiredVelocity = vec3.subtract(objective, position),\n                  distance = vec3.distance(desiredVelocity)\n            vec3.scale(desiredVelocity, (distance ? 1/distance : 0) * maxSpeed, desiredVelocity)\n            vec3.subtract(desiredVelocity, velocity, desiredVelocity)\n            vec3.subtract(steeringForce, desiredVelocity, steeringForce)\n        },\n        wander: (wanderDistance = 0.1, wanderRange = Math.PI * 0.05) => {\n            const center = vec3.normalize(velocity)\n            vec3.scale(center, wanderDistance, center)         \n            const offset = vec3(Math.sin(wanderAngle) * wanderDistance, 0, Math.cos(wanderAngle) * wanderDistance)\n            wanderAngle += genRandomFloat(-0.5 * wanderRange, 0.5 * wanderRange)\n            vec3.add(center, offset, center)\n            vec3.add(steeringForce, center, steeringForce)\n        },\n        pursue: objective => {\n            const distanceAhead = vec3.distance(vec3.subtract(objective.position, position)) / maxSpeed\n            const futureObjective = vec3.add(objective.position, vec3.scale(vec3.normalize(objective.velocity), distanceAhead))\n            target.seek(futureObjective)\n        },\n        evade: objective => {\n            const distanceAhead = vec3.distance(vec3.subtract(objective.position, position)) / maxSpeed\n            const futureObjective = vec3.subtract(objective.position, vec3.scale(vec3.normalize(objective.velocity), distanceAhead))\n            target.flee(futureObjective)\n        },\n        //TODO entity format etc\n//        interpose: (left, right) => {\n//            const middle = vec3.scale(vec3.add(left.position, right.position), 0.5)\n//            const objectiveTime = vec3.distance(vec3.subtract(position, middle)) / maxSpeed\n//            const futureLeft = vec3.add(left.position, vec3.scale(left.velocity, objectiveTime))\n//            const futureRight = vec3.add(right.position, vec3.scale(right.velocity, objectiveTime))\n//            vec3.scale(vec3.add(futureLeft, futureRight), 0.5, middle)\n//            target.seek(middle)\n//        },\n//        separation: (entities, separationRadius = 300, maxSeparation = 100) => {\n//            const force = vec3(),\n//                  distance = vec3()\n//            let neighborCount = 0,\n//                entityIdx = entities.length,\n//                entity = null\n//            while(entityIdx--){\n//                entity = entities[entityIdx]\n//                if(entity === target) continue\n//                vec3.subtract(entity.position, position, distance)\n//                if(vec3.distance(distance) > separationRadius) continue\n//                vec3.add(force, distance, force)\n//                neighborCount++\n//            }\n//            //if(neighborCount != 0) vec3.scale(force, -1/neighborCount, force) //TODO: remove - Not required\n//            vec3.normalize(force, force)\n//            vec3.scale(force, -maxSeparation, force)\n//            vec3.add(steeringForce, force, steeringForce)\n//        },\n        followPath: (pathIdx, path, loop, thresholdRadius = 1) => {\n            const wayPoint = path[pathIdx]\n            if(vec3.distance(vec3.subtract(position, wayPoint)) < thresholdRadius)\n                pathIdx = pathIdx >= path.length - 1 ? (loop ? 0 : pathIdx) : ++pathIdx\n            target.seek(wayPoint, pathIdx == path.length - 1 && !loop ? 2 * thresholdRadius : 0)\n            return pathIdx\n        },\n//        avoid: (entities) => {\n//            let avoidDistance = 100\n//            \n//            const speed = vec3.distance(velocity),\n//                  direction = vec3.scale(velocity, speed ? 1/speed : 0)\n//            const ahead = vec3.add(position, vec3.scale(direction, speed / maxSpeed)),\n//                  halfAhead = vec3.add(position, vec3.scale(direction, avoidDistance * 0.5))\n//            let closest = null,\n//                entityIdx = entities.length,\n//                entity = null\n//            while(entityIdx--){\n//                entity = entities[entityIdx]\n//                if(entity === target) continue\n//                //TODO more precise calculation with distance to vector instead\n//                const collision = vec3.distance(vec3.subtract(entity.position, ahead)) <= entity.radius || vec3.distance(vec3.subtract(entity.position, halfAhead)) <= entity.radius\n//                if(collision && (closest == null || vec3.distance(vec3.subtract(position, entity.position)) < vec3.distance(vec3.subtract(position, closest.position))))//TODO cache distance\n//                    closest = entity\n//            }\n//            const avoidance = closest ? vec3.scale(vec3.normalize(vec3.subtract(ahead, closest.position)), 100) : vec3() //TODO remoe hardcoded values\n//            vec3.add(steeringForce, avoidance, steeringForce)\n//        },\n//        inSight: entity => {\n//            let inSightDistance = 5000\n//            if(vec3.distance(vec3.subtract(position, entity.position)) > inSightDistance) return false //TODO optimise\n//            const heading = vec3.normalize(velocity)\n//            const difference = vec3.subtract(entity.position, position)\n//            return vec3.dot(difference, heading) >= 0\n//        },\n//        flock: (entities) => {\n//            let tooCloseDistance = 100\n//            \n//            const averageVelocity = vec3.copy(velocity)\n//            const averagePosition = vec3()\n//            let inSightCount = 0\n//            for(let i = 0; i < entities.length; i++)\n//                if(entities[i] !== target && target.inSight(entities[i])){\n//                    vec3.add(averageVelocity, entities[i].velocity, averageVelocity)\n//                    vec3.add(averagePosition, entities[i].position, averagePosition)\n//                    if(vec3.distance(vec3.subtract(position, entities[i].position)) < tooCloseDistance)\n//                        target.flee(entities[i].position)\n//                    inSightCount++\n//                }\n//            if(inSightCount > 0){\n//                vec3.scale(averageVelocity, 1/inSightCount, averageVelocity)\n//                vec3.scale(averagePosition, 1/inSightCount, averagePosition)\n//                target.seek(averagePosition)\n//                vec3.add(steeringForce, averageVelocity, steeringForce)\n//            }\n//        }\n    })\n}\n\nexport {Boid}","import {logger} from '../debug/logger'\nimport {tie, factory, Signal} from '../util'\nimport {vec3, quat} from '../math'\nimport {deserialize} from '../geometry'\n\n//TODO this is adapter? Hopefully will move to better place soon\nfactory.declare('scene', (target, options) => {\n    const taskManager = options.manager\n    //TODO check options if nav mesh is enabled?\n    const navigationMesh = factory.build('navigation_mesh', { taskManager })\n\n    return {\n        navigationMesh,\n        addSolidGeometry: solidObjects => { //TODO async defer, return signal of area\n            const solidGeometry = deserialize(solidObjects)\n            if(!solidGeometry.length) return null\n            \n            return {\n                navigationConstructionEvent: navigationMesh.buildNodes(solidGeometry, 'default')\n                .pipe(layer => {\n                    let group = layer.groups[layer.groups.length - 1]\n                    logger.info('navigation', `Navigation mesh group attached.`) //TODO uuid?\n                    target.dispatchEvent('navigation', layer)\n                    return group\n                }).fix(error => console.error(error))\n            }\n        },\n        removeSolidGeometry: solidGeometry => {\n            solidGeometry.navigationConstructionEvent\n                .pipe(group => navigationMesh.deleteNodes('default', group))\n                .pipe(layer => {\n                logger.info('navigation', 'Navigation mesh chunk detached.')\n                target.dispatchEvent('navigation', layer)\n            })\n        }\n    }\n})\n\nconst FollowObjective = (scene, target, options) => {\n    options = Object.assign({\n        distanceThreshold: 10 * 10,\n        navigationLayer: 'default'\n    }, options || {})\n    \n    const lastPosition = vec3()\n    let path = null,\n        wayPointIndex = 0\n    \n    return (position, traverse) => { //TODO: threshold should be based on distance tp target\n        if(vec3.differenceSquared(lastPosition, target.position) > options.distanceThreshold){ //TODO doesn't recalc if failed to find (though it doesn't know why)\n            vec3.copy(target.position, lastPosition)\n            \n            const agentPosition = position,\n                  agentTargetPosition = lastPosition\n            path = scene.navigationMesh.findPath(agentPosition, agentTargetPosition, options.navigationLayer)\n            wayPointIndex = 0\n            logger.info('ai', `Recalculating path. length ${path && path.length}`)\n        }\n        if(path) wayPointIndex = traverse(path, wayPointIndex)\n        else traverse([position], 0)\n    }\n}\n\nexport {FollowObjective}","import {vec3} from '../math/vec3'\nimport {quat} from '../math/quat'\nimport {aquireVec3Pool} from '../math'\n\nconst CollisionDetector = detectors => ({\n    test: (context, shapeA, shapeB, worldPositionA, worldPositionB, worldRotationA, worldRotationB, bailEarly) => {\n        context.vec3Pool = aquireVec3Pool()\n        context.flip = shapeA.type >= shapeB.type\n        \n        const detector = detectors[shapeA.type | shapeB.type],\n              result = !context.flip ? \n                detector(context, shapeA, shapeB, worldPositionA, worldPositionB, worldRotationA, worldRotationB, bailEarly) :\n                detector(context, shapeB, shapeA, worldPositionB, worldPositionA, worldRotationB, worldRotationA, bailEarly)\n        context.vec3Pool.release()\n        return result\n    }\n})\n\nexport {CollisionDetector}","import {vec3} from '../math/vec3'\n\nconst sphereSphere = (context, shapeA, shapeB, worldPositionA, worldPositionB, worldRotationA, worldRotationB, bailEarly) => {\n    const { contactNormal, contactPointA, contactPointB } = context\n    const minDistance = shapeA.radius + shapeB.radius\n    vec3.subtract(worldPositionB, worldPositionA, contactNormal)\n    \n    if(vec3.distanceSquared(contactNormal) >= minDistance * minDistance) return false\n    if(bailEarly) return true\n    \n    vec3.normalize(contactNormal, contactNormal)\n    \n    vec3.scale(contactNormal, shapeA.radius, contactPointA)\n    vec3.scale(contactNormal, -shapeB.radius, contactPointB)\n    \n    vec3.add(contactPointA, worldPositionA, contactPointA)\n    vec3.add(contactPointB, worldPositionB, contactPointB)\n    \n    context.registerContact()\n    return true\n}\n\nexport {sphereSphere}","import {vec3} from '../math/vec3'\n\nconst sphereBox = (context, shapeA, shapeB, worldPositionA, worldPositionB, worldRotationA, worldRotationB, bailEarly) => {\n    const { contactNormal, contactPointA, contactPointB } = context,\n          vec3Pool = context.vec3Pool,\n          radius = shapeA.radius,\n          halfExtents = shapeB.halfExtents,\n          boxToSphere = vec3.subtract(worldPositionA, worldPositionB, vec3Pool.obtain())\n\n    const axisX = vec3.transformQuat(vec3.AXIS_X, worldRotationB, vec3Pool.obtain()),\n          axisY = vec3.transformQuat(vec3.AXIS_Y, worldRotationB, vec3Pool.obtain()),\n          axisZ = vec3.transformQuat(vec3.AXIS_Z, worldRotationB, vec3Pool.obtain()),\n          dotX = vec3.dot(boxToSphere, axisX),\n          dotY = vec3.dot(boxToSphere, axisY),\n          dotZ = vec3.dot(boxToSphere, axisZ),\n          side = vec3.set(dotX < 0 ? -halfExtents[0] : halfExtents[0],\n                          dotY < 0 ? -halfExtents[1] : halfExtents[1],\n                          dotZ < 0 ? -halfExtents[2] : halfExtents[2], vec3Pool.obtain()),\n          sideX = dotX < 0 ? -halfExtents[0] : halfExtents[0],\n          sideY = dotY < 0 ? -halfExtents[1] : halfExtents[1],\n          sideZ = dotZ < 0 ? -halfExtents[2] : halfExtents[2],\n          overlapX = halfExtents[0] - Math.abs(dotX),\n          overlapY = halfExtents[1] - Math.abs(dotY),\n          overlapZ = halfExtents[2] - Math.abs(dotZ),\n          minOverlap = Math.min(overlapX, overlapY, overlapZ)\n    \n    if(overlapX > 0 && overlapX != minOverlap) side[0] = dotX\n    if(overlapY > 0 && overlapY != minOverlap) side[1] = dotY\n    if(overlapZ > 0 && overlapZ != minOverlap) side[2] = dotZ\n    \n    vec3.set(axisX[0] * side[0] + axisY[0] * side[1] + axisZ[0] * side[2],\n             axisX[1] * side[0] + axisY[1] * side[1] + axisZ[1] * side[2],\n             axisX[2] * side[0] + axisY[2] * side[1] + axisZ[2] * side[2], contactPointB)\n    vec3.subtract(contactPointB, boxToSphere, contactNormal)\n    \n    if(vec3.distanceSquared(contactNormal) >= radius * radius && minOverlap <= 0) return false\n    if(bailEarly) return true\n    \n    if(minOverlap > 0) vec3.negate(contactNormal, contactNormal)\n    vec3.normalize(contactNormal, contactNormal)\n    vec3.scale(contactNormal, radius, contactPointA)\n\n    vec3.add(contactPointA, worldPositionA, contactPointA)\n    vec3.add(contactPointB, worldPositionB, contactPointB)\n    context.registerContact()\n    return true\n}\n\nexport {sphereBox}","import {vec3} from '../math/vec3'\nimport {mat3} from '../math/mat3'\nimport {clipFaceAgainstPlane} from '../math/separatingAxis'\n\nconst rotationMatrixA = mat3(),\n      rotationMatrixB = mat3(),\n      axesA = [new Float32Array(rotationMatrixA.buffer, 0, 3),\n               new Float32Array(rotationMatrixA.buffer, Float32Array.BYTES_PER_ELEMENT * 3, 3),\n               new Float32Array(rotationMatrixA.buffer, Float32Array.BYTES_PER_ELEMENT * 6, 3)],\n      axesB = [new Float32Array(rotationMatrixB.buffer, 0, 3),\n               new Float32Array(rotationMatrixB.buffer, Float32Array.BYTES_PER_ELEMENT * 3, 3),\n               new Float32Array(rotationMatrixB.buffer, Float32Array.BYTES_PER_ELEMENT * 6, 3)],\n      crossAxes = Array(9).fill().map(_ => vec3())\n\nconst boxBox = (context, shapeA, shapeB, worldPositionA, worldPositionB, worldRotationA, worldRotationB, bailEarly) => {\n    const { contactNormal, contactPointA, contactPointB } = context\n    const vec3Pool = context.vec3Pool,\n          difference = vec3.subtract(worldPositionB, worldPositionA, vec3Pool.obtain())\n    \n    mat3.fromQuat(worldRotationA, rotationMatrixA)\n    mat3.fromQuat(worldRotationB, rotationMatrixB)\n    const axisXA = axesA[0], axisYA = axesA[1], axisZA = axesA[2],\n          axisXB = axesB[0], axisYB = axesB[1], axisZB = axesB[2],\n          dotXX = vec3.dot(axisXA, axisXB), dotXY = vec3.dot(axisXA, axisYB), dotXZ = vec3.dot(axisXA, axisZB),\n          dotYX = vec3.dot(axisYA, axisXB), dotYY = vec3.dot(axisYA, axisYB), dotYZ = vec3.dot(axisYA, axisZB),\n          dotZX = vec3.dot(axisZA, axisXB), dotZY = vec3.dot(axisZA, axisYB), dotZZ = vec3.dot(axisZA, axisZB),\n          sideB = shapeB.halfExtents,\n          sideA = shapeA.halfExtents\n    \n    let dimensionA = vec3Pool.obtain(),\n        dimensionB = vec3Pool.obtain(),\n        axisIndex = -1,\n        minDepth = -Number.MAX_VALUE,\n        sign, distance, overlap,\n        overlapOffset = 0.01,\n        lengthThreshold = 1e-5\n        \n    distance = vec3.dot(axisXA, difference)\n    vec3.set(Math.abs(dotXX), Math.abs(dotXY), Math.abs(dotXZ), dimensionB)\n    overlap = Math.abs(distance) - sideA[0] - vec3.dot(dimensionB, sideB)\n    if(overlap > 0) return false\n    else if(overlap > minDepth){\n        minDepth = overlap\n        axisIndex = 0x1\n        sign = distance > 0\n    }\n    distance = vec3.dot(axisYA, difference)\n    vec3.set(Math.abs(dotYX), Math.abs(dotYY), Math.abs(dotYZ), dimensionB)\n    overlap = Math.abs(distance) - sideA[1] - vec3.dot(dimensionB, sideB)\n    if(overlap > 0) return false\n    else if(overlap > minDepth){\n        minDepth = overlap\n        axisIndex = 0x2\n        sign = distance > 0\n    }\n    distance = vec3.dot(axisZA, difference)\n    vec3.set(Math.abs(dotZX), Math.abs(dotZY), Math.abs(dotZZ), dimensionB)\n    overlap = Math.abs(distance) - sideA[2] - vec3.dot(dimensionB, sideB)\n    if(overlap > 0) return false\n    else if(overlap > minDepth){\n        minDepth = overlap\n        axisIndex = 0x3\n        sign = distance > 0\n    }\n    distance = vec3.dot(axisXB, difference)\n    vec3.set(Math.abs(dotXX), Math.abs(dotYX), Math.abs(dotZX), dimensionA)\n    overlap = Math.abs(distance) - sideB[0] - vec3.dot(dimensionA, sideA)\n    if(overlap > 0) return false\n    else if(overlap > minDepth){\n        minDepth = overlap\n        axisIndex = 0x4\n        sign = distance > 0\n    }\n    distance = vec3.dot(axisYB, difference)\n    vec3.set(Math.abs(dotXY), Math.abs(dotYY), Math.abs(dotZY), dimensionA)\n    overlap = Math.abs(distance) - sideB[1] - vec3.dot(dimensionA, sideA)\n    if(overlap > 0) return false\n    else if(overlap > minDepth){\n        minDepth = overlap\n        axisIndex = 0x5\n        sign = distance > 0\n    }\n    distance = vec3.dot(axisZB, difference)\n    vec3.set(Math.abs(dotXZ), Math.abs(dotYZ), Math.abs(dotZZ), dimensionA)\n    overlap = Math.abs(distance) - sideB[2] - vec3.dot(dimensionA, sideA)\n    if(overlap > 0) return false\n    else if(overlap > minDepth){\n        minDepth = overlap\n        axisIndex = 0x6\n        sign = distance > 0\n    }\n    \n    for(let a = 0; a < 3; a++) for(let b = 0; b < 3; b++){ //TODO:  if cross is 0 -> X and Y axes are the same.\n        const crossAxis = vec3.cross(axesA[a], axesB[b], crossAxes[a * 3 + b])\n        if((distance = vec3.distanceSquared(crossAxis)) <= lengthThreshold) continue\n        distance = vec3.dot(vec3.scale(crossAxis, 1 / Math.sqrt(distance), crossAxis), difference)\n        vec3.set(a == 0 ? 0 : Math.abs(vec3.dot(crossAxis, axisXA)),\n                 a & 1  ? 0 : Math.abs(vec3.dot(crossAxis, axisYA)),\n                 a & 2  ? 0 : Math.abs(vec3.dot(crossAxis, axisZA)), dimensionA)\n        vec3.set(b == 0 ? 0 : Math.abs(vec3.dot(crossAxis, axisXB)),\n                 b & 1  ? 0 : Math.abs(vec3.dot(crossAxis, axisYB)),\n                 b & 2  ? 0 : Math.abs(vec3.dot(crossAxis, axisZB)), dimensionB)\n        overlap = Math.abs(distance) - vec3.dot(dimensionA, sideA) - vec3.dot(dimensionB, sideB)\n        if(overlap > 0) return false\n        else if(overlap - overlapOffset > minDepth){\n            minDepth = overlap\n            axisIndex = 0x7 + a * 3 + b\n            sign = distance > 0\n        }\n    }\n    \n    const halfX = vec3.scale(axisXA, sideA[0], vec3Pool.obtain()),\n          halfY = vec3.scale(axisYA, sideA[1], vec3Pool.obtain()),\n          halfZ = vec3.scale(axisZA, sideA[2], vec3Pool.obtain()),\n          verticesA = Array(8)\n    for(let i = 0; i < 8; i++){\n        let vertex = verticesA[i] = vec3.copy(worldPositionA, vec3Pool.obtain())\n        i & 0x4 ? vec3.subtract(vertex, halfX, vertex) : vec3.add(vertex, halfX, vertex)\n        i & 0x2 ? vec3.subtract(vertex, halfY, vertex) : vec3.add(vertex, halfY, vertex)\n        i & 0x1 ? vec3.subtract(vertex, halfZ, vertex) : vec3.add(vertex, halfZ, vertex)\n    }\n    vec3.scale(axisXB, sideB[0], halfX)\n    vec3.scale(axisYB, sideB[1], halfY)\n    vec3.scale(axisZB, sideB[2], halfZ)\n    const verticesB = Array(8)\n    for(let i = 0; i < 8; i++){\n        let vertex = verticesB[i] = vec3.copy(worldPositionB, vec3Pool.obtain())\n        i & 0x4 ? vec3.subtract(vertex, halfX, vertex) : vec3.add(vertex, halfX, vertex)\n        i & 0x2 ? vec3.subtract(vertex, halfY, vertex) : vec3.add(vertex, halfY, vertex)\n        i & 0x1 ? vec3.subtract(vertex, halfZ, vertex) : vec3.add(vertex, halfZ, vertex)\n    }\n    let normal = vec3Pool.obtain(),\n        tangent = vec3Pool.obtain(),\n        binormal = vec3Pool.obtain() //TODO just assign instead of copy\n    \n    if(axisIndex > 0x6){\n        if(bailEarly) return true\n        axisIndex -= 0x7\n        normal = crossAxes[axisIndex]\n        tangent = axesA[(axisIndex / 3) | 0]\n        binormal = axesB[axisIndex % 3]\n\n        if(!sign) vec3.negate(normal, normal)\n        \n        let distance, vertexA, vertexB,\n            maxDistance = -Number.MAX_VALUE,\n            minDistance = Number.MAX_VALUE\n        \n        for(let i = 0; i < 8; i++)\n            if((distance = vec3.dot(normal, verticesA[i])) > maxDistance){\n                maxDistance = distance\n                vertexA = verticesA[i]\n            }\n        for(let i = 0; i < 8; i++)\n            if((distance = vec3.dot(normal, verticesB[i])) < minDistance){\n                minDistance = distance\n                vertexB = verticesB[i]\n            }\n        let vertex = vec3.subtract(vertexB, vertexA, vec3Pool.obtain())\n        let dot = vec3.dot(tangent, binormal)\n        vec3.subtract(tangent, vec3.scale(binormal, dot, binormal), binormal)\n        vec3.add(vertexA, vec3.scale(tangent, vec3.dot(vertex, binormal) / (1 - dot*dot), tangent), vertex)\n        vec3.add(vertex, vec3.scale(normal, minDepth * 0.5, vec3.temp), vertex)\n        \n        vec3.dot(normal, difference) < 0 ? vec3.negate(normal, contactNormal) : vec3.copy(normal, contactNormal) //TODO use sign\n        vec3.copy(vertex, contactPointB)\n        vec3.scale(contactNormal, -minDepth, contactPointA)\n        vec3.add(contactPointB, contactPointA, contactPointA)\n        context.registerContact()\n        return true\n    }\n    \n    const sideLength = vec3Pool.obtain(),\n          oppositeAxes = vec3Pool.obtain()\n    switch(axisIndex){\n        case 0x1: vec3.copy(axisXA, normal), vec3.copy(axisYA, tangent), vec3.copy(axisZA, binormal),\n            vec3.set(dotXX, dotXY, dotXZ, oppositeAxes), vec3.set(sideA[0], sideA[1], sideA[2], sideLength); break\n        case 0x2: vec3.copy(axisYA, normal), vec3.copy(axisXA, tangent), vec3.copy(axisZA, binormal),\n            vec3.set(dotYX, dotYY, dotYZ, oppositeAxes), vec3.set(sideA[1], sideA[0], sideA[2], sideLength); break\n        case 0x3: vec3.copy(axisZA, normal), vec3.copy(axisXA, tangent), vec3.copy(axisYA, binormal),\n            vec3.set(dotZX, dotZY, dotZZ, oppositeAxes), vec3.set(sideA[2], sideA[0], sideA[1], sideLength); break\n        case 0x4: vec3.negate(axisXB, normal), vec3.copy(axisYB, tangent), vec3.copy(axisZB, binormal),\n            vec3.set(-dotXX, -dotYX, -dotZX, oppositeAxes), vec3.set(sideB[0], sideB[1], sideB[2], sideLength); break\n        case 0x5: vec3.negate(axisYB, normal), vec3.copy(axisXB, tangent), vec3.copy(axisZB, binormal),\n            vec3.set(-dotXY, -dotYY, -dotZY, oppositeAxes), vec3.set(sideB[1], sideB[0], sideB[2], sideLength); break\n        case 0x6: vec3.negate(axisZB, normal), vec3.copy(axisXB, tangent), vec3.copy(axisYB, binormal),\n            vec3.set(-dotXZ, -dotYZ, -dotZZ, oppositeAxes), vec3.set(sideB[2], sideB[0], sideB[1], sideLength); break\n    }\n    if(!sign) vec3.negate(normal, normal)\n    if(!sign) vec3.negate(oppositeAxes, oppositeAxes)\n    const center = vec3.scale(normal, sideLength[0], vec3Pool.obtain()),\n          edgeA = vec3.scale(tangent, sideLength[1], vec3Pool.obtain()),\n          edgeB = vec3.scale(binormal, sideLength[2], vec3Pool.obtain())\n    vec3.add(axisIndex > 0x3 ? worldPositionB : worldPositionA, center, center)\n    \n    const planeC1 = -vec3.dot(vec3.add(center, edgeA, vec3.temp), tangent),\n          planeC2 = -vec3.dot(vec3.add(center, edgeB, vec3.temp), binormal),\n          planeC3 = vec3.dot(vec3.subtract(center, edgeA, vec3.temp), tangent),\n          planeC4 = vec3.dot(vec3.subtract(center, edgeB, vec3.temp), binormal)\n    \n    let clipVertices = [[], []] //TODO use verticesA and -B arrays instead\n    \n    let faceIndex = -1,\n        faceVertices = axisIndex > 0x3 ? verticesA : verticesB\n    for(let index = 0, minDot = Number.MAX_VALUE; index < 6; index++){\n        let dot = oppositeAxes[(index/2)|0] * (-(index & 0x1) || 1)\n        if(dot >= minDot) continue\n        minDot = dot\n        faceIndex = index\n    }\n    switch(faceIndex){\n        case 0: clipVertices[0].push(faceVertices[0], faceVertices[2], faceVertices[3], faceVertices[1]); break\n        case 1: clipVertices[0].push(faceVertices[5], faceVertices[7], faceVertices[6], faceVertices[4]); break\n        case 2: clipVertices[0].push(faceVertices[4], faceVertices[0], faceVertices[1], faceVertices[5]); break\n        case 3: clipVertices[0].push(faceVertices[7], faceVertices[3], faceVertices[2], faceVertices[6]); break\n        case 4: clipVertices[0].push(faceVertices[4], faceVertices[6], faceVertices[2], faceVertices[0]); break\n        case 5: clipVertices[0].push(faceVertices[1], faceVertices[3], faceVertices[7], faceVertices[5]); break\n    }\n    \n    if(!clipFaceAgainstPlane(vec3Pool, clipVertices[0], tangent, planeC1, clipVertices[1]).length) return false\n    clipVertices[0].length = 0\n    if(!clipFaceAgainstPlane(vec3Pool, clipVertices[1], binormal, planeC2, clipVertices[0]).length) return false\n    clipVertices[1].length = 0\n    if(!clipFaceAgainstPlane(vec3Pool, clipVertices[0], vec3.negate(tangent, tangent), planeC3, clipVertices[1]).length) return false\n    clipVertices[0].length = 0\n    if(!clipFaceAgainstPlane(vec3Pool, clipVertices[1], vec3.negate(binormal, binormal), planeC4, clipVertices[0]).length) return false\n\n    let dot, centerDot = -vec3.dot(center, normal)\n\n    for(let i = 0; i < clipVertices[0].length; i++)\n        if((dot = vec3.dot(normal, clipVertices[0][i]) + centerDot) < 0){\n            vec3.dot(normal, difference) < 0 ? vec3.negate(normal, contactNormal) : vec3.copy(normal, contactNormal) //TODO use sign (swap -> -sign)\n            vec3.copy(clipVertices[0][i], contactPointB)\n            vec3.scale(contactNormal, -dot, contactPointA)\n            vec3.add(contactPointB, contactPointA, contactPointA)\n            context.registerContact()\n        }\n    return !!context.contactPoints.length\n}\n\nexport {boxBox}","import {vec3} from '../math/vec3'\n\nconst sphereConvex = (context, shapeA, shapeB, worldPositionA, worldPositionB, worldRotationA, worldRotationB, bailEarly) => {\n    const { contactNormal, contactPointA, contactPointB } = context\n    const vec3Pool = context.vec3Pool,\n          normals = shapeB.faceNormals,\n          faces = shapeB.faces,\n          vertices = shapeB.vertices,\n          radius = shapeA.radius,\n          tempVertices = [],\n          convexToSphere = vec3.subtract(worldPositionA, worldPositionB, vec3Pool.obtain())\n    \n    let face = null,\n        faceNormal = vec3Pool.obtain(),\n        facePeneteration = Number.MAX_VALUE\n    \n    const tempFaceNormal = vec3Pool.obtain()\n    for(let i = faces.length - 1; i >= 0; i--){\n        let faceVertices = faces[i],\n            index = faceVertices[0],\n            vertex = tempVertices[index] || vec3.subtract(tempVertices[index] = \n        vec3.transformQuat(vertices[index], worldRotationB, vec3Pool.obtain()), convexToSphere, tempVertices[index])\n        vec3.transformQuat(normals[i], worldRotationB, tempFaceNormal)\n        let peneteration = vec3.dot(tempFaceNormal, vertex) + radius\n        \n        if(peneteration < 0) return false\n        \n        if(facePeneteration <= peneteration) continue\n        \n        facePeneteration = peneteration\n        face = faceVertices\n        vec3.copy(tempFaceNormal, faceNormal)\n    }\n    \n    let edgePoint = null,\n        edgeDirection = vec3Pool.obtain(),\n        edgeNormal = vec3Pool.obtain(),\n        edgePeneteration = Number.MAX_VALUE\n\n    const tempEdgeDirection = vec3Pool.obtain(),\n          tempEdgeNormal = vec3Pool.obtain()\n    for(let i = face.length - 1; i >= 0; i--){\n        let indexA = face[i],\n            indexB = face[(i + 1) % face.length],\n            vertexB = tempVertices[indexB],\n            vertexA = tempVertices[indexA] || vec3.subtract(tempVertices[indexA] = \n        vec3.transformQuat(vertices[indexA], worldRotationB, vec3Pool.obtain()), convexToSphere, tempVertices[indexA])\n        \n        vec3.subtract(vertexB, vertexA, tempEdgeDirection)\n        vec3.cross(faceNormal, tempEdgeDirection, tempEdgeNormal)\n        vec3.normalize(tempEdgeNormal, tempEdgeNormal)\n        \n        let distance = - vec3.dot(vertexA, tempEdgeNormal) + radius\n\n        if(distance < 0) return false\n\n        if(edgePeneteration <= distance) continue\n        \n        edgePeneteration = distance\n        edgePoint = vertexA\n        vec3.copy(tempEdgeNormal, edgeNormal)\n        vec3.copy(tempEdgeDirection, edgeDirection)\n    }\n    \n    if(edgePeneteration <= radius){\n        vec3.normalize(edgeDirection, contactNormal)\n        \n        let projection = Math.clamp(-vec3.dot(edgePoint, contactNormal), 0, vec3.distance(edgeDirection))\n        vec3.scale(contactNormal, projection, contactNormal)\n        vec3.add(edgePoint, contactNormal, contactNormal)\n        \n        if(vec3.distanceSquared(contactNormal) > radius * radius) return false\n        if(bailEarly) return true\n        \n        vec3.add(convexToSphere, contactNormal, contactPointB)\n        \n        vec3.normalize(contactNormal, contactNormal)\n        vec3.scale(contactNormal, radius, contactPointA)\n    }else{\n        if(bailEarly) return true\n        \n        vec3.negate(faceNormal, contactNormal)\n        \n        vec3.scale(contactNormal, radius - facePeneteration, contactPointB)\n        vec3.add(convexToSphere, contactPointB, contactPointB)\n        \n        vec3.scale(contactNormal, radius, contactPointA)\n    }\n    \n    vec3.add(contactPointB, worldPositionB, contactPointB)\n    vec3.add(contactPointA, worldPositionA, contactPointA)\n    context.registerContact()\n    return true\n}\n\nexport {sphereConvex}","import {vec2} from '../../math'\nimport {vec3} from '../math/vec3'\nimport {Transform} from '../math/transform'\nimport {clipAgainstHull, findSeparatingAxis, SATContext} from '../math/separatingAxis'\n\nconst satContext = SATContext()\n\nconst convexConvex = (context, shapeA, shapeB, worldPositionA, worldPositionB, worldRotationA, worldRotationB, bailEarly) => {\n    const { contactNormal, contactPointA, contactPointB } = context\n    const vec3Pool = context.vec3Pool,\n          separatingAxis = vec3Pool.obtain(),\n          convexToConvex = vec3Pool.obtain(),\n          minDistance = shapeA.boundingSphereRadius + shapeB.boundingSphereRadius\n    if(vec3.differenceSquared(worldPositionA, worldPositionB) > minDistance * minDistance) return false\n\n    satContext.vec3Pool = vec3Pool\n    \n    if(!findSeparatingAxis(satContext, shapeA, shapeB, worldPositionA, worldPositionB, worldRotationA, worldRotationB, separatingAxis)) return false\n    let result = []\n    //TODO set -minDistance, minDistance\n    clipAgainstHull(satContext, shapeA, worldPositionA, worldRotationA, shapeB, worldPositionB, worldRotationB, separatingAxis, -100, 100, result) \n    \n    if(bailEarly && result.length) return true\n\n    for(let i = result.length - 1; i >= 0 ; i--){\n        vec3.negate(separatingAxis, contactNormal)\n        vec3.negate(result[i].normal, convexToConvex)\n        vec3.scale(convexToConvex, result[i].depth, convexToConvex)\n        vec3.add(result[i].point, convexToConvex, contactPointA)\n        vec3.copy(result[i].point, contactPointB)\n        \n        context.registerContact()\n    }\n    return !!context.contactPoints.length\n}\n\nexport {convexConvex}","import {vec3} from '../math/vec3'\n\nconst spherePlane = (context, shapeA, shapeB, worldPositionA, worldPositionB, worldRotationA, worldRotationB, bailEarly) => {\n    const { contactNormal, contactPointA, contactPointB } = context\n    \n    vec3.transformQuat(vec3.AXIS_Z, worldRotationB, contactNormal)\n    vec3.negate(contactNormal, contactNormal)\n    vec3.normalize(contactNormal, contactNormal)\n    \n    const planeToSphere = vec3.subtract(worldPositionA, worldPositionB, context.vec3Pool.obtain())\n    \n    if(-vec3.dot(planeToSphere, contactNormal) > shapeA.radius) return false\n    if(bailEarly) return true\n    \n    vec3.scale(contactNormal, shapeA.radius, contactPointA)\n    \n    vec3.scale(contactNormal, vec3.dot(contactNormal, planeToSphere), contactPointB)\n    vec3.subtract(planeToSphere, contactPointB, contactPointB)\n    \n    vec3.add(contactPointA, worldPositionA, contactPointA)\n    vec3.add(contactPointB, worldPositionB, contactPointB)\n    \n    context.registerContact()\n    return true\n}\n\nexport {spherePlane}","import {vec3} from '../math/vec3'\n\nconst planeConvex = (context, shapeA, shapeB, worldPositionA, worldPositionB, worldRotationA, worldRotationB, bailEarly) => {\n    const { contactNormal, contactPointA, contactPointB } = context\n    const vec3Pool = context.vec3Pool,\n          vertices = shapeB.vertices,\n          planeNormal = vec3.transformQuat(vec3.AXIS_Z, worldRotationA, vec3Pool.obtain()),\n          planeConvex = vec3.subtract(worldPositionB, worldPositionA, vec3Pool.obtain()),\n          worldVertex = vec3Pool.obtain()\n\n    for(let i = vertices.length - 1; i >= 0; i--){\n        vec3.transformQuat(vertices[i], worldRotationB, worldVertex)\n        vec3.add(worldVertex, planeConvex, worldVertex)\n        \n        if(vec3.dot(planeNormal, worldVertex) > 0.0) continue\n        if(bailEarly) return true\n        \n        vec3.copy(planeNormal, contactNormal)\n        vec3.subtract(worldVertex, planeConvex, contactPointB)\n        vec3.scale(planeNormal, vec3.dot(planeNormal, worldVertex), contactPointA)\n        vec3.subtract(worldVertex, contactPointA, contactPointA)\n        \n        vec3.add(contactPointA, worldPositionA, contactPointA)\n        vec3.add(contactPointB, worldPositionB, contactPointB)\n        context.registerContact()\n    }\n    return !!context.contactPoints.length\n}\n\nexport {planeConvex}","import {vec3} from '../math/vec3'\nimport {quat} from '../math/quat'\nimport {Transform} from '../math/transform'\n\nimport {aquireVec3Pool} from '../math'\n\nconst ConvexPolyhedron = (vertices, faces, uniqueAxes) => {\n    const shape = Object.create(ConvexPolyhedron.prototype)\n    const vec3Pool = aquireVec3Pool()\n    \n    \n    const faceNormals = Array(faces.length),\n          edge0 = vec3Pool.obtain(),\n          edge1 = vec3Pool.obtain()\n    for(let i = faces.length - 1; i >= 0; i--){\n        let face = faces[i],\n            faceNormal = faceNormals[i] = vec3(),\n            a = vertices[face[0]],\n            b = vertices[face[1]],\n            c = vertices[face[2]]\n        vec3.subtract(b, a, edge0)\n        vec3.subtract(c, b, edge1)\n        vec3.cross(edge1, edge0, faceNormal)\n        vec3.normalize(faceNormal, faceNormal)\n        vec3.negate(faceNormal, faceNormal)\n        if(vec3.dot(faceNormal, a) < 0) throw new Error('Face vertices should be ordered CCW!')\n    }\n    \n    const uniqueEdges = []\n    for(let i = 0; i < faces.length; i++){\n        let face = faces[i]\n        face_iteration: for(let j = 0; j < face.length; j++){\n            let k = (j + 1) % face.length\n            vec3.subtract(vertices[face[j]], vertices[face[k]], edge0)\n            vec3.normalize(edge0, edge0)\n            \n            for(let l = 0; l < uniqueEdges.length; l++)\n                if(vec3.equals(uniqueEdges[l], edge0)) //TODO invert check is missing\n                    continue face_iteration\n            \n            uniqueEdges.push(vec3.copy(edge0))\n        }\n    }\n    \n    let maxSquared = 0\n    for(let i = vertices.length - 1; i >= 0; i--){\n        let distanceSquared = vec3.distanceSquared(vertices[i])\n        if(maxSquared < distanceSquared) maxSquared = distanceSquared\n    }\n    let boundingSphereRadius = Math.sqrt(maxSquared) //TODO recalc on change?\n    \n    vec3Pool.release()\n    //TODO auto generate unique axes\n    return Object.assign(shape, {\n        vertices, faces, uniqueAxes, faceNormals, uniqueEdges, boundingSphereRadius\n    })\n}\n\nConvexPolyhedron.prototype = {\n    calculateWorldAABB: function(position, rotation, min, max){\n        const temp = vec3.temp,\n              vertices = this.vertices\n        vec3.copy(vec3.MAX, min)\n        vec3.copy(vec3.MIN, max)\n        for(let i = vertices.length - 1; i >= 0; i--){\n            vec3.transformQuat(vertices[i], rotation, temp)\n            vec3.add(temp, position, temp)\n            vec3.min(min, temp, min)\n            vec3.max(max, temp, max)\n        }\n    },\n    get volume(){ return 4.0 / 3.0 * Math.PI * this.boundingSphereRadius },\n    calculateLocalInertia: function(mass, out = vec3()){\n        const vertices = this.vertices,\n              vertexCount = vertices.length,\n              m = mass / 3.0\n        let dx = 0, dy = 0, dz = 0\n        for(let i = vertexCount - 1; i >= 0; i--){\n            let vertex = vertices[i]\n            dx += vertex[0] * vertex[0]\n            dy += vertex[1] * vertex[1]\n            dz += vertex[2] * vertex[2]\n        }\n        dx = 2 * Math.sqrt(2 * dx / vertexCount)\n        dy = 2 * Math.sqrt(2 * dy / vertexCount)\n        dz = 2 * Math.sqrt(2 * dz / vertexCount)\n        out[0] = (dy + dz) * m\n        out[1] = (dx + dz) * m\n        out[2] = (dx + dy) * m\n        return out\n    },\n    transformAllPoints: function(offset, quaternion){ //TODO rename to applyTransform\n        for(let i = this.faceNormals.length - 1; i >= 0; i--)\n            vec3.transformQuat(this.faceNormals[i], quaternion, this.faceNormals[i])\n        for(let i = this.uniqueEdges.length - 1; i >= 0; i--)\n            vec3.transformQuat(this.uniqueEdges[i], quaternion, this.uniqueEdges[i])\n        for(let i = this.vertices.length - 1; i >= 0; i--){\n            let vertex = this.vertices[i]\n            vec3.transformQuat(vertex, quaternion, vertex)\n            vec3.add(vertex, offset, vertex)\n        }\n    }\n}\n\nexport {ConvexPolyhedron}","import {vec3} from '../math/vec3'\nimport {ConvexPolyhedron} from './convex'\n\nconst Cylinder = (topRadius, bottomRadius, height, segments = 8) => {\n    const vertices = [],\n          faces = [],\n          axes = [],\n          topFace = [],\n          bottomFace = [],\n          segmentAngle = 2 * Math.PI / segments\n    \n    for(let i = 0; i < segments; i++){\n        let theta = segmentAngle * i,\n            j = (i+1) % segments\n        vertices.push(vec3(bottomRadius * Math.cos(theta),\n                              bottomRadius * Math.sin(theta),\n                              -0.5 * height))\n        vertices.push(vec3(topRadius * Math.cos(theta),\n                              topRadius * Math.sin(theta),\n                              0.5 * height))\n        bottomFace.unshift(2*i)\n        topFace.push(2*i+1)\n        faces.push([2*j, 2*j+1, 2*i+1, 2*i])\n    }\n    faces.push(topFace)\n    faces.push(bottomFace)\n    \n    axes.push(vec3.copy(vec3.AXIS_Z))\n    for(let i = 0, uniqueAxes = segments % 2 ? segments/2 : segments; i < uniqueAxes; i++){\n        let theta = segmentAngle * (i + 0.5)\n        axes.push(vec3(Math.cos(theta), Math.sin(theta), 0))\n    }    \n    return ConvexPolyhedron(vertices, faces, axes)\n}\n\nexport {Cylinder}\n","import {vec3} from '../math/vec3'\n\nconst Sphere = (radius = 1) => {\n    const shape = Object.create(Sphere.prototype)\n    shape.radius = Math.max(0, radius)\n    return shape\n}\n\nSphere.prototype = {\n    get boundingSphereRadius(){ return this.radius },\n    get volume(){ return Math.PI * this.radius * 4.0 / 3.0 },\n    calculateLocalInertia: function(mass, out = vec3()){\n        const inertia = mass * this.radius * this.radius * 2.0 / 5.0\n        out[0] = inertia\n        out[1] = inertia\n        out[2] = inertia\n        return out\n    },\n    calculateWorldAABB: function(position, rotation, min, max){\n        const radius = this.radius\n        min[0] = position[0] - radius\n        max[0] = position[0] + radius\n        min[1] = position[1] - radius\n        max[1] = position[1] + radius\n        min[2] = position[2] - radius\n        max[2] = position[2] + radius\n    }\n}\n\nexport {Sphere}","import {vec3} from '../math/vec3'\n\nconst Plane = () => { //TODO plane should have width/height \n    const shape = Object.create(Plane.prototype)\n    shape.worldNormal = vec3.copy(vec3.AXIS_Z)\n    return shape\n}\n\nPlane.prototype = {\n    get boundingSphereRadius(){ return Number.MAX_VALUE },\n    get volume(){ return Number.MAX_VALUE },\n    calculateLocalInertia: function(mass, out = vec3()){ return out },\n    calculateWorldAABB: function(position, rotation, min, max){\n        const normal = vec3.temp\n        vec3.transformQuat(this.worldNormal, rotation, normal)\n        vec3.copy(vec3.MIN, min)\n        vec3.copy(vec3.MAX, max)\n        \n        if(normal[0] == 1) max[0] = position[0]\n        if(normal[1] == 1) max[1] = position[1]\n        if(normal[2] == 1) max[2] = position[2]\n        if(normal[0] == -1) min[0] = position[0]\n        if(normal[1] == -1) min[1] = position[1]\n        if(normal[2] == -1) min[2] = position[2]\n    }\n}\n\nexport {Plane}","import {vec3} from '../math/vec3'\nimport {ConvexPolyhedron} from './convex'\n\nconst Box = halfExtents => {\n    const sx = halfExtents[0],\n          sy = halfExtents[1],\n          sz = halfExtents[2]\n    const shape = Object.setPrototypeOf(ConvexPolyhedron([\n        vec3(-sx,-sy,-sz),\n        vec3( sx,-sy,-sz),\n        vec3( sx, sy,-sz),\n        vec3(-sx, sy,-sz),\n        vec3(-sx,-sy, sz),\n        vec3( sx,-sy, sz),\n        vec3( sx, sy, sz),\n        vec3(-sx, sy, sz)\n    ],[[3,2,1,0], [4,5,6,7],\n       [5,4,0,1], [2,3,7,6],\n       [0,4,7,3], [1,2,6,5]\n      ],[vec3.copy(vec3.AXIS_Z),\n         vec3.copy(vec3.AXIS_Y),\n         vec3.copy(vec3.AXIS_X)]\n    ), Box.prototype)\n    shape.halfExtents = halfExtents\n    shape.boundingSphereRadius = vec3.distance(halfExtents) //TODO recalc on size change?\n    return shape\n}\n\nBox.prototype = Object.setPrototypeOf({\n    get volume(){ return 8.0 * this.halfExtents[0] * this.halfExtents[1] * this.halfExtents[2] },\n    calculateLocalInertia: function(mass, out = vec3()){\n        const halfSide = this.halfExtents,\n              sx = halfSide[0] * halfSide[0],\n              sy = halfSide[1] * halfSide[1],\n              sz = halfSide[2] * halfSide[2],\n              sm = mass * 1.0 / 3.0\n        out[0] = sm * (sy + sz)\n        out[1] = sm * (sx + sz)\n        out[2] = sm * (sx + sy)\n        return out\n    },\n    calculateWorldAABB: function(position, rotation, min, max){\n        const halfSide = this.halfExtents,\n              temp = vec3.temp\n        vec3.copy(vec3.MAX, min)\n        vec3.copy(vec3.MIN, max)\n        \n        for(let i = 0; i < 8; i++){\n            vec3.set(i & 0x01 ? halfSide[0] : -halfSide[0],\n                     i & 0x02 ? halfSide[1] : -halfSide[1],\n                     i & 0x04 ? halfSide[2] : -halfSide[2], temp)\n            vec3.transformQuat(temp, rotation, temp)\n            vec3.add(temp, position, temp)\n            vec3.min(min, temp, min)\n            vec3.max(max, temp, max)\n        }\n    }\n}, ConvexPolyhedron.prototype)\n\nexport {Box}","export * from './cylinder'\n\nimport {Sphere} from './sphere'\nimport {Plane} from './plane'\nimport {ConvexPolyhedron} from './convex'\nimport {Box} from './box'\n\nconst SHAPE_TYPE = {\n    SPHERE: 1,\n    PLANE: 2,\n    CONVEX: 16,\n    BOX: 4\n}\n\nSphere.prototype.type = SHAPE_TYPE.SPHERE\nPlane.prototype.type = SHAPE_TYPE.PLANE\nConvexPolyhedron.prototype.type = SHAPE_TYPE.CONVEX\nBox.prototype.type = SHAPE_TYPE.BOX\n\nexport {Sphere, Plane, ConvexPolyhedron, Box, SHAPE_TYPE}","import {CollisionDetector} from './collisionDetector'\n\nimport {sphereSphere} from './sphereSphere'\nimport {sphereBox} from './sphereBox'\nimport {boxBox} from './boxBox'\nimport {sphereConvex} from './sphereConvex'\nimport {convexConvex} from './convexConvex'\nimport {spherePlane} from './spherePlane'\nimport {planeConvex} from './planeConvex'\n\nimport {SHAPE_TYPE} from '../shape'\n\nconst detectors = Object.create(null)\n\ndetectors[SHAPE_TYPE.SPHERE] = sphereSphere\ndetectors[SHAPE_TYPE.BOX] = boxBox\ndetectors[SHAPE_TYPE.CONVEX] = convexConvex\n\ndetectors[SHAPE_TYPE.BOX | SHAPE_TYPE.CONVEX] = convexConvex\ndetectors[SHAPE_TYPE.SPHERE | SHAPE_TYPE.CONVEX] = sphereConvex\ndetectors[SHAPE_TYPE.SPHERE | SHAPE_TYPE.BOX] = sphereBox\n\ndetectors[SHAPE_TYPE.SPHERE | SHAPE_TYPE.PLANE] = spherePlane\ndetectors[SHAPE_TYPE.PLANE | SHAPE_TYPE.BOX] = planeConvex\ndetectors[SHAPE_TYPE.PLANE | SHAPE_TYPE.CONVEX] = planeConvex\n\nconst collisionDetector = CollisionDetector(detectors)\n\nexport {collisionDetector}","import {tie, factory} from '../../util'\nimport {EventEmitter} from '../../events'\nimport {vec3, quat} from '../math'\n\nfactory.declare('physics', (target, options) => {\n    \n    const simulationEvent = {\n        deltaTime: 0.0,\n        time: 0.0,\n        frame: 0\n    }\n    \n    let time = 0.0,\n        timeRemaining = 0.0\n    \n    return tie({\n        update: (elapsedTime, minDeltaTime, maxSubSteps = 10) => {\n            if(!minDeltaTime){\n                target.step(elapsedTime)\n                return time += elapsedTime\n            }\n            \n            timeRemaining += elapsedTime\n            let substeps = 0\n            while(timeRemaining >= minDeltaTime && substeps < maxSubSteps){\n                timeRemaining -= minDeltaTime\n                target.step(minDeltaTime)\n                time += minDeltaTime\n                substeps++\n            }\n            let f = (timeRemaining % minDeltaTime) / minDeltaTime\n            for(let i = target.bodies.length - 1; i >= 0; i--){\n                let body = target.bodies[i]\n                vec3.lerp(body.previousPosition, body.position, f, body.interpolatedPosition)\n                quat.slerp(body.previousQuaternion, body.quaternion, f, body.interpolatedQuaternion)\n                quat.normalize(body.interpolatedQuaternion, body.interpolatedQuaternion)\n            }\n            return time\n        },\n        get frame(){ return simulationEvent.frame },\n        step: deltaTime => {\n            simulationEvent.frame++\n            simulationEvent.time = time\n            simulationEvent.deltaTime = deltaTime\n            target.simulate(simulationEvent)\n        }\n    }, EventEmitter())\n})","const TupleDictionary = _ => { //TODO move into utils?\n    const dataMap = Object.create(null)\n    return {\n        get: (i, j) => i > j ? dataMap[j+'-'+i] : dataMap[i+'-'+j],\n        set: (i, j, value) => dataMap[i > j ? j+'-'+i : i+'-'+j] = value,\n        clear: _ => Object.keys(dataMap).forEach(key => delete dataMap[key])\n    }\n}\n\nconst materialLibrary = (_ => {\n    const materials = [],\n          contactMaterials = [], //TODO removing and id update\n          contactMaterialMap = TupleDictionary()\n    \n    return {\n        get defaultContactMaterial(){ return contactMaterials[0] },\n        createMaterial: options => {\n            const material = Object.assign({\n                id: materials.length,\n                name: ''\n            }, options || {})\n            materials.push(material)\n            return material\n        },\n        createContactMaterial: (materialA, materialB = materialA, options) => {\n            const contactMaterial = Object.assign({\n                id: contactMaterials.length,\n                materials: [materialA, materialB],\n                friction: 0.3,\n                restitution: 0.3,\n                contactEquationStiffness: 1e7,\n                contactEquationRelaxation: 3,\n                frictionEquationStiffness: 1e7,\n                frictionEquationRelaxation: 3,\n                collisionResponse: true\n            }, options || {})\n            contactMaterials.push(contactMaterial)\n            contactMaterialMap.set(materialA.id, materialB.id, contactMaterial)\n            return contactMaterial\n        },\n        getContactMaterial: (materialA, materialB) => materialA && materialB && \n        contactMaterialMap.get(materialA.id, materialB.id) || contactMaterials[0]\n    }\n})()\n\nmaterialLibrary.createContactMaterial(materialLibrary.createMaterial({name:'default'}), undefined, {friction: 0.3, restitution: 0.0})\n\nexport {materialLibrary}","const composeKey16 = (i, j) => {\n    i |= 0\n    j |= 0\n    return i > j ?\n        (i << 16) | (j & 0xFFFF) :\n        (j << 16) | (i & 0xFFFF)\n}\n\nconst composeTriangularKey = (i, j) => {\n    i |= 0\n    j |= 0\n    return i > j ?\n        (i * (i + 1) >> 1) + j-1 :\n        (j * (j + 1) >> 1) + i-1\n}\n\nconst OverlapMatrix = (composeKey = composeTriangularKey, frameThreshold = 1) => {\n    const matrix = [],\n          overlaps = [],\n          additions = [],\n          removals = []\n    \n    return {\n        allocate: count => matrix.length = composeKey(count, count - 1),\n        get: (i, j) => matrix[composeKey(i, j)],\n        set: (i, j, frame) => {\n            const key = composeKey(i, j),\n                  prevFrame = matrix[key]\n            matrix[key] = frame\n            if(prevFrame === undefined || frame - prevFrame > frameThreshold){\n                //additions.push(i, j) //TODO additions and removal query\n                return true\n            }else{\n                return false\n            }\n        },\n        clear: _ => {\n            additions.length = 0\n            removals.length = 0\n            matrix.length = 0\n        },\n        get additions(){\n            return additions\n        }\n    }\n}\n\nexport {OverlapMatrix}","import {tie, factory} from '../../util'\nimport {OverlapMatrix} from './overlapMatrix'\n\nfactory.declare('physics', (target, options) => {\n    const bodies = [],\n          constraints = [],\n          overlapMatrix = OverlapMatrix()\n    \n    return {\n        overlapMatrix,\n        bodies, constraints,\n        addConstraint: constraint => constraints.push(constraint),\n        removeConstraint: constraint => {\n            let idx = constraints.indexOf(constraint)\n            if(idx == -1) return false\n            constraints.splice(idx, 1)\n            constraint.detach()\n        },\n        addBody: body => {\n            if(!isNaN(body.index)) return false\n            body.index = bodies.length\n            bodies.push(body)\n            \n            target.dispatchEvent('bodyAdded', body)\n            return body\n        },\n        removeBody: body => {\n            delete body.index\n            \n            let idx = bodies.indexOf(body)\n            if(idx === -1) return false\n            bodies.splice(idx, 1)\n            for(let i = bodies.length - 1; i >= idx; i--)\n                bodies[i].index = i //TODO overlap matrix is outdated here...\n                \n            target.dispatchEvent('bodyRemoved', body)\n        }\n    }\n})","import {vec3} from '../math/vec3'\nimport {quat} from '../math/quat'\nimport {Pool} from '../../util'\n\nconst ContactManifold = _ => ({\n    contactNormal: vec3(),\n    contactPointA: vec3(),\n    contactPointB: vec3()\n})\n\nconst ManifoldContext = _ => {\n    const contactPool = Pool(ContactManifold),\n          context = Object.create(null)\n    \n    return Object.assign(context, {\n        flip: false,\n        material: null,\n        bodyA: null,\n        bodyB: null,\n        shapeA: null,\n        shapeB: null,\n        worldPositionA: vec3(),\n        worldPositionB: vec3(),\n        worldRotationA: quat(),\n        worldRotationB: quat(),\n        contactPoints: [],\n        contactNormal: vec3(),\n        contactPointA: vec3(),\n        contactPointB: vec3(),\n        clear: _ => {\n            if(context.contactPoints.length == 0) return false\n            contactPool.release.apply(contactPool, context.contactPoints)\n            context.contactPoints.length = 0\n        },\n        registerContact: _ => {\n            const contact = contactPool.obtain()\n            if(context.flip){\n                vec3.negate(context.contactNormal, contact.contactNormal)\n                vec3.subtract(context.contactPointB, context.bodyA.position, contact.contactPointA)  \n                vec3.subtract(context.contactPointA, context.bodyB.position, contact.contactPointB)\n            }else{\n                vec3.copy(context.contactNormal, contact.contactNormal)\n                vec3.subtract(context.contactPointA, context.bodyA.position, contact.contactPointA)  \n                vec3.subtract(context.contactPointB, context.bodyB.position, contact.contactPointB)\n            }            \n            context.contactPoints.push(contact)\n            return contact\n        }\n    })\n}\n\nexport {ContactManifold, ManifoldContext}","import {vec3} from '../math/vec3'\nimport {mat3} from '../math/mat3'\n\nconst Jacobian = _ => ({ spatial: vec3(), angular: vec3() })\nJacobian.multiply = (a, b) => vec3.dot(a.spatial, b.spatial) + vec3.dot(a.angular, b.angular)\n\n//SPOOK: A System for Probabilistic Object-Oriented Knowledge representation\nconst Equation = _ => Object.setPrototypeOf({\n    id: Equation.prototype.globalCounter++,\n    minForce: -1e6,\n    maxForce: 1e6,\n    bodyA: null,\n    bodyB: null,\n    a: 0.0,\n    b: 0.0,\n    eps: 0.0,\n    jacobianElementA: Jacobian(),\n    jacobianElementB: Jacobian()\n}, Equation.prototype).setSpookParams(1e7, 4, 1/60)\n\n\nEquation.prototype = {\n    globalCounter: 0,\n    setSpookParams: function(stiffness, relaxation, timeStep){\n        this.a = 4.0 / (timeStep * (1 + 4 * relaxation))\n        this.b = (4.0 * relaxation) / (1 + 4 * relaxation)\n        this.eps = 4.0 / (timeStep * timeStep * stiffness * (1 + 4 * relaxation))\n        return this\n    },\n    computeRightHandSide: function(deltaTime){\n        const GW = this.computeBodyVelocities(),\n              Gq = this.computeBodyCoordinates(),\n              GiMf = this.computeGiMf()\n        return - Gq * this.a - GW * this.b - GiMf * deltaTime\n    },\n    computeBodyCoordinates: function(){\n        return vec3.dot(this.jacobianElementA.spatial, this.bodyA.position) + vec3.dot(this.jacobianElementB.spatial, this.bodyB.position)\n    },\n    computeBodyVelocities: function(){\n        const bodyA = this.bodyA,\n              bodyB = this.bodyB,\n              jacobianA = this.jacobianElementA,\n              jacobianB = this.jacobianElementB\n        return vec3.dot(jacobianA.spatial, bodyA.velocity) + vec3.dot(jacobianA.angular, bodyA.angularVelocity) + \n            vec3.dot(jacobianB.spatial, bodyB.velocity) + vec3.dot(jacobianB.angular, bodyB.angularVelocity)\n    },\n    computeGWlambda: function(){\n        const bodyA = this.bodyA,\n              bodyB = this.bodyB,\n              jacobianA = this.jacobianElementA,\n              jacobianB = this.jacobianElementB\n        return vec3.dot(jacobianA.spatial, bodyA.vlambda) + vec3.dot(jacobianA.angular, bodyA.wlambda) + \n            vec3.dot(jacobianB.spatial, bodyB.vlambda) + vec3.dot(jacobianB.angular, bodyB.wlambda)\n    },\n    computeDenominator: function(){\n        return this.computeGiMGt() + this.eps\n    },\n    computeGiMf: function(){\n        const bodyA = this.bodyA,\n              bodyB = this.bodyB,\n              jacobianA = this.jacobianElementA,\n              jacobianB = this.jacobianElementB,\n              temp = vec3.temp\n        let out = 0\n        if(bodyA.dynamic){\n            out += vec3.dot(jacobianA.spatial, vec3.scale(bodyA.force, bodyA.invMass, temp))\n            out += vec3.dot(jacobianA.angular, vec3.transformMat3(bodyA.torque, bodyA.invInertiaWorld, temp))\n        }\n        if(bodyB.dynamic){\n            out += vec3.dot(jacobianB.spatial, vec3.scale(bodyB.force, bodyB.invMass, temp))\n            out += vec3.dot(jacobianB.angular, vec3.transformMat3(bodyB.torque, bodyB.invInertiaWorld, temp))\n        }\n        return out\n    },\n    computeGiMGt: function(){\n        const bodyA = this.bodyA,\n              bodyB = this.bodyB,\n              jacobianA = this.jacobianElementA,\n              jacobianB = this.jacobianElementB,\n              temp = vec3.temp\n        let out = 0\n        if(bodyA.dynamic){\n            out += bodyA.invMass\n            out += vec3.dot(jacobianA.angular, vec3.transformMat3(jacobianA.angular, bodyA.invInertiaWorld, temp))\n        }\n        if(bodyB.dynamic){\n            out += bodyB.invMass\n            out += vec3.dot(jacobianB.angular, vec3.transformMat3(jacobianB.angular, bodyB.invInertiaWorld, temp))\n        }\n        return out\n    },\n    addToWlambda: function(deltalambda){\n        const bodyA = this.bodyA,\n              bodyB = this.bodyB,\n              jacobianA = this.jacobianElementA,\n              jacobianB = this.jacobianElementB,\n              temp = vec3.temp\n        if(bodyA.dynamic){\n            vec3.scale(jacobianA.spatial, bodyA.invMass * deltalambda, temp)\n            vec3.add(bodyA.vlambda, temp, bodyA.vlambda)\n        \n            vec3.transformMat3(jacobianA.angular, bodyA.invInertiaWorld, temp)\n            vec3.scale(temp, deltalambda, temp)\n            vec3.add(bodyA.wlambda, temp, bodyA.wlambda)\n        }\n        if(bodyB.dynamic){\n            vec3.scale(jacobianB.spatial, bodyB.invMass * deltalambda, temp)\n            vec3.add(bodyB.vlambda, temp, bodyB.vlambda)\n        \n            vec3.transformMat3(jacobianB.angular, bodyB.invInertiaWorld, temp)\n            vec3.scale(temp, deltalambda, temp)\n            vec3.add(bodyB.wlambda, temp, bodyB.wlambda)\n        }\n    }\n}\n\nexport {Equation}","import {Equation} from './equation'\nimport {vec3} from '../math/vec3'\n\nconst ContactEquation = _ => Object.setPrototypeOf(Object.assign(Equation(), {\n    contactNormal: vec3(),\n    contactPointA: vec3(),\n    contactPointB: vec3(),\n    minForce: 0,\n    maxForce: 1e6,\n    restitution: 0.0\n}), ContactEquation.prototype)\n\nContactEquation.prototype = Object.setPrototypeOf({\n    computeRightHandSide: function(deltaTime){\n        const bodyA = this.bodyA,\n              bodyB = this.bodyB,\n              contactPointA = this.contactPointA,\n              contactPointB = this.contactPointB,\n              contactNormal = this.contactNormal,\n              spatialA = this.jacobianElementA.spatial,\n              spatialB = this.jacobianElementB.spatial,\n              angularA = this.jacobianElementA.angular,\n              angularB = this.jacobianElementB.angular,\n              positionA = bodyA.position,\n              positionB = bodyB.position\n\n        vec3.negate(contactNormal, spatialA)\n        vec3.copy(contactNormal, spatialB)\n        vec3.cross(contactPointA, spatialA, angularA)\n        vec3.cross(contactPointB, spatialB, angularB)\n\n        const peneterationX = positionB[0] + contactPointB[0] - positionA[0] - contactPointA[0],\n              peneterationY = positionB[1] + contactPointB[1] - positionA[1] - contactPointA[1],\n              peneterationZ = positionB[2] + contactPointB[2] - positionA[2] - contactPointA[2],\n              g = contactNormal[0] * peneterationX + contactNormal[1] * peneterationY + contactNormal[2] * peneterationZ,\n              e1 = this.restitution + 1,\n              GW = e1 * vec3.dot(bodyB.velocity, spatialB) \n                 + e1 * vec3.dot(bodyA.velocity, spatialA) \n                 + vec3.dot(bodyB.angularVelocity, angularB) \n                 + vec3.dot(bodyA.angularVelocity, angularA),\n              GiMf = this.computeGiMf()\n        return - g * this.a - GW * this.b - deltaTime * GiMf\n    }\n}, Equation.prototype)\n\nexport {ContactEquation}","import {Equation} from './equation'\nimport {vec3} from '../math/vec3'\n\nconst FrictionEquation = _ => Object.setPrototypeOf(Object.assign(Equation(), {\n    contactTangent: vec3(),\n    contactPointA: vec3(),\n    contactPointB: vec3()\n}), FrictionEquation.prototype)\n\nFrictionEquation.prototype = Object.setPrototypeOf({\n    computeRightHandSide: function(deltaTime){\n        const bodyA = this.bodyA,\n              bodyB = this.bodyB,\n              contactPointA = this.contactPointA,\n              contactPointB = this.contactPointB,\n              contactTangent = this.contactTangent,\n              spatialA = this.jacobianElementA.spatial,\n              spatialB = this.jacobianElementB.spatial,\n              angularA = this.jacobianElementA.angular,\n              angularB = this.jacobianElementB.angular\n        vec3.copy(contactTangent, spatialB)\n        vec3.negate(contactTangent, spatialA)\n        vec3.cross(contactPointB, spatialB, angularB)\n        vec3.cross(contactPointA, spatialA, angularA)\n        const GW = this.computeBodyVelocities(),\n              GiMf = this.computeGiMf()\n        return - GW * this.b - deltaTime * GiMf\n    }\n}, Equation.prototype)\n\nexport {FrictionEquation}\n","import {vec3} from '../math/vec3'\nimport {quat} from '../math/quat'\nimport {Pool} from '../../util'\nimport {ContactManifold, ManifoldContext} from './manifold'\nimport {ContactEquation} from '../equation/contactEquation'\nimport {FrictionEquation} from '../equation/frictionEquation'\n\n//TODO move into separate file?\nconst frictionEquationGenerator = (frictionEquationPool, frictionEquations) => \n(bodyA, bodyB, shapeA, shapeB, material, contactPoint, deltaTime, gravity) => {\n    let friction = material.friction\n    if(friction <= 0) return false\n    \n    let g = friction * vec3.distance(gravity) //TODO precalc?\n    let reducedMass = bodyA.invMass + bodyB.invMass\n    if(reducedMass > 0) reducedMass = 1.0 / reducedMass\n    let slipForce = g * reducedMass\n    \n    let equationA = frictionEquationPool.obtain()\n    let equationB = frictionEquationPool.obtain()\n    equationA.bodyA = equationB.bodyA = bodyA\n    equationA.bodyB = equationB.bodyB = bodyB\n    equationA.minForce = equationB.minForce = -slipForce\n    equationA.maxForce = equationB.maxForce = slipForce\n    \n    vec3.copy(contactPoint.contactPointA, equationA.contactPointA)\n    vec3.copy(contactPoint.contactPointA, equationB.contactPointA)\n    vec3.copy(contactPoint.contactPointB, equationA.contactPointB)\n    vec3.copy(contactPoint.contactPointB, equationB.contactPointB)\n    \n    vec3.extractTangents(contactPoint.contactNormal, equationA.contactTangent, equationB.contactTangent)\n    \n    equationA.setSpookParams(material.frictionEquationStiffness, material.frictionEquationRelaxation, deltaTime)\n    equationB.setSpookParams(material.frictionEquationStiffness, material.frictionEquationRelaxation, deltaTime)\n\n    frictionEquations.push(equationA, equationB)\n    return true\n}\n\nconst contactEquationGenerator = (contactEquationPool, contactEquations) => \n(bodyA, bodyB, shapeA, shapeB, material, contactPoint, deltaTime) => {\n    const equation = contactEquationPool.obtain()\n    equation.bodyA = bodyA\n    equation.bodyB = bodyB\n    equation.restitution = material.restitution\n    equation.setSpookParams(material.contactEquationStiffness, material.contactEquationRelaxation, deltaTime)\n    \n    vec3.copy(contactPoint.contactNormal, equation.contactNormal)\n    vec3.copy(contactPoint.contactPointA, equation.contactPointA)\n    vec3.copy(contactPoint.contactPointB, equation.contactPointB)\n    \n    contactEquations.push(equation)\n    return equation\n}\n\nconst Narrowphase = (collisionDetector, options) => {\n    options = Object.assign({\n        frictionReduction: false\n    }, options || {})\n    const manifoldContext = ManifoldContext(),\n          worldPositionA = manifoldContext.worldPositionA,\n          worldPositionB = manifoldContext.worldPositionB,\n          worldRotationA = manifoldContext.worldRotationA,\n          worldRotationB = manifoldContext.worldRotationB,\n          contactEquationPool = Pool(_ => ContactEquation()),\n          frictionEquationPool = Pool(_ => FrictionEquation()),\n          contactEquations = [],\n          frictionEquations = [],\n          generateContactEquation = contactEquationGenerator(contactEquationPool, contactEquations),\n          generateFrictionEquation = frictionEquationGenerator(frictionEquationPool, frictionEquations)\n    \n    return {\n        generateContactManifold: (bodyA, bodyB, material, contactRegistrator, {deltaTime, gravity}) => {\n            manifoldContext.bodyA = bodyA\n            manifoldContext.bodyB = bodyB\n            manifoldContext.material = material\n            \n            for(let shapesA = bodyA.shapes, a = shapesA.length - 1; a >= 0; a--){\n                quat.multiply(bodyA.quaternion, bodyA.shapeOrientations[a], worldRotationA)\n                vec3.transformQuat(bodyA.shapeOffsets[a], bodyA.quaternion, worldPositionA)\n                vec3.add(bodyA.position, worldPositionA, worldPositionA)\n                let shapeA = manifoldContext.shapeA = shapesA[a]\n                \n            for(let shapesB = bodyB.shapes, b = shapesB.length - 1; b >= 0; b--){\n                quat.multiply(bodyB.quaternion, bodyB.shapeOrientations[b], worldRotationB)\n                vec3.transformQuat(bodyB.shapeOffsets[b], bodyB.quaternion, worldPositionB)\n                vec3.add(bodyB.position, worldPositionB, worldPositionB)\n                let shapeB = manifoldContext.shapeB = shapesB[b]\n                \n                if(vec3.differenceSquared(worldPositionA, worldPositionB) > Math.pow(shapeA.boundingSphereRadius + shapeB.boundingSphereRadius, 2))\n                    continue\n                    \n                if(material.collisionResponse){\n                    collisionDetector.test(manifoldContext, shapeA, shapeB, worldPositionA, worldPositionB, worldRotationA, worldRotationB, false)\n                    //TODO move handling outside?\n                    for(let i = manifoldContext.contactPoints.length - 1; i >= 0 ; i--){\n                        const equation = generateContactEquation(bodyA, bodyB, shapeA, shapeB, material, manifoldContext.contactPoints[i], deltaTime)\n                        if(!options.frictionReduction)\n                            generateFrictionEquation(bodyA, bodyB, shapeA, shapeB, material, manifoldContext.contactPoints[i], deltaTime, gravity)\n                        }\n                    //TODO is that the place? have it separately?\n                    if(options.frictionReduction && manifoldContext.contactPoints.length){\n                        let averageContactPoint = manifoldContext.contactPoints[0]\n                        let invCount = 1.0 / manifoldContext.contactPoints.length\n                        for(let i = manifoldContext.contactPoints.length - 1; i > 0 ; i--){\n                            vec3.add(averageContactPoint.contactNormal,  manifoldContext.contactPoints[i].contactNormal)\n                            vec3.add(averageContactPoint.contactPointA,  manifoldContext.contactPoints[i].contactPointA)\n                            vec3.add(averageContactPoint.contactPointB,  manifoldContext.contactPoints[i].contactPointB)\n                        }\n                        vec3.normalize(averageContactPoint.contactNormal, averageContactPoint.contactNormal)\n                        vec3.scale(averageContactPoint.contactPointA, invCount, averageContactPoint.contactPointA)\n                        vec3.scale(averageContactPoint.contactPointB, invCount, averageContactPoint.contactPointB)\n                        generateFrictionEquation(bodyA, bodyB, shapeA, shapeB, material, averageContactPoint, deltaTime, gravity)\n                    }\n                    if(manifoldContext.contactPoints.length)\n                        contactRegistrator(bodyA, bodyB, shapeA, shapeB, manifoldContext)\n                        \n                }else if(collisionDetector.test(manifoldContext, shapeA, shapeB, worldPositionA, worldPositionB, worldRotationA, worldRotationB, true))\n                    contactRegistrator(bodyA, bodyB, shapeA, shapeB)\n                manifoldContext.clear()\n            }\n            }\n        },\n        get contactEquations(){ return contactEquations },\n        get frictionEquations(){ return frictionEquations },\n        clear: _ => {\n            contactEquationPool.release.apply(contactEquationPool, contactEquations)\n            frictionEquationPool.release.apply(frictionEquationPool, frictionEquations)\n            contactEquations.length = 0\n            frictionEquations.length = 0\n        }\n    }\n}\n\nexport {Narrowphase}","export * from './narrowphase'\n\nimport {collisionDetector} from '../collision'\nimport {Narrowphase} from './narrowphase'\n\nconst DefaultNarrowphase = _ => Narrowphase(collisionDetector)\n\nexport {DefaultNarrowphase}","import {vec3} from '../math/vec3'\n\nconst GaussSeidelSolver = options => {\n    options = Object.assign({\n        iterations: 10,\n        tolerance: 1e-7\n    }, options || {})\n    \n    const invDenominators = [],\n          rightHandSideValues = [],\n          lambdas = []\n    \n    return {\n        get tolerance(){ return options.tolerance },\n        get iterations(){ return options.iterations },\n        set tolerance(value){ options.tolerance = value },\n        set iterations(value){ options.iterations = value },\n        solve: (equations, bodies, deltaTime) => {\n            const toleranceSquared = options.tolerance * options.tolerance,\n                  maxIterations = options.iterations,\n                  equationCount = invDenominators.length = rightHandSideValues.length = lambdas.length = equations.length\n            let iteration = 0\n            \n            if(equationCount == 0) return 0\n            \n            for(let i = bodies.length - 1; i >= 0; i--){\n                vec3.copy(vec3.ZERO, bodies[i].vlambda)\n                vec3.copy(vec3.ZERO, bodies[i].wlambda)\n            }\n                \n            for(let i = 0; i < equationCount; i++){\n                let equation = equations[i]\n                lambdas[i] = 0.0\n                rightHandSideValues[i] = equation.computeRightHandSide(deltaTime)\n                invDenominators[i] = 1.0 / equation.computeDenominator()\n            }\n            \n            for(iteration = 0; iteration < maxIterations; iteration++){\n                let totalError = 0.0\n                for(let i = 0; i < equationCount; i++){\n                    let equation = equations[i],\n                        rhs = rightHandSideValues[i],\n                        invDenominator = invDenominators[i],\n                        lambda = lambdas[i],\n                        GWlambda = equation.computeGWlambda(),\n                        deltalambda = invDenominator * (rhs - GWlambda - equation.eps * lambda)\n                    \n                    deltalambda = Math.clamp(deltalambda, equation.minForce - lambda, equation.maxForce - lambda)\n                    lambdas[i] += deltalambda\n                    totalError += Math.abs(deltalambda)\n                    equation.addToWlambda(deltalambda)\n                }\n                if(totalError * totalError < toleranceSquared) break\n            }\n            \n            for(let i = bodies.length - 1; i >= 0; i--){\n                let body = bodies[i]\n                vec3.multiply(body.vlambda, body.linearFactor, body.vlambda)\n                vec3.add(body.velocity, body.vlambda, body.velocity)\n                \n                vec3.multiply(body.wlambda, body.angularFactor, body.wlambda)\n                vec3.add(body.angularVelocity, body.wlambda, body.angularVelocity)\n            }\n            return iteration\n        }\n    }\n}\n\nexport {GaussSeidelSolver}","import {Pool} from '../../util'\n\nconst breadthFirstSearch = (queue => (root, visitFunction) => {\n    if(!visitFunction(root)) return false\n    queue.push(root)\n    while(queue.length){\n        let node = queue.pop()\n        for(let i = node.children.length - 1; i >= 0; i--)\n            if(visitFunction(node.children[i]))\n                queue.push(node.children[i])\n    }\n    return true\n})([])\n\nconst SolverNode = _ => ({ body: null, children: [], equations: [], visited: false })\n\nconst IslandSplitSolver = (subsolver, options) => {\n    options = Object.assign({\n        iterations: 10,\n        tolerance: 1e-7,\n        nodePoolLength: 128/4\n    }, options || {})\n    \n    const nodePool = Pool(_ => SolverNode()),\n          nodes = [],\n          islandBodies = [],\n          islandEquations = [],\n          bodyIdMap = [],\n          visitFunction = node => {\n              if(node.visited || !node.body.dynamic) return false\n              node.visited = true\n              islandBodies.push(node.body)\n              for(let i = node.equations.length - 1; i >= 0; i--){\n                  let equation = node.equations[i]\n                  if(islandEquations.indexOf(equation) !== -1) continue\n                  islandEquations.push(equation)\n              }\n              return true\n          }\n    \n    nodePool.allocate(options.nodePoolLength)\n    \n    return {\n        get tolerance(){ return options.tolerance },\n        get iterations(){ return options.iterations },\n        set tolerance(value){ options.tolerance = value },\n        set iterations(value){ options.iterations = value },\n        solve: (equations, bodies, deltaTime) => {\n            const bodyCount = bodies.length,\n                  equationCount = equations.length\n            //bodyIdMap.length = bodyCount //TODO allow to resize?\n            for(let i = 0; i < bodyCount; i++){\n                let node = nodes[i] || (nodes[i] = nodePool.obtain())\n                node.body = bodies[i]\n                bodyIdMap[node.body.index] = i\n                node.children.length = 0\n                node.equations.length = 0\n                node.visited = false\n            }\n            for(let i = 0; i < equationCount; i++){\n                let equation = equations[i],\n                    idxA = bodyIdMap[equation.bodyA.index],\n                    idxB =  bodyIdMap[equation.bodyB.index],\n                    nodeA = nodes[idxA],\n                    nodeB = nodes[idxB]\n                nodeA.children.push(nodeB)\n                nodeB.children.push(nodeA)\n                nodeA.equations.push(equation)\n                nodeB.equations.push(equation)\n            }\n            subsolver.tolerance = options.tolerance\n            subsolver.iterations = options.iterations\n            \n            let iteration = 0\n            for(let i = 0; i < bodyCount; i++){\n                let child = nodes[i]\n                \n                if(!breadthFirstSearch(child, visitFunction, SolverNode.visitNode)) continue\n\n                //TODO why do we need to sort?\n                subsolver.solve(islandEquations.sort((a, b) => b.id - a.id), islandBodies, deltaTime)\n                islandEquations.length = 0\n                islandBodies.length = 0\n                \n                iteration++\n            }\n            return iteration\n        }\n    }\n}\n\nexport {IslandSplitSolver}","export * from './gaussSeidel'\nexport * from './islandSplit'\n\nimport {GaussSeidelSolver} from './gaussSeidel'\n\nconst DefaultSolver = _ => GaussSeidelSolver()\n\nexport {DefaultSolver}","import {tie, factory} from '../../util'\nimport {materialLibrary} from './materialLibrary'\nimport {DefaultBroadphase} from '../broadphase'\nimport {DefaultNarrowphase} from '../narrowphase'\nimport {DefaultSolver} from '../solver'\n\nfactory.declare('physics', (target, options) => {\n    const broadphase = options.broadphase || DefaultBroadphase(),\n          narrowphase = options.narrowphase || DefaultNarrowphase(),\n          solver = options.solver || DefaultSolver(),\n          equations = []\n    let frame = 0\n\n    target.addEventListener('bodyAdded', broadphase.add.bind(broadphase)) //TODO detaching\n    target.addEventListener('bodyRemoved', broadphase.remove.bind(broadphase))\n    \n    const collisionEvent = {\n        bodyA: null,\n        bodyB: null,\n        shapeA: null,\n        shapeB: null,\n        contactManifold: null\n    }\n    \n    //TODO remove\n    let pairs1 = [],\n        pairs2 = []\n    const collisionPairs = { //TODO have direct in out\n        clear: _ => {\n            pairs1.length = 0\n            pairs2.length = 0\n        },\n        add: (a, b) => {\n            pairs1.push(a)\n            pairs2.push(b)\n        }\n    }\n    \n    return {\n        get narrowphase(){ return narrowphase },\n        get solver(){ return solver },\n        get broadphase(){ return broadphase },\n        contactRegistrator: (bodyA, bodyB, shapeA, shapeB, contactManifold) => {\n            collisionEvent.bodyA = bodyA\n            collisionEvent.bodyB = bodyB\n            collisionEvent.shapeA = shapeA\n            collisionEvent.shapeB = shapeB\n            collisionEvent.contactManifold = contactManifold\n            target.dispatchEvent('collision', collisionEvent)\n            \n            if(target.overlapMatrix.set(bodyA.index, bodyB.index, frame)){\n                bodyA.dispatchEvent('collision', collisionEvent)\n                bodyB.dispatchEvent('collision', collisionEvent)\n            }\n        },\n        simulate: event => {\n            frame = event.frame\n            target.dispatchEvent('preStep', event)\n            narrowphase.clear()\n            broadphase.queryCandidates(collisionPairs)\n\n            for(let i = pairs1.length - 1; i >= 0; i--){\n                let bodyA = pairs1[i],\n                    bodyB = pairs2[i],\n                    material = materialLibrary.getContactMaterial(bodyA.material, bodyB.material)\n                \n                narrowphase.generateContactManifold(bodyA, bodyB, material, target.contactRegistrator, \n                                                 {deltaTime: event.deltaTime, gravity: target.gravity}) //TODO cache object\n            }\n            collisionPairs.clear()\n            \n            let contactEquations = narrowphase.contactEquations\n            let frictionEquations = narrowphase.frictionEquations\n            \n            //TODO emit contact end events\n            //TODO refactor events and order\n            equations.length = 0\n            equations.push.apply(equations, frictionEquations)\n            equations.push.apply(equations, contactEquations)\n            \n            for(let i = target.constraints.length - 1; i >= 0; i--){\n                let constraint = target.constraints[i]\n                if(!constraint.enabled) continue\n                constraint.update()\n                equations.push.apply(equations, constraint.equations)\n            }\n            \n            target.dispatchEvent('preSolve', event)\n            solver.solve(equations, target.bodies, event.deltaTime)\n            \n            target.dispatchEvent('preIntegrate', event)\n            target.integrate(event)\n            target.dispatchEvent('postIntegrate', event)\n            \n            \n            target.dispatchEvent('postStep', event)\n        }\n    }\n})","import {tie, factory} from '../../util'\nimport {vec3, quat, aquireVec3Pool} from '../math'\n\nconst integrate = (body, deltaTime, quaternionNormalization) => {\n    if(!body.dynamic) return false\n    \n    const position = body.position,\n          quaternion = body.quaternion,\n          velocity = body.velocity,\n          angularVelocity = body.angularVelocity,\n          force = body.force,\n          torque = body.torque,\n          linearFactor = body.linearFactor,\n          angularFactor = body.angularFactor,\n          invInertia = body.invInertiaWorld,\n          invTimeMass = body.invMass * deltaTime\n    \n    vec3.copy(position, body.previousPosition)\n    vec3.copy(quaternion, body.previousQuaternion)\n    \n    velocity[0] += force[0] * linearFactor[0] * invTimeMass\n    velocity[1] += force[1] * linearFactor[1] * invTimeMass\n    velocity[2] += force[2] * linearFactor[2] * invTimeMass\n    \n    const rqx = torque[0] * angularFactor[0],\n          rqy = torque[1] * angularFactor[1],\n          rqz = torque[2] * angularFactor[2] //TODO use mat3 and vec3 functions?\n    angularVelocity[0] += deltaTime * (invInertia[0] * rqx + invInertia[1] * rqy + invInertia[2] * rqz)\n    angularVelocity[1] += deltaTime * (invInertia[3] * rqx + invInertia[4] * rqy + invInertia[5] * rqz)\n    angularVelocity[2] += deltaTime * (invInertia[6] * rqx + invInertia[7] * rqy + invInertia[8] * rqz)\n    \n    position[0] += velocity[0] * deltaTime\n    position[1] += velocity[1] * deltaTime\n    position[2] += velocity[2] * deltaTime\n    \n    const ax = angularVelocity[0] * angularFactor[0],\n          ay = angularVelocity[1] * angularFactor[1],\n          az = angularVelocity[2] * angularFactor[2],\n          halfDeltaTime = 0.5 * deltaTime,\n          qx = quaternion[0],\n          qy = quaternion[1],\n          qz = quaternion[2],\n          qw = quaternion[3]\n    quaternion[0] += halfDeltaTime * (ax * qw + ay * qz - az * qy)\n    quaternion[1] += halfDeltaTime * (ay * qw + az * qx - ax * qz)\n    quaternion[2] += halfDeltaTime * (az * qw + ax * qy - ay * qx)\n    quaternion[3] += halfDeltaTime * (- ax * qx - ay * qy - az * qz)\n\n    if(quaternionNormalization)\n        quaternionNormalization(quaternion, quaternion)\n        \n    body.worldAABB.dirty = true\n    if(body.invInertia[0] != body.invInertia[1] || body.invInertia[0] != body.invInertia[2]) //TODO compare with precision //Math.abs() < EPSILON\n        body.cachedInvInertiaWorld.dirty = true\n}\n\nfactory.declare('physics', (target, options) => {\n    options = Object.assign({\n        normalizationFrequency: 1,\n        normalizationFunction: quat.normalize\n    }, options || {})\n    const gravity = vec3.copy(options.gravity || vec3())\n    \n    target.addEventListener('preStep', event => { //TODO abstract gravity into one of 'world forces'\n        for(let i = target.bodies.length - 1; i >= 0; i--){\n            const body = target.bodies[i]\n            if(!body.dynamic) continue\n            const mass = body.mass,\n                force = body.force\n            force[0] += mass * gravity[0]\n            force[1] += mass * gravity[1]\n            force[2] += mass * gravity[2]\n        }\n    })\n    //TODO move to separate function - applyDamping(body)\n    target.addEventListener('preIntegrate', event => {\n        for(let i = target.bodies.length - 1; i >= 0; i--){\n            let body = target.bodies[i]\n            if(!body.dynamic) continue\n            let linearDamping = Math.pow(1.0 - body.linearDamping, event.deltaTime)\n            let velocity = body.velocity\n            vec3.scale(velocity, linearDamping, velocity)\n            let angularVelocity = body.angularVelocity\n            if(!angularVelocity) continue\n            let angularDamping = Math.pow(1.0 - body.angularDamping, event.deltaTime)\n            vec3.scale(angularVelocity, angularDamping, angularVelocity)\n        }    \n    })\n    \n    return {\n        gravity, //TODO have gravity as force with area of effect?\n        integrate: event => {\n            const quaternionNormalization = event.frame % (options.normalizationFrequency) ? null : options.normalizationFunction\n\n            for(let i = target.bodies.length - 1; i >= 0; i--){\n                let body = target.bodies[i]\n                integrate(body, event.deltaTime, quaternionNormalization)\n                vec3.copy(vec3.ZERO, body.force)\n                vec3.copy(vec3.ZERO, body.torque)\n            }\n        }\n    }\n})","import {tie, factory} from '../../util'\nimport {Ray, Raytracer, rayConvex, raySphere, rayPlane, rayBox} from '../math'\nimport {SHAPE_TYPE} from '../shape'\n\nfactory.declare('physics', (target, options) => {\n    return {\n        raycast: Raytracer(target, {\n            [SHAPE_TYPE.SPHERE]: raySphere,\n            [SHAPE_TYPE.CONVEX]: rayConvex,\n            [SHAPE_TYPE.PLANE]: rayPlane,\n            [SHAPE_TYPE.BOX]: rayBox\n        })\n    }\n})","import {EventEmitter} from '../../events'\nimport {vec3, quat, mat3, Transform, AABB} from '../math'\n\nconst RigidBody = options => {\n    const body = Object.assign(Object.create(RigidBody.prototype), {\n        mass: 0,\n        linearDamping: 1e-1,\n        angularDamping: 1e-1,\n        linearFactor: vec3(1, 1, 1),\n        angularFactor: vec3(1, 1, 1),\n        position: vec3(),\n        quaternion: quat(),\n        fixedRotation: false\n    }, options || {})\n    \n    body.vlambda = vec3()\n    body.wlambda = vec3()\n    \n    body.velocity = vec3()\n    body.angularVelocity = vec3()\n    body.force = vec3()\n    body.torque = vec3()\n    \n    body.invMass = body.mass ? 1.0 / body.mass : 0\n    \n    body.previousPosition = vec3.copy(body.position)\n    body.interpolatedPosition = vec3.copy(body.position)\n\n    body.previousQuaternion = quat.copy(body.quaternion)\n    body.interpolatedQuaternion = quat.copy(body.quaternion)\n    \n    body.shapes = []\n    body.shapeOffsets = []\n    body.shapeOrientations = []\n    \n    body.inertia = vec3()\n    body.cachedInvInertia = vec3()\n    body.cachedInvInertia.dirty = true\n    body.cachedInvInertiaWorld = mat3()\n    body.cachedInvInertiaWorld.dirty = true\n    \n    body.worldAABB = AABB()\n    body.worldAABB.dirty = true\n    \n    body.combinedBoundingRadius = 0\n    \n    body.joints = []\n    \n    return Object.assign(body, EventEmitter())\n}\n\nRigidBody.prototype = {\n    tempVec3: vec3(),\n    tempQuat: quat(),\n    tempAABB: AABB(),\n    get dynamic(){ return !!this.mass },\n    addShape: function(shape, offset = vec3(), orientation = quat()){\n        this.shapes.push(shape)\n        this.shapeOffsets.push(offset)\n        this.shapeOrientations.push(orientation)\n        \n        this.combinedBoundingRadius = 0\n        this.worldAABB.dirty = true\n        this.cachedInvInertiaWorld.dirty = true\n        return this\n    },\n    removeShape: function(shape){\n        let idx = this.shapes.indexOf(shape)\n        if(idx == -1) return false\n        this.shapes.splice(idx, 1)\n        this.shapeOffsets.splice(idx, 1)\n        this.shapeOrientations.splice(idx, 1)\n        \n        this.combinedBoundingRadius = 0\n        this.worldAABB.dirty = true\n        this.cachedInvInertiaWorld.dirty = true\n        return this\n    },\n    get boundingSphereRadius(){\n        if(this.combinedBoundingRadius) return this.combinedBoundingRadius\n        \n        for(let i = this.shapes.length - 1; i >= 0; i--){\n            let radius = vec3.distance(this.shapeOffsets[i]) + this.shapes[i].boundingSphereRadius\n            if(radius > this.combinedBoundingRadius)\n                this.combinedBoundingRadius = radius\n        }\n        return this.combinedBoundingRadius\n    },\n    get aabb(){\n        if(!this.worldAABB.dirty) return this.worldAABB\n        \n        const aabb = this.worldAABB,\n              worldPosition = this.tempVec3,\n              worldRotation = this.tempQuat,\n              shapeAABB = this.tempAABB\n        \n        vec3.copy(vec3.MAX, aabb.lowerBound)\n        vec3.copy(vec3.MIN, aabb.upperBound)\n        \n        for(let i = this.shapes.length - 1; i >= 0; i--){\n            let shape = this.shapes[i]\n            \n            vec3.transformQuat(this.shapeOffsets[i], this.quaternion, worldPosition)\n            vec3.add(worldPosition, this.position, worldPosition)\n            \n            quat.multiply(this.shapeOrientations[i], this.quaternion, worldRotation)\n            \n            shape.calculateWorldAABB(worldPosition, worldRotation, shapeAABB.lowerBound, shapeAABB.upperBound)\n            AABB.extend(shapeAABB, aabb, aabb)\n        }\n        \n        aabb.dirty = false\n        return aabb\n    },\n    get invInertia(){\n        if(!this.cachedInvInertia.dirty) return this.cachedInvInertia\n        const inertia = this.inertia,\n              invInertia = this.cachedInvInertia,\n              fixedRotation = this.fixedRotation,\n              shapeInertia = this.tempVec3\n        \n        vec3.copy(vec3.ZERO, inertia)\n        for(let i = this.shapes.length - 1; i >= 0; i--){\n            this.shapes[i].calculateLocalInertia(this.mass, shapeInertia)\n            vec3.transformQuat(shapeInertia, this.shapeOrientations[i], shapeInertia)\n            vec3.add(shapeInertia, this.shapeOffsets[i], shapeInertia)\n            vec3.add(inertia, shapeInertia, inertia)\n        }\n        //TODO setter for fixed rotation set dirty flag to inertia\n        vec3.set(inertia[0] > 0 && !fixedRotation ? 1.0 / inertia[0] : 0,\n                 inertia[1] > 0 && !fixedRotation ? 1.0 / inertia[1] : 0,\n                 inertia[2] > 0 && !fixedRotation ? 1.0 / inertia[2] : 0, invInertia)\n        \n        invInertia.dirty = false\n        return invInertia\n    },\n    get invInertiaWorld(){\n        if(!this.cachedInvInertiaWorld.dirty) return this.cachedInvInertiaWorld\n\n        const invInertia = this.invInertia,\n              invInertiaWorld = this.cachedInvInertiaWorld\n        \n        let temp = mat3.fromQuat(this.quaternion, mat3.temp) //TODO optimise\n        mat3.transpose(temp, invInertiaWorld)\n        mat3.scale(temp, invInertia, temp)\n        mat3.multiply(temp, invInertiaWorld, invInertiaWorld)\n        \n        invInertiaWorld.dirty = false\n        return invInertiaWorld\n    },\n    applyForce: function(force, relativePoint){\n        if(!this.dynamic) return false\n        vec3.add(this.force, force, this.force)\n        const angularForce = vec3.cross(relativePoint, force, vec3.temp)\n        vec3.add(this.torque, angularForce, this.torque)\n    },\n    applyImpulse: function(impulse, relativePoint){\n        if(!this.dynamic) return false\n        const temp = vec3.temp,\n              invInertiaWorld = this.invInertiaWorld\n        \n        vec3.scale(impulse, this.invMass, temp)\n        vec3.add(this.velocity, temp, this.velocity)\n        \n        vec3.cross(relativePoint, impulse, temp)\n        vec3.transformMat3(temp, invInertiaWorld, temp)\n        this.invInertiaWorld.vmult(temp, temp)\n        vec3.add(this.angularVelocity, temp, this.angularVelocity)\n    },\n    applyLocalForce: function(force, point){\n        if(!this.dynamic) return false\n        Transform.vectorToWorldFrame(force, this.position, this.quaternion, force)\n        Transform.pointToWorldFrame(point, this.position, this.quaternion, point)\n        return this.applyForce(force, point)\n    },\n    applyLocalImpulse: function(impulse, point){\n        if(!this.dynamic) return false\n        Transform.vectorToWorldFrame(impulse, this.position, this.quaternion, impulse)\n        Transform.pointToWorldFrame(point, this.position, this.quaternion, point)\n        return this.applyImpulse(impulse, point)\n    },\n    getVelocityAtWorldPoint: function(worldPoint, out = vec3()){\n        vec3.subtract(worldPoint, this.position, out)\n        vec3.cross(this.angularVelocity, out, out)\n        vec3.add(this.velocity, out, out)\n        return out\n    }\n}\n\nexport {RigidBody}","import {tie, factory} from '../../util'\nimport {vec3} from '../math'\nimport {RigidBody} from './rigidBody'\n\nObject.defineProperty(RigidBody.prototype, 'dynamic', {\n    get: (base => function(){\n        if(this.sleeping) return false\n        return base.call(this)\n    })(Object.getOwnPropertyDescriptor(RigidBody.prototype, 'dynamic').get)\n})\n\nfactory.declare('physics', (target, options) => {\n    options = Object.assign({\n        allowSleep: !true,\n        sleepSpeedLimit: 0.1,\n        sleepTimeLimit: 1\n    }, options || {})\n    \n    if(!options.allowSleep) return false\n    \n    const wakeUp = body => {\n        body.sleeping = false\n        body.sleepTimer = options.sleepTimeLimit\n        for(let i = body.joints.length - 1; i >= 0; i--){\n            let joint = body.joints[i]\n            if(!joint.awakeConnected) continue\n            let oppositeBody = joint.bodyA === body ? joint.bodyB : joint.bodyA\n            if(oppositeBody.sleeping)\n            wakeUp(oppositeBody)\n        }\n        //body.dispatchEvent('woke up') //TODO uncomment to add events\n    }\n    \n    const putToSleep = body => {\n        //TODO add iteration check for joints?\n        body.sleeping = true\n        vec3.copy(vec3.ZERO, body.velocity)\n        vec3.copy(vec3.ZERO, body.angularVelocity)\n        //body.dispatchEvent('fell asleep') //TODO uncomment to add events\n    }\n    \n    target.addEventListener('bodyAdded', body => {\n        body.sleepTimer = options.sleepTimeLimit\n    })\n    \n    target.addEventListener('collision', event => {\n        const bodyA = event.bodyA,\n              bodyB = event.bodyB,\n              speedLimitSquared = 2 * options.sleepSpeedLimit * options.sleepSpeedLimit\n        \n        if(bodyA.sleeping && bodyB.dynamic && !bodyB.sleeping){\n            let speedSquared = vec3.distanceSquared(bodyB.velocity) + vec3.distanceSquared(bodyB.angularVelocity)\n            if(speedSquared >= speedLimitSquared)\n                bodyA.wakeUpFlag = true\n        }\n        \n        if(bodyB.sleeping && bodyA.dynamic && !bodyA.sleeping){\n            let speedSquared = vec3.distanceSquared(bodyA.velocity) + vec3.distanceSquared(bodyA.angularVelocity)\n            if(speedSquared >= speedLimitSquared)\n                bodyB.wakeUpFlag = true\n        }\n    })\n    \n    target.addEventListener('preSolve', event => {\n        for(let i = target.bodies.length - 1; i >= 0; i--){\n            let body = target.bodies[i]\n            if(!body.wakeUpFlag) continue\n            wakeUp(body)\n            body.wakeUpFlag = false\n        }\n    })\n    \n    target.addEventListener('postStep', event => {\n        const deltaTime = event.deltaTime,\n              speedLimitSquared = 2 * options.sleepSpeedLimit * options.sleepSpeedLimit\n        \n        for(let i = target.bodies.length - 1; i >= 0; i--){\n            let body = target.bodies[i]\n            if(!body.dynamic && !body.sleeping) continue\n            let speedSquared = vec3.distanceSquared(body.velocity) + vec3.distanceSquared(body.angularVelocity)\n            if(body.sleeping && speedSquared > speedLimitSquared)\n                wakeUp(body)\n            else if(!body.sleeping)\n                if(speedSquared >= speedLimitSquared)\n                    body.sleepTimer = options.sleepTimeLimit\n                else if((body.sleepTimer -= deltaTime) <= 0)\n                    putToSleep(body)\n        }\n    })\n    \n    return {}\n})","import {vec3, AABB} from '../math'\nimport {materialLibrary} from '../foundation'\n\nconst PairsArray = (array = []) => ({\n    add: (a, b) => array.push([a, b]),\n    next: _ => array.pop()\n})\n\nconst checkCollisionFlags = (bodyA, bodyB) => {\n    if(!bodyA.dynamic && !bodyB.dynamic) return false\n    const material = materialLibrary.getContactMaterial(bodyA.material, bodyB.material)\n    //if(!material.collisionResponse) return false //TODO add propery for removing collisions entirely\n    \n    const jointIterationCost = bodyA.joints.length < bodyB.joints.length,\n          joints = jointIterationCost ? bodyA.joints : bodyB.joints\n    if(!jointIterationCost) bodyB = bodyA\n    for(let i = joints.length - 1; i >= 0; i--){\n        let joint = joints[i]\n        if(joint.collisionResponse) continue\n        if(joint.bodyA === bodyB || joint.bodyB === bodyB)\n            return false\n    }\n    return true\n}\n\nconst testAABBCollision = (bodyA, bodyB) => {\n    const aabbA = bodyA.aabb,\n          aabbB = bodyB.aabb\n    return AABB.overlap(aabbA, aabbB)\n}\n\nconst testBoundingSphereCollision = (bodyA, bodyB) => {\n    const combinedRadius = bodyA.boundingSphereRadius + bodyB.boundingSphereRadius\n    return vec3.differenceSquared(bodyA.position, bodyB.position) < combinedRadius * combinedRadius\n}\n\nexport {PairsArray, checkCollisionFlags, testAABBCollision, testBoundingSphereCollision}","import { PairsArray } from './broadphase'\nimport { AABB } from '../math/aabb'\n\nexport const BruteForceBroadphase = ({ checkCollisionFlags, testCollision }) => {\n    const bodies = []\n    \n    return {\n        add: body => {\n            if(bodies.indexOf(body) !== -1) return false\n            bodies.push(body)\n        },\n        remove: body => {\n            const index = bodies.indexOf(body)\n            if(index === -1) return false\n            bodies.splice(index, 1)\n        },\n        queryCandidates: (pairs = PairsArray()) => {\n            for(let a = bodies.length - 1; a > 0; a--)\n            for(let b = a - 1, bodyA = bodies[a]; b >= 0; b--){\n                let bodyB = bodies[b]\n                if(!checkCollisionFlags(bodyA, bodyB)) continue\n                if(testCollision(bodyA, bodyB)) pairs.add(bodyA, bodyB)\n            }\n            return pairs\n        },\n        aabbQuery: (aabb, out = []) => {\n            for(let i = bodies.length - 1; i >= 0; i--)\n                if(AABB.overlap(bodies[i].aabb, aabb))\n                    out.push(bodies[i])\n            return out\n        }\n    }\n}","import {PairsArray} from './broadphase'\nimport {AABB} from '../math/aabb'\n\nconst insertionSort = (array, comparator) => {\n    for(let length = array.length, i = 1; i < length; i++){\n        let j, item = array[i]\n        for(j = i - 1; j >= 0; j--){\n            if(comparator(array[j], item) >= 0) break\n            array[j + 1] = array[j]\n        }\n        array[j + 1] = item\n    }\n    return array\n}\n\nconst SimpleSAPBroadphase = ({checkCollisionFlags, testCollision}) => {\n    const bodies = []\n    \n    const checkBounds = (bodyA, bodyB, axisIndex) => bodyB.aabb.lowerBound[axisIndex] < bodyA.aabb.upperBound[axisIndex]\n    \n    const sortList = (list, axisIndex) => insertionSort(list, (a, b) => b.aabb.lowerBound[axisIndex] - a.aabb.lowerBound[axisIndex])\n    \n    let axisIndex = 0\n    \n    return {\n        add: body => {\n            if(bodies.indexOf(body) !== -1) return false\n            bodies.push(body)\n        },\n        remove: body => {\n            const index = bodies.indexOf(body)\n            if(index === -1) return false\n            bodies.splice(index, 1)\n        },\n        queryCandidates: (pairs = PairsArray()) => {\n            sortList(bodies, axisIndex)\n            \n            for(let length = bodies.length, a = 0; a < length; a++)\n            for(let b = a + 1, bodyA = bodies[a]; b < length; b++){\n                let bodyB = bodies[b]\n                if(!checkBounds(bodyA, bodyB, axisIndex)) break\n                if(!checkCollisionFlags(bodyA, bodyB)) continue\n                if(testCollision(bodyA, bodyB)) pairs.add(bodyA, bodyB)\n            }\n            return pairs\n        },\n        aabbQuery: (aabb, out = []) => {\n            sortList(bodies, axisIndex) //TODO don't sort all the time\n\n            const lower = aabb.lowerBound[axisIndex],\n                  upper = aabb.upperBound[axisIndex]\n            for(let length = bodies.length, i = 0; i < length; i++){\n                let body = bodies[i]\n                //TODO break and check axis bounds\n                if(AABB.overlap(body.aabb, aabb))\n                    result.push(body)\n            }\n            return out\n        },\n        autoDetectAxis: _ => {\n            let totalX = 0, totalSquaredX = 0,\n                totalY = 0, totalSquaredY = 0,\n                totalZ = 0, totalSquaredZ = 0\n            for(let i = bodies.length - 1; i >= 0; i--){\n                let body = bodies[i],\n                    positionX = body.position[0],\n                    positionY = body.position[1],\n                    positionZ = body.position[2]\n                totalX += positionX\n                totalY += positionY\n                totalZ += positionZ\n                totalSquaredX += positionX * positionX\n                totalSquaredY += positionY * positionY\n                totalSquaredZ += positionZ * positionZ\n            }\n            const invLength = 1.0 / bodies.length,\n                  varianceX = totalSquaredX - totalX * totalX * invLength,\n                  varianceY = totalSquaredY - totalY * totalY * invLength,\n                  varianceZ = totalSquaredZ - totalZ * totalZ * invLength,\n                  varianceMax = Math.max(varianceX, varianceY, varianceZ)\n            if(varianceX == varianceMax) return axisIndex = 0\n            if(varianceY == varianceMax) return axisIndex = 1\n            if(varianceZ == varianceMax) return axisIndex = 2\n        }\n    }\n}\n\nexport {SimpleSAPBroadphase}","import {PairsArray} from './broadphase'\n\nconst SAPMarker = (value, pointer, sign, connections) => ({ value, pointer, sign, connections, prev: null }) //TODO use pool? and static array allocation\n\nconst SAPAxis = _ => {\n    const markers = []\n    const stack = [] //TODO use typed array, resize on add/remove\n    \n    return {\n        markers,\n        get count(){ return markers.length },\n        addMarker: (min, max, pointer, connections) => {\n            let lowerMarker = SAPMarker(min, pointer, -1, connections)\n            let upperMarker = SAPMarker(max, pointer, +1, connections)\n            markers.push(lowerMarker, upperMarker)\n            connections.push(lowerMarker, upperMarker)\n        },\n        removeMarker: (pointer) => {\n            for(let i = markers.length - 1; i >= 0; i--)\n                if(markers[i].pointer === pointer)\n                    markers.splice(i, 1)\n        },\n        sort: _ => {\n            const length = markers.length\n            insertion_sort: {\n                let threshold = 0\n                while((length >> ++threshold) != 0);\n                threshold *= length >> 2\n                \n                for(let i = 1; i < length; i++){\n                    let j, marker = markers[i],\n                        pivot = marker.value\n                    for(j = i - 1; j >= 0; j--){\n                        if(markers[j].value <= pivot) break\n                        markers[j + 1] = markers[j]\n                    }\n                    markers[j + 1] = marker\n                    if((threshold -= i-j) < 0) break insertion_sort\n                }\n                return true\n            }\n            quick_sort: {\n                stack.push(0, length-1)\n                while(stack.length){\n                    let right = stack.pop(),\n                        left = stack.pop(),\n                        pivot = markers[(left + right) >> 1].value,\n                        i = left,\n                        j = right\n                    //TODO while(true)\n                    while(i <= j){\n                        while(markers[i].value < pivot) i++\n                        while(markers[j].value > pivot) j--\n                        if(i > j) break\n                        let temp = markers[i]\n                        markers[i] = markers[j]\n                        markers[j] = temp\n                        i++\n                        j--\n                    }\n                    if(i < right) stack.push(i, right)\n                    if(left < i - 1) stack.push(left, i-1)\n                }\n                return true\n            }\n        },\n        calculateTestCount: _ => {\n            let count = 1,\n                total = 0\n            for(let length = markers.length, i = 1; i < length; i++)\n                markers[i].sign > 0 ? count-- : total += count++\n            return total\n        }\n    }\n}\n\nconst SweepAndPruneBroadphase = ({checkCollisionFlags, testCollision}) => {\n    const broadphase = Object.create(null)\n    const dynamicAxes = [SAPAxis(), SAPAxis(), SAPAxis()]\n    const staticAxes = [SAPAxis(), SAPAxis(), SAPAxis()]\n    const linkedQueue = [{prev: null}, {prev: null}]\n    \n    let index0 = 0,\n        index1 = 1,\n        index2 = 2\n    \n    return Object.assign(broadphase, {\n        update: _ => {\n            const staticMarkers = staticAxes[0].markers,\n                  dynamicMarkers = dynamicAxes[0].markers\n            for(let i = staticMarkers.length - 1; i >= 0; i--){\n                let marker = staticMarkers[i]\n                if(marker.sign > 0) continue\n                if(!marker.pointer.dynamic) continue\n                broadphase.remove(marker.pointer, false)\n                broadphase.add(marker.pointer)\n            }\n            for(let i = dynamicMarkers.length - 1; i >= 0; i--){\n                let marker = dynamicMarkers[i]\n                if(marker.sign > 0) continue\n                if(marker.pointer.dynamic){\n                    let body = marker.pointer,\n                        connections = marker.connections\n                    connections[0].value = body.aabb.lowerBound[0]\n                    connections[1].value = body.aabb.upperBound[0]\n                    connections[2].value = body.aabb.lowerBound[1]\n                    connections[3].value = body.aabb.upperBound[1]\n                    connections[4].value = body.aabb.lowerBound[2]\n                    connections[5].value = body.aabb.upperBound[2]\n                }else{\n                    broadphase.remove(marker.pointer, true)\n                    broadphase.add(marker.pointer)\n                }\n            }\n        },\n        add: (body, dynamic = body.dynamic) => {\n            const connections = []\n            if(dynamic){\n                dynamicAxes[0].addMarker(body.aabb.lowerBound[0], body.aabb.upperBound[0], body, connections)\n                dynamicAxes[1].addMarker(body.aabb.lowerBound[1], body.aabb.upperBound[1], body, connections)\n                dynamicAxes[2].addMarker(body.aabb.lowerBound[2], body.aabb.upperBound[2], body, connections)\n            }else{\n                staticAxes[0].addMarker(body.aabb.lowerBound[0], body.aabb.upperBound[0], body, connections)\n                staticAxes[1].addMarker(body.aabb.lowerBound[1], body.aabb.upperBound[1], body, connections)\n                staticAxes[2].addMarker(body.aabb.lowerBound[2], body.aabb.upperBound[2], body, connections)\n            }\n        },\n        remove: (body, dynamic = body.dynamic) => {\n            if(dynamic){\n                dynamicAxes[0].removeMarker(body)\n                dynamicAxes[1].removeMarker(body)\n                dynamicAxes[2].removeMarker(body)\n            }else{\n                staticAxes[0].removeMarker(body)\n                staticAxes[1].removeMarker(body)\n                staticAxes[2].removeMarker(body)\n            }\n        },\n        queryCandidates: (pairs = PairsArray()) => {\n            broadphase.update()\n            \n            let axis0 = dynamicAxes[index0],\n                axis1 = dynamicAxes[index1]\n            axis0.sort()\n            axis1.sort()\n            if(axis0.calculateTestCount() >= axis1.calculateTestCount())\n                index0 = index1 + (index1 = index0, 0)\n            let dynamicAxis = dynamicAxes[index0],\n                staticAxis = staticAxes[index0]\n            staticAxis.sort()\n            \n            linkedQueue[0].prev = null\n            linkedQueue[1].prev = null\n            for(let marker, queueIndex, s = 0, d = 0; d < dynamicAxis.count;){\n                queueIndex = +(s == staticAxis.count || staticAxis.markers[s].value >= dynamicAxis.markers[d].value)\n                marker = queueIndex ? dynamicAxis.markers[d++] : staticAxis.markers[s++]\n\n                if(marker.sign > 0){\n                    let min = marker.connections[index0 * 2],\n                        prev, node = linkedQueue[queueIndex]\n                    while(prev = node.prev){\n                        if(prev === min){\n                            node.prev = min.prev\n                            min.prev = null\n                            break\n                        }\n                        node = prev\n                    }\n                    continue\n                }\n                \n                let connections = marker.connections,\n                    bodyA = marker.pointer\n                for(let node = linkedQueue[1].prev; node != null; node = node.prev){\n                    if(connections[index1 * 2] > node.connections[index1 * 2 + 1] ||\n                       connections[index1 * 2 + 1] < node.connections[index1 * 2] ||\n                       connections[index2 * 2] > node.connections[index2 * 2 + 1] || \n                       connections[index2 * 2 + 1] < node.connections[index2 * 2]) continue\n\n                    if(!checkCollisionFlags(bodyA, node.pointer)) continue\n                    if(testCollision(bodyA, node.pointer)) pairs.add(bodyA, node.pointer)\n                }\n                if(queueIndex)\n                for(let node = linkedQueue[0].prev; node != null; node = node.prev){\n                    if(connections[index1 * 2] > node.connections[index1 * 2 + 1] ||\n                       connections[index1 * 2 + 1] < node.connections[index1 * 2] ||\n                       connections[index2 * 2] > node.connections[index2 * 2 + 1] || \n                       connections[index2 * 2 + 1] < node.connections[index2 * 2]) continue\n\n                    if(!checkCollisionFlags(bodyA, node.pointer)) continue\n                    if(testCollision(bodyA, node.pointer)) pairs.add(bodyA, node.pointer)\n                }\n                marker.prev = linkedQueue[queueIndex].prev\n                linkedQueue[queueIndex].prev = marker\n            }\n            index1 = index2 + (index2 = index1, 0)\n            return pairs\n        }\n    })\n}\n\n\nexport {SweepAndPruneBroadphase}","import {vec3} from '../math/vec3'\n\nconst UniformGridBroadphase = ({checkCollisionFlags, testCollision}) => {\n    const dimensions = vec3.copy([10, 10, 10]), //TODO options\n          aabbMin = vec3.copy([100, 100, 100]),\n          aabbMax = vec3.copy([-100,-100,-100])\n    let binCount = dimensions[0] * dimensions[1] * dimensions[2]\n    const bins = Array(binCount).fill().map(_ => []),\n          binSizes = Array(binCount).fill(0),\n          bodies = []\n    \n    return {\n        add: body => {\n            if(bodies.indexOf(body) !== -1) return false\n            bodies.push(body)\n        },\n        remove: body => {\n            const index = bodies.indexOf(body)\n            if(index === -1) return false\n            bodies.splice(index, 1)\n        },\n        queryCandidates: (pairs = PairsArray()) => {\n            let stepX = dimensions[1] * dimensions[2],\n                stepY = dimensions[2],\n                stepZ = 1\n            let binSizeX = (aabbMax[0] - aabbMin[0]) / dimensions[0],\n                binSizeY = (aabbMax[1] - aabbMin[1]) / dimensions[1],\n                binSizeZ = (aabbMax[2] - aabbMin[2]) / dimensions[2],\n                binRadius = Math.sqrt(binSizeX*binSizeX + binSizeY*binSizeY + binSizeZ*binSizeZ) * 0.5\n            for(let i = binSizes.length - 1; i >= 0; binSizes[i--] = 0); //TODO use fill?\n            \n            let xmult = 1/binSizeX, ymult = 1/binSizeY, zmult = 1/binSizeZ\n            \n            const insertBox = (x0,y0,z0,x1,y1,z1, body) => {\n                let xoff0 = ((x0 - aabbMin[0]) * xmult) | 0,\n                    yoff0 = ((y0 - aabbMin[1]) * ymult) | 0,\n                    zoff0 = ((z0 - aabbMin[2]) * zmult) | 0,\n                    xoff1 = Math.ceil((x1 - aabbMin[0]) * xmult),\n                    yoff1 = Math.ceil((y1 - aabbMin[1]) * ymult),\n                    zoff1 = Math.ceil((z1 - aabbMin[2]) * zmult)\n                \n                xoff0 = Math.clamp(xoff0, 0, dimensions[0] - 1)\n                yoff0 = Math.clamp(yoff0, 0, dimensions[1] - 1)\n                zoff0 = Math.clamp(zoff0, 0, dimensions[2] - 1)\n                xoff1 = Math.clamp(xoff1, 0, dimensions[0] - 1)\n                yoff1 = Math.clamp(yoff1, 0, dimensions[1] - 1)\n                zoff1 = Math.clamp(zoff1, 0, dimensions[2] - 1)\n                xoff0 *= stepX\n                yoff0 *= stepY\n                zoff0 *= stepZ\n                xoff1 *= stepX\n                yoff1 *= stepY\n                zoff1 *= stepZ\n\n                for(let xoff = xoff0; xoff <= xoff1; xoff += stepX)\n                    for(let yoff = yoff0; yoff <= yoff1; yoff += stepY)\n                        for(let zoff = zoff0; zoff <= zoff1; zoff += stepZ){\n                            let idx = xoff+yoff+zoff\n                            bins[idx][binSizes[idx]++] = body\n                        }\n            }\n            \n            \n            for(let i = 0; i < bodies.length; i++){\n                let body = bodies[i]\n                if(body.aabbNeedsUpdate) body.computeAABB()\n                insertBox(body.aabb.lowerBound[0],\n                          body.aabb.lowerBound[1],\n                          body.aabb.lowerBound[2],\n                          body.aabb.upperBound[0],\n                          body.aabb.upperBound[1],\n                          body.aabb.upperBound[2], body)\n            }\n            \n            let pairUniqueMap = Object.create(null)\n            for(let i = 0; i < bins.length; i++){\n                let length = binSizes[i]\n                if(length <= 1) continue\n                let bin = bins[i]\n                for(let a = 0; a < length; a++)\n                    for(let bodyA = bin[a], b = 0; b < a; b++){\n                        let bodyB = bin[b]\n                        let key = bodyA.id < bodyB.id ? bodyA.id+'-'+bodyB.id : bodyB.id+'-'+bodyA.id\n                        if(pairUniqueMap[key]) continue\n                        pairUniqueMap[key] = true\n                        if(!checkCollisionFlags(bodyA, bodyB)) continue\n                        if(testCollision(bodyA, bodyB)) pairs.add(bodyA, bodyB)\n                    }\n                \n            }\n            \n            return pairs\n        }\n    }\n}\n\nexport {UniformGridBroadphase}","import {PairsArray} from './broadphase'\nimport {Pool} from '../../util'\nimport {AABB} from '../math/aabb'\n\nconst DBVTNode = _ => ({\n    pointer: null,\n    aabb: AABB(),\n    parent: null,\n    left: null,\n    right: null,\n    height: 0\n})\n\nconst DBVTree = _ => {\n    const tree = Object.create(null),\n          tempAABB = AABB(),\n          nodePool = Pool(_ => DBVTNode())\n    tree.root = null\n    \n    return Object.assign(tree, {\n        nodePool,\n        insertLeaf: leaf => {\n            if(tree.root === null) return tree.root = leaf, leaf.parent = null, tree\n            let sibling = tree.root\n            while(!sibling.pointer){\n                let left = sibling.left,\n                    right = sibling.right,\n                    creationCost = 2 * AABB.surfaceArea(AABB.extend(sibling.aabb, leaf.aabb, tempAABB)),\n                    descendingCost = creationCost - 2 * AABB.surfaceArea(sibling.aabb),\n                    descLeftCost = descendingCost + AABB.surfaceArea(AABB.extend(leaf.aabb, left.aabb, tempAABB)) - \n                    (left.pointer ? 0 : AABB.surfaceArea(left.aabb)),\n                    descRightCost = descendingCost + AABB.surfaceArea(AABB.extend(leaf.aabb, right.aabb, tempAABB)) -\n                    (right.pointer ? 0 : AABB.surfaceArea(right.aabb))\n                if(creationCost < descLeftCost && creationCost < descRightCost)\n                    break\n                sibling = descLeftCost < descRightCost ? left : right\n            }\n\n            let prevParent = sibling.parent,\n                parent = nodePool.obtain()\n            parent.parent = prevParent\n            parent.left = leaf\n            parent.right = sibling\n            AABB.extend(leaf.aabb, sibling.aabb, parent.aabb)\n            parent.height = sibling.height + 1\n            sibling.parent = leaf.parent = parent\n\n            if(sibling === tree.root) tree.root = parent\n            else if(prevParent.left === sibling) prevParent.left = parent\n            else prevParent.right = parent\n\n            tree.update(parent)\n            return tree\n        },\n        removeLeaf: leaf => {\n            if(tree.root === leaf) return tree.root = null, tree\n            let parent = leaf.parent,\n                sibling = parent.left === leaf ? parent.right : parent.left\n            if(tree.root === parent) return tree.root = sibling, sibling.parent = null, tree\n            let grandParent = parent.parent\n            sibling.parent = grandParent\n            grandParent.left === parent ? grandParent.left = sibling : grandParent.right = sibling\n            nodePool.release(parent)\n            tree.update(grandParent)\n            return tree\n        },\n        update: node => { while(node = tree.updateNodeProperties(tree.balance(node)).parent); },\n        updateNodeProperties: node => {\n            let L = node.left,\n                R = node.right\n            AABB.extend(L.aabb, R.aabb, node.aabb)\n            node.height = Math.max(L.height, R.height) + 1\n            return node\n        },\n        balance: node => {\n            const height = node.height\n            if(height < 2) return node\n\n            const parent = node.parent,\n                  L = node.left,\n                  R = node.right,\n                  balance = L.height - R.height\n            \n            if(balance > 1){\n                let LL = L.left,\n                    LR = L.right\n                if(LL.height > LR.height){\n                    L.right = node\n                    node.parent = L\n                    node.left = LR\n                    LR.parent = node\n                }else{\n                    L.left = node\n                    node.parent = L\n                    node.left = LL\n                    LL.parent = node\n                }\n                tree.updateNodeProperties(node)\n                tree.updateNodeProperties(L) //TODO can be removed\n                if(!parent) tree.root = L\n                else if(parent.left === node) parent.left = L\n                else parent.right = L\n                L.parent = parent\n                return L\n            }else if(balance < -1){\n                let RL = R.left,\n                    RR = R.right\n                if(RL.height > RR.height){\n                    R.right = node\n                    node.parent = R\n                    node.right = RR\n                    RR.parent = node\n                }else{\n                    R.left = node\n                    node.parent = R\n                    node.right = RL\n                    RL.parent = node\n                }\n                tree.updateNodeProperties(node)\n                tree.updateNodeProperties(R) //TODO can be removed\n                if(!parent) tree.root = R\n                else if(parent.left === node) parent.left = R\n                else parent.right = R\n                R.parent = parent\n                return R\n            }\n            return node\n        }\n    })\n}\n\nconst DynamicBoundingVolumeTreeBroadphase = ({checkCollisionFlags, testCollision}) => {\n    const tree = DBVTree(),\n          leaves = [],\n          stack = [],\n          margin = 0.1\n    \n    return {\n        add: body => {\n            const node = tree.nodePool.obtain()\n            node.height = 0\n            node.left = node.right = null\n            node.pointer = body\n            leaves.push(node)\n            tree.insertLeaf(node)\n        },\n        remove: body => {\n            let idx = leaves.findIndex(leaf => leaf.pointer === body)\n            if(idx == -1) return false\n            let leaf = leaves[idx]\n            leaf.pointer = null\n            tree.removeLeaf(leaf)\n            tree.nodePool.release(leaf)\n            leaves.splice(idx, 1)\n        },\n        queryCandidates: (pairs = PairsArray()) => {\n            for(let i = leaves.length - 1; i >= 0; i--){\n                const leaf = leaves[i]\n                //if(!leaf.pointer.dynamic) continue\n                if(AABB.contains(leaf.aabb, leaf.pointer.aabb)) continue\n                AABB.copy(leaf.pointer.aabb, leaf.aabb)\n                AABB.margin(leaf.aabb, margin, leaf.aabb)\n                tree.removeLeaf(leaf).insertLeaf(leaf)\n            }\n            for(let i = leaves.length - 1; i >= 0; i--){\n                const nodeA = leaves[i],\n                      bodyA = nodeA.pointer\n                \n                let parent, node = nodeA\n                while(parent = node.parent){\n                    if(node === parent.left) //TODO move AABB overlap check to be before adding into stack\n                        stack.push(parent.right)\n                    node = parent\n                }\n\n                while(stack.length){\n                    let nodeB = stack.pop(),\n                        bodyB = nodeB.pointer\n                    if(bodyB){\n                        if(!checkCollisionFlags(bodyA, bodyB)) continue\n                        if(testCollision(bodyA, bodyB)) pairs.add(bodyA, bodyB)\n                    }else if(!AABB.overlap(bodyA.aabb, nodeB.aabb)) continue //TODO check before adding into stack\n                    else nodeB.left.height > nodeB.right.height ? stack.push(nodeB.left, nodeB.right) : stack.push(nodeB.right, nodeB.left)\n                }\n            }            \n        }\n    }\n}\n\nexport {DynamicBoundingVolumeTreeBroadphase}","export * from './broadphase'\nexport * from './bruteForce'\nexport * from './simpleSAP'\nexport * from './sweepAndPrune'\nexport * from './uniformGrid'\nexport * from './boundingVolumeTree'\n\nimport {BruteForceBroadphase} from './bruteForce'\nimport {checkCollisionFlags, testBoundingSphereCollision} from './broadphase'\n\nconst DefaultBroadphase = _ => BruteForceBroadphase({checkCollisionFlags: checkCollisionFlags, testCollision: testBoundingSphereCollision})\n\nexport {DefaultBroadphase}","import {Equation} from './equation'\nimport {vec3} from '../math/vec3'\n\nconst RotationalEquation = _ => Object.setPrototypeOf(Object.assign(Equation(), {\n    axisA: vec3.copy(vec3.AXIS_X),\n    axisB: vec3.copy(vec3.AXIS_Y),\n    maxAngle: Math.PI / 2\n}), RotationalEquation.prototype)\n\nRotationalEquation.prototype = Object.setPrototypeOf({\n    computeRightHandSide: function(deltaTime){\n        const normalA = this.axisA,\n              normalB = this.axisB,\n              angularA = this.jacobianElementA.angular,\n              angularB = this.jacobianElementB.angular\n        vec3.cross(normalA, normalB, angularB)\n        vec3.cross(normalB, normalA, angularA)\n        const g = Math.cos(this.maxAngle) - vec3.dot(normalA, normalB),\n              GW = this.computeBodyVelocities(),\n              GiMf = this.computeGiMf()\n        return - g * this.a - GW * this.b - deltaTime * GiMf\n    }\n}, Equation.prototype)\n\nexport {RotationalEquation}","import {Equation} from './equation'\nimport {vec3} from '../math/vec3'\n\nconst RotationalMotorEquation = _ => Object.setPrototypeOf(Object.assign(Equation(), {\n    axisA: vec3(),\n    axisB: vec3(),\n    targetVelocity: 0\n}), RotationalMotorEquation.prototype)\n\nRotationalMotorEquation.prototype = Object.setPrototypeOf({\n    computeRightHandSide: function(deltaTime){        \n        vec3.copy(this.axisA, this.jacobianElementA.angular)\n        vec3.negate(this.axisB, this.jacobianElementB.angular)\n        \n        const GW = this.computeBodyVelocities() - this.targetVelocity,\n              GiMf = this.computeGiMf()\n        return - GW * this.b - deltaTime * GiMf\n    }\n}, Equation.prototype)\n\nexport {RotationalMotorEquation}","import {tie} from '../../util'\n//TODO constraints don't work with sleep correctly\nconst Constraint = (bodyA, bodyB, options) => {\n    const target = Object.assign(Object.create(null), {\n        collisionResponse: true,\n        enabled: true\n    }, options || {})\n    const equations = []\n    \n    bodyA.joints.push(target)\n    bodyB.joints.push(target)\n    \n    return tie(target, {\n        bodyA, bodyB, equations,\n        detach: _ => {\n            bodyA.joints.remove(target)\n            bodyB.joints.remove(target)\n        }\n    })\n}\n\nexport {Constraint}","import {vec3} from '../math/vec3'\nimport {Constraint} from './constraint'\nimport {ContactEquation} from '../equation/contactEquation'\n\nconst DistanceConstraint = (bodyA, bodyB, options = {}) => {\n    const constraint = Constraint(bodyA, bodyB, options),\n          equation = ContactEquation()\n    equation.bodyA = bodyA\n    equation.bodyB = bodyB\n    equation.minForce = -(options.maxForce || 1e6)\n    equation.maxForce = options.maxForce || 1e6\n    \n    constraint.equations.push(equation)\n    \n    return Object.assign(constraint, {\n        distance: options.distance || vec3.difference(bodyA.position, bodyB.position),\n        update: _ => {\n            const normal = equation.contactNormal,\n                  halfDistance = 0.5 * constraint.distance\n            vec3.subtract(constraint.bodyB.position, constraint.bodyA.position, normal)\n            vec3.normalize(normal, normal)\n            vec3.scale(normal, halfDistance, equation.contactPointA)\n            vec3.scale(normal, -halfDistance, equation.contactPointB)\n        }\n    })\n}\n\nexport {DistanceConstraint}","import {vec3} from '../math/vec3'\nimport {ContactEquation} from '../equation/contactEquation'\nimport {Constraint} from './constraint'\n\nconst PointToPointConstraint = (bodyA, bodyB, options = {}) => {    \n    const constraint = Constraint(bodyA, bodyB, options),\n          equationX = ContactEquation(),\n          equationY = ContactEquation(),\n          equationZ = ContactEquation()\n    \n    equationX.bodyA = equationY.bodyA = equationZ.bodyA = bodyA\n    equationX.bodyB = equationY.bodyB = equationZ.bodyB = bodyB\n    equationX.minForce = equationY.minForce = equationZ.minForce = -(options.maxForce || 1e6)\n    equationX.maxForce = equationY.maxForce = equationZ.maxForce = options.maxForce || 1e6\n    vec3.copy(vec3.AXIS_X, equationX.contactNormal)\n    vec3.copy(vec3.AXIS_Y, equationY.contactNormal)\n    vec3.copy(vec3.AXIS_Z, equationZ.contactNormal)\n    \n    const pivotA = vec3.copy(options.pivotA || vec3()),\n          pivotB = vec3.copy(options.pivotB || vec3())\n    \n    constraint.equations.push(equationX, equationY, equationZ)\n    \n    return Object.assign(constraint, {\n        update: _ => {\n            vec3.transformQuat(pivotA, constraint.bodyA.quaternion, equationX.contactPointA)\n            vec3.transformQuat(pivotB, constraint.bodyB.quaternion, equationX.contactPointB)\n            vec3.copy(equationX.contactPointA, equationY.contactPointA)\n            vec3.copy(equationX.contactPointB, equationY.contactPointB)\n            vec3.copy(equationX.contactPointA, equationZ.contactPointA)\n            vec3.copy(equationX.contactPointB, equationZ.contactPointB) //TODO link to one object?\n        }\n    })\n}\n\nexport {PointToPointConstraint}","import {vec3} from '../math/vec3'\nimport {RotationalEquation} from '../equation/rotationalEquation'\nimport {RotationalMotorEquation} from '../equation/rotationalMotorEquation'\nimport {PointToPointConstraint} from './pointToPointConstraint'\n\nconst HingeConstraint = (bodyA, bodyB, options = {}) => {\n    const constraint = PointToPointConstraint(bodyA, bodyB, options)\n\n    const equationA = RotationalEquation(),\n          equationB = RotationalEquation(),\n          motorEquation = RotationalMotorEquation()\n    equationA.bodyA = equationB.bodyA = motorEquation.bodyA = bodyA\n    equationA.bodyB = equationB.bodyB = motorEquation.bodyB = bodyB\n    motorEquation.enabled = false\n    motorEquation.maxForce = options.maxForce || 1e6\n    motorEquation.minForce = -(options.maxForce || 1e6)\n    \n    let axisA = vec3.copy(options.axisA || vec3.AXIS_X),\n        axisB = vec3.copy(options.axisB || vec3.AXIS_X)\n    \n    constraint.equations.push(equationA, equationB, motorEquation)\n    \n    return Object.assign(constraint, {\n        //enableMotor: value => motorEquation.enabled = value //TODO change API\n        enableMotor: _ => motorEquation.enabled = true,\n        disableMotor: _ => motorEquation.enabled = false,\n        setMotorSpeed: value => motorEquation.targetVelocity = value,\n        setMotorMaxForce: value => {\n            motorEquation.maxForce = value\n            motorEquation.minForce = -value\n        },\n        update: (base => _ => {\n            const bodyA = constraint.bodyA,\n                  bodyB = constraint.bodyB\n            \n            vec3.transformQuat(axisA, bodyA.quaternion, motorEquation.axisA)\n            vec3.transformQuat(axisB, bodyB.quaternion, motorEquation.axisB)\n            \n            vec3.extractTangents(motorEquation.axisA, equationA.axisA, equationB.axisA)\n            vec3.copy(motorEquation.axisB, equationA.axisB)\n            vec3.copy(motorEquation.axisB, equationB.axisB)\n            \n            return base()\n        })(constraint.update)\n    })\n}\n\nexport {HingeConstraint}","import {vec3} from '../math/vec3'\nimport {Transform} from '../math/transform'\nimport {RotationalEquation} from '../equation/rotationalEquation'\nimport {PointToPointConstraint} from './pointToPointConstraint'\n\nconst LockConstraint = (bodyA, bodyB, options = {}) => {\n    options.pivotA = vec3()\n    options.pivotB = vec3()\n    const middle = vec3.add(bodyA.position, bodyB.position)\n    vec3.scale(middle, 0.5, middle)\n    Transform.pointToLocalFrame(middle, bodyA.position, bodyA.quaternion, options.pivotA)\n    Transform.pointToLocalFrame(middle, bodyB.position, bodyB.quaternion, options.pivotB)\n    \n    const constraint = PointToPointConstraint(bodyA, bodyB, options)\n\n    const initialXUnitA = Transform.vectorToLocalFrame(vec3.AXIS_X, bodyA.position, bodyA.quaternion),\n          initialXUnitB = Transform.vectorToLocalFrame(vec3.AXIS_X, bodyB.position, bodyB.quaternion),\n          initialYUnitA = Transform.vectorToLocalFrame(vec3.AXIS_Y, bodyA.position, bodyA.quaternion),\n          initialYUnitB = Transform.vectorToLocalFrame(vec3.AXIS_Y, bodyB.position, bodyB.quaternion),\n          initialZUnitA = Transform.vectorToLocalFrame(vec3.AXIS_Z, bodyA.position, bodyA.quaternion),\n          initialZUnitB = Transform.vectorToLocalFrame(vec3.AXIS_Z, bodyB.position, bodyB.quaternion)\n    const rotationalEquationX = RotationalEquation(),\n          rotationalEquationY = RotationalEquation(),\n          rotationalEquationZ = RotationalEquation()\n    rotationalEquationX.bodyA = rotationalEquationY.bodyA = rotationalEquationZ.bodyA = bodyA\n    rotationalEquationX.bodyB = rotationalEquationY.bodyB = rotationalEquationZ.bodyB = bodyB\n    \n    constraint.equations.push(rotationalEquationX, rotationalEquationY, rotationalEquationZ)\n    \n    return Object.assign(constraint, {\n        update: (base => _ => {\n            const bodyA = constraint.bodyA,\n                  bodyB = constraint.bodyB\n            \n            Transform.vectorToWorldFrame(initialXUnitA, bodyA.position, bodyA.quaternion, rotationalEquationX.axisA)\n            Transform.vectorToWorldFrame(initialYUnitB, bodyB.position, bodyB.quaternion, rotationalEquationX.axisB)\n            \n            Transform.vectorToWorldFrame(initialYUnitA, bodyA.position, bodyA.quaternion, rotationalEquationY.axisA)\n            Transform.vectorToWorldFrame(initialZUnitB, bodyB.position, bodyB.quaternion, rotationalEquationY.axisB)\n            \n            Transform.vectorToWorldFrame(initialZUnitA, bodyA.position, bodyA.quaternion, rotationalEquationZ.axisA)\n            Transform.vectorToWorldFrame(initialXUnitB, bodyB.position, bodyB.quaternion, rotationalEquationZ.axisB)\n            \n            return base()\n        })(constraint.update)\n    })\n}\n\nexport {LockConstraint}","import {vec3, Transform} from '../math'\nimport {RotationalEquation} from '../equation'\nimport {PointToPointConstraint} from './pointToPointConstraint'\n\nconst ConeTwistConstraint = (bodyA, bodyB, options = {}) => {\n    options.collisionResponse = !!options.collisionResponse\n    const constraint = PointToPointConstraint(bodyA, bodyB, options)\n    const axisA = vec3.copy(options.axisA || vec3())\n    const axisB = vec3.copy(options.axisB || vec3())\n    \n    const coneEquation = RotationalEquation()\n    const twistEquation = RotationalEquation()\n    coneEquation.bodyA = twistEquation.bodyA = bodyA\n    coneEquation.bodyB = twistEquation.bodyB = bodyB\n    coneEquation.maxForce = twistEquation.maxForce = 0\n    coneEquation.minForce = twistEquation.minForce = -(options.maxForce || 1e6)\n    \n    constraint.equations.push(coneEquation, twistEquation)\n    \n    return Object.assign(constraint, {\n        angle: options.angle || 0.0,\n        twistAngle: options.twistAngle || 0.0,\n        update: (base => _ => {\n            const bodyA = constraint.bodyA,\n                  bodyB = constraint.bodyB\n\n            vec3.extractTangents(axisA, coneEquation.axisA, twistEquation.axisA)\n            Transform.vectorToWorldFrame(twistEquation.axisA, bodyA.position, bodyA.quaternion, twistEquation.axisA)\n\n            vec3.extractTangents(axisB, coneEquation.axisB, twistEquation.axisB)\n            Transform.vectorToWorldFrame(twistEquation.axisB, bodyB.position, bodyB.quaternion, twistEquation.axisB)\n            \n            Transform.vectorToWorldFrame(axisA, bodyA.position, bodyA.quaternion, coneEquation.axisA)\n            Transform.vectorToWorldFrame(axisB, bodyB.position, bodyB.quaternion, coneEquation.axisB)\n            \n            coneEquation.maxAngle = constraint.angle\n            twistEquation.maxAngle = constraint.twistAngle\n            \n            return base()\n        })(constraint.update)\n    })\n}\n\nexport {ConeTwistConstraint}","import {tie, factory} from '../../util'\nimport {EventEmitter} from '../../events'\nimport {vec3, quat} from '../math'\n\nfactory.declare('physics', (target, options) => {\n    const subsystems = []\n    \n    target.addEventListener('preStep', event => {\n        for(let i = subsystems.length - 1; i >= 0; i--)\n            subsystems[i].update(event.deltaTime)\n    })\n    \n    return {\n        subsystems\n    }\n})","import {vec3} from '../math/vec3'\nimport {aquireVec3Pool} from '../math'\nimport {Transform} from '../math/transform'\n\nconst Spring = (bodyA, bodyB, options) => {\n    options = Object.assign({\n        restLength: 1,\n        stiffness: 100,\n        damping: 1\n    }, options || {})\n    \n    const localAnchorA = vec3.copy(options.localAnchorA || vec3())\n    const localAnchorB = vec3.copy(options.localAnchorB || vec3())\n    if(options.worldAnchorA)\n        Transform.pointToLocalFrame(options.worldAnchorA, bodyA.position, bodyA.quaternion, localAnchorA)\n    if(options.worldAnchorB)\n        Transform.pointToLocalFrame(options.worldAnchorB, bodyB.position, bodyB.quaternion, localAnchorB)\n    return {\n        update: _ => {\n            const vec3Pool = aquireVec3Pool(),\n                  damping = options.damping,\n                  stiffness = options.stiffness,\n                  restLength = options.restLength,\n                  temp = vec3Pool.obtain()\n            \n            const offsetA = Transform.pointToWorldFrame(localAnchorA, bodyA.position, bodyA.quaternion, vec3Pool.obtain())\n            const offsetB = Transform.pointToWorldFrame(localAnchorB, bodyB.position, bodyB.quaternion, vec3Pool.obtain())\n            \n            const direction = vec3.subtract(offsetB, offsetA, vec3Pool.obtain())\n            const distance = vec3.distance(direction)\n            vec3.normalize(direction, direction)\n            \n            vec3.subtract(offsetA, bodyA.position, offsetA)\n            vec3.subtract(offsetB, bodyB.position, offsetB)\n            \n            const relativeVelocity = vec3.subtract(bodyB.velocity, bodyA.velocity, vec3Pool.obtain())\n            \n            vec3.cross(bodyB.angularVelocity, offsetB, temp)\n            vec3.add(relativeVelocity, temp, relativeVelocity)\n            vec3.cross(bodyA.angularVelocity, offsetA, temp)\n            vec3.subtract(relativeVelocity, temp, relativeVelocity)\n            \n            vec3.scale(direction, -stiffness*(distance - restLength) - damping * vec3.dot(relativeVelocity, direction), direction)\n            \n            vec3.subtract(bodyA.force, direction, bodyA.force)\n            vec3.add(bodyB.force, direction, bodyB.force)\n            \n            vec3.cross(offsetA, direction, temp)\n            vec3.subtract(bodyA.torque, temp, bodyA.torque)\n            vec3.cross(offsetB, direction, temp)\n            vec3.add(bodyB.torque, temp, bodyB.torque)\n            \n            vec3Pool.release()\n        }\n    }\n}\n\nexport {Spring}","import {vec3} from '../math/vec3'\nimport {aquireVec3Pool} from '../math'\n\nconst SmoothedParticleHydrodynamicsSystem = options => {\n    options = Object.assign({\n        density: 1,\n        smoothingRadius: 1,\n        speedOfSound: 1,\n        viscosity: 0.01,\n        epsilon: 0.000001\n    }, options || {})\n    const particles = [],\n          pressures = [],\n          densities = [],\n          neighbors = []\n    \n    const computeWeight = radius => { //TODO most values can be precomputed and cached\n        const smoothingRadius = options.smoothingRadius\n        return 315.0 / (64.0 * Math.PI * Math.pow(smoothingRadius, 9)) * \n            Math.pow(smoothingRadius * smoothingRadius - radius * radius, 3)\n    }\n    const computeWeightGradient = (radiusVector, out = vec3()) => {\n        const smoothingRadius = options.smoothingRadius,\n              radius = vec3.distance(radiusVector)\n        return vec3.scale(radiusVector, 945.0 / (32.0 * Math.PI * Math.pow(smoothingRadius, 9)) * \n                          Math.pow((smoothingRadius * smoothingRadius - radius * radius), 2), out)\n    }\n    const computeNabla = radius => {\n        const smoothingRadius = options.smoothingRadius,\n              radiusSquared = radius*radius\n        return 945.0 / (32.0 * Math.PI * Math.pow(smoothingRadius, 9)) * \n            (smoothingRadius * smoothingRadius - radiusSquared) * (7 * radiusSquared - 3 * smoothingRadius * smoothingRadius)\n    }\n    \n    return {\n        add: particle => {\n            particles.push(particle)\n            neighbors.push([])\n        },\n        remove: particle => {\n            let idx = particles.indexOf(particle)\n            if(idx == -1) return false\n            particles.splice(idx, 1)\n            neighbors.pop()\n        },\n        update: _ => {\n            const vec3Pool = aquireVec3Pool(),\n                  radiusSquared = options.smoothingRadius * options.smoothingRadius,\n                  speedSquared = options.speedOfSound * options.speedOfSound,\n                  epsilon = options.epsilon\n            \n            for(let i = 0; i < particles.length; i++){\n                let particle = particles[i],\n                    position = particle.position,\n                    neighborList = neighbors[i],\n                    totalDensity = 0\n                neighborList.length = 0\n                \n                for(let j = 0; j < particles.length; j++){\n                    let neighbor = particles[j],\n                        distanceSquared = vec3.differenceSquared(position, neighbor.position)\n                    if(distanceSquared >= radiusSquared) continue\n                    neighborList.push(neighbor)\n                    let distance = Math.sqrt(distanceSquared),\n                        weight = computeWeight(distance)\n                    totalDensity += neighbor.mass * weight\n                }\n                densities[i] = totalDensity\n                pressures[i] = speedSquared * (totalDensity - options.density)\n            }\n            \n            const pressure = vec3Pool.obtain(),\n                  viscosity = vec3Pool.obtain(),\n                  difference = vec3Pool.obtain(),\n                  weightGradient = vec3Pool.obtain()\n            \n            for(let i = 0; i < particles.length; i++){\n                let particle = particles[i],\n                    neighborList = neighbors[i],\n                    force = particle.force\n                \n                vec3.copy(vec3.ZERO, pressure)\n                vec3.copy(vec3.ZERO, viscosity)\n                \n                for(let j = 0; j < neighborList.length; j++){\n                    let neighbor = neighborList[j]\n                    vec3.subtract(particle.position, neighbor.position, difference)\n                    let radius = vec3.distance(difference), //TODO cache from prev loop\n                        pressureContribution = -neighbor.mass * (pressures[i] / (densities[i] * densities[i] + epsilon) + \n                                                                 pressures[j] / (densities[j] * densities[j] + epsilon))\n                    computeWeightGradient(difference, weightGradient)\n                    vec3.scale(weightGradient, pressureContribution, weightGradient)\n                    vec3.add(pressure, weightGradient, pressure)\n                    \n                    vec3.subtract(neighbor.velocity, particle.velocity, difference)\n                    let viscosityContribution = options.viscosity * neighbor.mass * 1.0 / (0.0001 + densities[i] * densities[j])\n                    vec3.scale(difference, viscosityContribution, difference)\n                    let nabla = computeNabla(radius)\n                    vec3.scale(difference, nabla, difference)\n                    vec3.add(viscosity, difference, viscosity)                    \n                }\n                \n                vec3.scale(pressure, particle.mass, pressure)\n                vec3.scale(viscosity, particle.mass, viscosity)\n                vec3.add(force, viscosity, force)\n                vec3.add(force, pressure, force)\n            }\n            \n            vec3Pool.release()\n        }\n    }\n}\n\nexport {SmoothedParticleHydrodynamicsSystem}","import { RigidBody, materialLibrary } from './foundation'\nimport { Box, ConvexPolyhedron, Cylinder, Plane, Sphere } from './shape'\n\nconst serializer = world => {\n    //TODO\n}\n\nexport const shapeMapper = {\n    'plane': options => Plane(),\n    'box': options => Box(options.halfExtents),\n    'sphere': options => Sphere(options.radius),\n    'convex': options => ConvexPolyhedron(options.vertices, options.faces),\n    'cylinder': options => Cylinder(options.radius, options.radius, options.height, options.segments)\n}\n\nexport const deserialize = json => json.map(bodyParameters => {\n    const { shapes, material } = bodyParameters\n\n    const body = RigidBody(Object.assign(Object.create(null), bodyParameters, {\n        material: materialLibrary[material]\n    }))\n    shapes.forEach(shape => {\n        if(!shapeMapper[shape.type]) throw new Error(`Unrecognized shape ${shape.type}`)\n        const shapeGeometry = shapeMapper[shape.type](shape)\n        body.addShape(shapeGeometry, shape.offset, shape.orientation)\n    })\n    return body\n})","import {tie, factory, Signal} from '../util'\nimport {EventEmitter} from '../events'\nimport {vec3, vec4} from '../math'\n\nfactory.declare('scene', target => {\n    const camera = factory.build('camera')\n    \n\treturn tie({\n        camera,\n        update: deltaTime => {\n            target.dispatchEvent('update', deltaTime)\n            camera.recalculateView()\n        }\n\t}, EventEmitter())\n})","import {factory, tie, Stream} from '../../util'\nimport {mat3, mat4, vec3, vec4, quat, frustum} from '../../math'\n\nfactory.declare('camera', (target, options) => {\n    options = tie({\n        fovy: 45.0,\n        zNear: 0.1,\n        zFar: 1024.0\n    }, options)\n    const projectionMatrix = mat4.identity(),\n          viewMatrix = mat4.identity(),\n          rotation = mat4(),\n          eyePosition = vec3(),\n          eyeRotation = quat(),\n          viewFrustum = frustum(),\n          mutation = Stream()\n    \n\treturn {\n        projectionMatrix, viewMatrix, \n        eyePosition, eyeRotation,\n        mutation,\n        get rotation(){ return eyeRotation },\n        set rotation(value){ quat.copy(value, eyeRotation) },\n        get position(){ return eyePosition },\n        set position(value){ vec3.copy(value, eyePosition) },\n        get viewProjectionMatrix(){ return mat4.multiply(projectionMatrix, viewMatrix) },\n        resize: screen => (mat4.perspective(options.fovy * Math.PI/180, screen.width/screen.height, options.zNear, options.zFar, projectionMatrix), \n                           frustum.fromMat(projectionMatrix, viewFrustum), \n                           mutation.onSuccess({projectionMatrix})),\n        recalculateView: _ => {\n            mat4.fromQuat(eyeRotation, rotation)\n            mat4.translate(rotation, vec3.scale(eyePosition, -1), viewMatrix)\n            \n            //:::ALTERNATIVE:::\n            //mat4.fromQuat(eyeRotation, viewMatrix)\n            //viewMatrix[12] = -eyePosition[0]\n            //viewMatrix[13] = -eyePosition[1]\n            //viewMatrix[14] = -eyePosition[2]\n            //mat4.invert(viewMatrix, viewMatrix)\n            \n            //const normalMat = mat4.invert(viewMatrix)\n            mutation.onSuccess({viewMatrix})\n        },\n        rotate: (yaw, pitch) => {\n            quat.rotateY(eyeRotation, yaw, eyeRotation)\n            quat.multiply(quat.setAxisAngle(vec3.LEFT, pitch), eyeRotation, eyeRotation)\n            \n            //:::ALTERNATIVE:::\n            //quat.rotateX(eyeRotation, -pitch, eyeRotation)\n            //quat.multiply(quat.setAxisAngle(vec3.UP, -yaw), eyeRotation, eyeRotation)\n            \n            quat.normalize(eyeRotation, eyeRotation)\n        },\n        get rotationMatrix(){ return rotation },\n        get forward(){ return vec3(-rotation[2], -rotation[6], -rotation[10]) },\n        get up(){ return vec3(-rotation[1], -rotation[5], -rotation[9]) },\n        get left(){ return vec3(-rotation[0], -rotation[4], -rotation[8]) },\n        frustumCulling: instance => frustum.containsSphere(viewFrustum, vec4.transform(vec3.translationFromMat4(instance.modelMatrix), viewMatrix), instance.boundingSphereRadius)\n            //:::ALTERNATIVE:::\n            //frustum.fromMat(mat4.multiply(projectionMatrix, viewMatrix), viewFrustum)\n            //return frustum.containsSphere(viewFrustum, vec3.translationFromMat4(instance.modelMatrix), instance.boundingSphereRadius)\n\t}\n})","import {factory, tie, Stream} from '../../util'\nimport {mat3, mat4, vec3, vec4, quat, frustum} from '../../math'\n\nfactory.declare('perspective:camera', (target, options) => {\n    options = tie({\n        fovy: 45.0,\n        aspectRatio: 1,\n        zNear: 0.1,\n        zFar: 1024.0\n    }, options)\n    const up = vec3.copy(options.up || vec3.AXIS_Y),\n          forward = vec3.copy(options.forward || vec3.AXIS_Z),\n          position = vec3.copy(options.position || vec3.ZERO),\n          projectionMatrix = mat4.identity(),\n          viewMatrix = mat4.identity(),\n          viewProjectionMatrix = mat4.identity(),\n          viewFrustum = frustum()\n    let dirtyFlag = [true, true]\n\n\treturn {\n        get position(){ return position },\n        set position(value){\n            vec3.copy(value, position)\n            dirtyFlag[1] = true\n        },\n        get up(){ return up },\n        set up(value){\n            vec3.copy(value, up)\n            dirtyFlag[1] = true\n        },\n        get forward(){ return forward },\n        set forward(value){\n            vec3.copy(value, forward)\n            dirtyFlag[1] = true\n        },\n        get zNear(){ return options.zNear },\n        set zNear(value){\n            if(target.zNear === value) return\n            options.zNear = value\n            dirtyFlag[0] = true\n        },\n        get zFar(){ return options.zFar },\n        set zFar(value){\n            if(target.zFar === value) return\n            options.zFar = value\n            dirtyFlag[0] = true\n        },\n        get fovy(){ return options.fovy },\n        set fovy(value){\n            if(target.fovy === value) return\n            options.fovy = value\n            dirtyFlag[0] = true\n        },\n        get aspectRatio(){ return options.aspectRatio },\n        set aspectRatio(value){\n            if(target.aspectRatio === value) return\n            options.aspectRatio = value\n            dirtyFlag[0] = true\n        },\n        get viewFrustum(){\n            if(!dirtyFlag[0]) return viewFrustum\n            dirtyFlag[0] = false\n            mat4.perspective(options.fovy, options.aspectRatio, options.zNear, options.zFar, projectionMatrix)\n            frustum.fromMat(projectionMatrix, viewFrustum)\n            return viewFrustum\n        },\n        get projectionMatrix(){\n            if(!dirtyFlag[0]) return projectionMatrix\n            dirtyFlag[0] = false\n            mat4.perspective(options.fovy, options.aspectRatio, options.zNear, options.zFar, projectionMatrix)\n            frustum.fromMat(projectionMatrix, viewFrustum)\n            return projectionMatrix\n        },\n        get viewMatrix(){\n            if(!dirtyFlag[1]) return viewMatrix\n            dirtyFlag[1] = false\n            mat4.lookAt(position, vec3.add(position, forward), up, viewMatrix)\n            return viewMatrix\n        },\n        get viewProjectionMatrix(){\n            mat4.multiply(target.projectionMatrix, target.viewMatrix, viewProjectionMatrix)\n            return viewProjectionMatrix\n        },\n        frustumCulling: instance => frustum.containsSphere(target.viewFrustum, vec4.transform(vec3.translationFromMat4(instance.modelMatrix), target.viewMatrix), instance.boundingSphereRadius)\n\t}\n})","import {factory, tie, Stream} from '../../util'\nimport {mat3, mat4, vec3, vec4, quat, frustum} from '../../math'\n\nfactory.declare('cube:camera', (target, options) => {\n    const cameras = [{\n        up: [0, -1, 0],\n        forward: [1, 0, 0]\n    }, {\n        up: [0, -1, 0],\n        forward: [-1, 0, 0]\n    }, {\n        up: [0, 0, 1],\n        forward: [0, 1, 0]\n    }, {\n        up: [0, 0, -1],\n        forward: [0, -1, 0]\n    }, {\n        up: [0, -1, 0],\n        forward: [0, 0, 1]\n    }, {\n        up: [0, -1, 0],\n        forward: [0, 0, -1]\n    }].map(options => factory.build('perspective:camera', tie({\n        fovy: 0.5 * Math.PI,\n        aspectRatio: 1\n    }, options)))\n    \n\treturn {\n        cube: true,\n        faces: cameras,\n        get zFar(){ return cameras[0].zFar },\n        set zFar(value){ for(let i = cameras.length - 1; i >= 0; cameras[i--].zFar = value); },\n        get zNear(){ return cameras[0].zNear },\n        set zNear(value){ for(let i = cameras.length - 1; i >= 0; cameras[i--].zNear = value); },\n        get position(){ return cameras[0].position },\n        set position(value){ for(let i = cameras.length - 1; i >= 0; cameras[i--].position = value); }\n\t}\n})","import {Stream} from '../../util'\n\nconst Observable = target => {\n    const mutation = Stream(),\n          cleanupProcedures = []\n    \n    return {\n        mutation, cleanupProcedures,\n        delete: _ => {\n            mutation.clear()\n            for(let i = 0; i < cleanupProcedures.length; i++)\n                cleanupProcedures[i].call(target, target)\n            cleanupProcedures.length = 0\n        },\n        onCleanup: procedure => cleanupProcedures.indexOf(procedure) == -1 && cleanupProcedures.push(procedure),\n        propagate: (event, value, context) => mutation.onSuccess(event.context ? event : Observable.MutationEvent(event, value, context))\n        \n    }\n}\n\nObservable.MutationEvent = (event => (eventName, value, context) => {\n    event.eventName = eventName\n    event.value = value\n    event.context = context\n    return event\n})(Object.create(null))\n\nexport {Observable}","import {factory, Stream} from '../../util'\nimport {vec3, quat, mat4} from '../../math'\n\nconst Instance = (target, options) => {\n    const modelMatrix = mat4.identity(),\n          position = vec3.copy(options.position || vec3.ZERO),\n          rotation = quat.copy(options.rotation || quat()),\n          scale = vec3.copy(options.scale || vec3.ONE)\n    let dirtyFlag = true\n    target.mutation = target.mutation.pipe(event => {\n        dirtyFlag = true\n        return event\n    }, false)\n    \n    return {\n        delegate: options.delegate,\n        get position(){ return position },\n        get scale(){ return scale },\n        get rotation(){ return rotation },\n        set position(value){\n            vec3.copy(value, position)\n            target.propagate(0, value, target)\n        },\n        set scale(value){\n            vec3.copy(value, scale)\n            target.propagate(0, value, target)\n        },\n        set rotation(value){\n            quat.copy(value, rotation)\n            target.propagate(0, value, target)\n        },\n        recalculateModelMatrix: _ => {\n            mat4.fromRotationTranslationScale(rotation, position, scale, modelMatrix)\n            target.parent && mat4.multiply(target.parent.modelMatrix, modelMatrix, modelMatrix)\n            dirtyFlag = false\n        },\n        get modelMatrix(){\n            if(dirtyFlag) target.recalculateModelMatrix()\n            return modelMatrix\n        }\n    }\n}\n\nexport {Instance}","import { factory, Stream } from '../../util'\nimport { vec3, quat, mat4 } from '../../math'\n\n//TODO bounding radius should be based on children ??\n\nexport const Node = (target, options) => {\n    const nodes = []\n    let parent = null\n    \n    target.onCleanup(_ => {\n        let idx = nodes.length\n        while(idx--) nodes[idx].delete()\n        parent && parent.removeElement(target)\n    })\n    \n    target.mutation.attach(event => {\n        let idx = nodes.length\n        while(idx--) nodes[idx].propagate(event)\n    }, null, false)\n    \n    return {\n        get parent(){ return parent },\n        set parent(value){ parent = value },\n        get root(){\n            let root = target\n            while(root.parent) root = root.parent\n            return root\n        },\n        get elements(){ return nodes },\n        addElement: (...elements) => (elements.forEach(element => {\n            if(element.parent) element.parent.removeElement(element)\n            nodes.push(element)\n            element.parent = target\n            element.propagate(0, target, element)\n        }), target),\n        removeElement: (...elements) => (elements.forEach(element => {\n            let idx = nodes.indexOf(element)\n            if(idx == -1) return false\n            nodes.splice(idx, 1)\n            element.parent = null\n            element.propagate(0, null, element)\n        }), target)\n    }\n}","import {factory, Stream, tie} from '../../util'\nimport {Observable} from './observable'\nimport {Instance} from './instance'\nimport {Node} from './node'\n\nconst INSTANCE_GROUP = {\n    STATIC: 'static',\n    DYNAMIC: 'dynamic',\n    SKINNED: 'skinned'\n}\n\nfactory.declare('instance', Observable)\n    .declare('instance', Node)\n    .declare('instance', Instance) //TODO allow multiple to pass into factory declaration\n\nfactory.declare('instance', (target, options) => {\n    const highlight = vec3.copy(options.highlight || vec3(1, 1, 1)) //TODO color?\n    \n    return {\n        get highlight(){ return highlight },\n        set highlight(value){ vec3.copy(value, highlight) },\n        visible: true,\n        get boundingSphereRadius(){\n            const radius = target.delegate && target.delegate.data && target.delegate.data.boundingSphereRadius\n            return (radius != null ? radius : 1.0) * Math.max(...target.scale)\n        }\n    }\n})\n\nfactory.declare('scene', (target, options) => {\n    const resourceManager = options.manager,\n          instanceGroups = Object.create(null),\n          resourceMap = Object.create(null)\n    \n\treturn {\n        createInstance: options => {\n            const id = options.url,\n                  group = options.group || INSTANCE_GROUP.STATIC\n            \n            if(!id) return factory.build('instance', tie({ scene: target }, options))\n            \n            if(!resourceMap[id])\n                (instanceGroups[group] = instanceGroups[group] || [])\n                    .push(resourceMap[id] = tie(resourceManager.requestResource(id), {\n                    id, group, instances: []\n                }))\n            \n            const instance = factory.build('instance', tie({ delegate: resourceMap[id] }, options))\n            instance.onCleanup(target.removeInstance.bind(target, instance)) //TODO add when no delegate as well\n            resourceMap[id].instances.push(instance)\n            target.dispatchEvent('instance', instance)\n            return instance\n        },\n        fetchInstancesByGroup: group => instanceGroups[group] || [],\n        removeInstance: instance => {\n            const delegate = instance.delegate\n            if(!delegate) return false\n            delegate.instances.remove(instance)\n            \n            if(delegate.instances.length === 0){\n                instanceGroups[delegate.group].remove(delegate)\n                delete resourceMap[delegate.id]\n                delegate.unload()\n            }\n        }\n\t}\n})","import {factory, Stream} from '../../util'\nimport {vec3, vec4} from '../../math'\n\n//TODO refactor to interpolate between zones and use zone settings\nfactory.declare('scene', (target, options) => {\n    let fogDensity = options.fogDensity || 0.00016\n    const fogColor = vec3.copy(options.fogColor || [1.0, 1.0, 1.0]),\n          mutation = Stream().default({fogColor, fogDensity})\n    \n\treturn {\n        environment: {\n            mutation,\n            get fogDensity(){ return fogDensity },\n            set fogDensity(value){\n                fogDensity !== value && (fogDensity = value)\n                mutation.onSuccess({fogDensity})\n            },\n            get fogColor(){ return fogColor },\n            set fogColor(value){\n                fogColor !== value && vec3.copy(value, fogColor)\n                mutation.onSuccess({fogColor})\n            }\n        }\n\t}\n})","import {factory, Stream} from '../../util'\nimport {vec3, vec4, mat4} from '../../math'\nimport {Observable,Node} from '../instance'\n\nfactory.declare('spotlight', Observable)\nfactory.declare('spotlight', Node)\n\nfactory.declare('spotlight', (target, options) => {\n    const position = vec3.copy(options.position || [0, 0, 0]),\n          destination = vec3.copy(options.destination || [0, -1, 0]),\n          color = vec3.copy(options.color || [1, 1, 1]),\n          camera = factory.build('perspective:camera')\n    let radius = radius = options.radius || 100,\n        outerAngle = options.angle || 0.25 * Math.PI,\n        innerAngle = 0.5 * outerAngle,\n        castShadow = options.castShadow !== undefined ? !!options.castShadow : false\n    let dirtyFlag = true\n    target.mutation.attach(_ => dirtyFlag = true, null, false)\n    \n    return {\n        get camera(){\n            if(!dirtyFlag) return camera\n            dirtyFlag = false\n            \n            //TODO optimise\n            const worldPosition = target.parent ? vec4.transform(position, target.parent.modelMatrix) : position\n            const worldDestination = target.parent ? vec4.transform(destination, target.parent.modelMatrix) : destination\n            const direction = vec3.normalize(vec3.subtract(worldDestination, worldPosition))\n                       \n            camera.position = worldPosition\n            camera.forward = direction\n            camera.zNear = radius * 0.001\n            camera.zFar = 2 * radius\n            camera.fovy = outerAngle * 2.0\n            camera.aspectRatio = 1\n            camera.up = Math.abs(direction[1]) > 0.9 ? vec3.AXIS_Z : vec3.AXIS_Y\n            return camera\n        },\n        get castShadow(){ return castShadow },\n        get position(){ return position },\n        get destination(){ return destination },\n        get direction(){ return target.camera.forward },\n        get color(){ return color },\n        get radius(){ return radius },\n        get angle(){ return outerAngle },\n        get cosOuterAngle(){ return Math.cos(outerAngle) },\n        get cosInnerAngle(){ return Math.cos(innerAngle) },\n        set castShadow(value){\n            castShadow = !!value\n        },\n        set color(value){\n            vec3.copy(value, color)\n        },\n        set angle(value){\n            outerAngle = value\n            innerAngle = 0.5 * value\n            dirtyFlag = true\n        },\n        set position(value){\n            vec3.copy(value, position)\n            dirtyFlag = true\n        },\n        set destination(value){\n            vec3.copy(value, destination)\n            dirtyFlag = true\n        },\n        set radius(value){\n            radius = value\n            dirtyFlag = true\n        },\n        queryShadowcasters: _ => options.queryShadowcasters().filter(instance => target.camera.frustumCulling(instance)),\n        get boundingSphereRadius(){ return radius }\n    }\n})","import {factory, Stream} from '../../util'\nimport {vec3, vec4, mat4} from '../../math'\nimport {Observable,Node} from '../instance'\n\nfactory.declare('omnilight', Observable)\nfactory.declare('omnilight', Node)\n\nfactory.declare('omnilight', (target, options) => {\n    const position = vec3.copy(options.position || [0, 0, 0]),\n          color = vec3.copy(options.color || [1, 1, 1]),\n          camera = factory.build('cube:camera')\n    let radius = radius = options.radius || 100,\n        castShadow = options.castShadow !== undefined ? !!options.castShadow : false\n    let dirtyFlag = true\n    target.mutation.attach(_ => dirtyFlag = true, null, false)\n    \n    return {\n        get camera(){\n            if(!dirtyFlag) return camera\n            dirtyFlag = false\n            \n            camera.position = target.parent ? vec4.transform(position, target.parent.modelMatrix) : position\n            //TODO set zNear and zFar\n            return camera\n        },\n        get castShadow(){ return castShadow },\n        get position(){ return position },\n        get color(){ return color },\n        get radius(){ return radius },\n        set castShadow(value){\n            castShadow = !!value\n        },\n        set color(value){\n            vec3.copy(value, color)\n        },\n        set position(value){\n            vec3.copy(value, position)\n            dirtyFlag = true\n        },\n        set radius(value){\n            radius = value\n            dirtyFlag = true\n        },\n        queryShadowcasters: face => options.queryShadowcasters().filter(instance => target.camera.faces[face].frustumCulling(instance)),\n        get boundingSphereRadius(){ return radius }\n    }\n})","import {factory, Stream} from '../../util'\nimport {vec3, vec4, mat4} from '../../math'\nimport {Observable} from '../instance'\n\nfactory.declare('hemisphere', Observable)\n\nfactory.declare('hemisphere', (target, options) => {\n    const up = vec3.copy(options.up || [0, 1, 0]),\n          skyColor = vec3.copy(options.skyColor || [1, 1, 1]),\n          groundColor = vec3.copy(options.groundColor || [0, 0, 0])\n    //TODO add boundingSphereRadius and position\n    return {\n        get up(){ return up },\n        get skyColor(){ return skyColor },\n        get groundColor(){ return groundColor },\n        set up(value){\n            vec3.copy(value, up)\n        },\n        set skyColor(value){\n            vec3.copy(value, skyColor)\n        },\n        set groundColor(value){\n            vec3.copy(value, groundColor)\n        }\n    }\n})","import {factory, tie, Signal, Stream} from '../../util'\nimport {vec3, vec4, mat4} from '../../math'\n\nfactory.declare('scene', (target, options) => {\n    const lights = [],\n          queryShadowcasters = _ => target.fetchInstancesByGroup('static').filter(mesh => mesh.loaded).map(mesh => mesh.instances).flatten()\n    //TODO add bounding sphere parameter for faster look up\n    \n\treturn {\n        lights,\n        createLight: options => {\n            let light = tie(factory.build(options.type, options), { type: options.type, queryShadowcasters })\n            light.onCleanup(lights.remove.bind(lights, light))\n            lights.push(light)\n            target.dispatchEvent('light', light)\n            return light\n        }\n\t}\n})","import { factory, tie, Signal } from '../../util'\nimport { Observable, Instance } from '../instance'\n\nfactory.declare('scene', (target, options) => {\n    const resourceManager = options.manager\n    const audioSources = []\n    \n    target.addEventListener('update', deltaTime => {\n        deltaTime *= 0.001\n        for(let i = audioSources.length - 1; i >= 0; i--)\n            audioSources[i].time += deltaTime\n    })\n    \n    return {\n        createAudioSource: options => {\n            const source = resourceManager.requestResource(options.url)\n            \n            const instance = factory.build('audio_source', options)\n            target.dispatchEvent('audio_source', instance, source)\n            audioSources.push(instance)\n            instance.onCleanup(audioSources.remove.bind(audioSources, instance))\n            return instance\n        }\n    }\n})\n\nfactory.declare('audio_source', Observable)\nfactory.declare('audio_source', Instance)\nfactory.declare('audio_source', (target, options) => {\n    options = Object.assign({\n        volume: 1,\n        loop: true,\n        startTime: null\n    }, options)\n    \n    return {\n        time: 0,\n        startTime: options.startTime,\n        get volume(){ return options.volume },\n        get loop(){ return options.loop },\n        set volume(value){\n            options.volume = value\n            target.propagate(0, value, target)\n        },\n        set loop(value){\n            options.loop = value\n            target.propagate(0, value, target)\n        },\n        play(){\n            target.startTime = target.time\n            target.propagate(0, null, target)\n        },\n        stop(){\n            target.startTime = null\n            target.propagate(0, null, target)\n        }\n    }\n})","import { Octree, vec3 } from '../../math'\n\nconst OctreeObjectSegmentMappers = {\n    boundingSphere: object => [{\n        get radius(){ return object.boundingSphereRadius },\n        get position(){ return object.cachedPosition = vec3.translationFromMat4(object.modelMatrix, object.cachedPosition || vec3()) }\n    }]\n}\n\nconst BinaryPartitionTree = options => {\n    const octree = Octree({overlapPercent: 0.15, objectsThreshold: 8})\n    \n    return {\n        octree,\n        add: (object, options) => {\n            octree.add(object, OctreeObjectSegmentMappers.boundingSphere)\n        },\n        search: (ray, radius, options) => {\n            let result = octree.search(ray.origin, radius, ray.direction, { groupByObject: true })\n            return result.map(o => o.object)\n        },\n        update: _ => {\n            octree.rebuild()\n            octree.update()\n        },\n        remove: object => {\n            octree.remove(object)\n        }\n    }\n}\n\t\nexport {BinaryPartitionTree, OctreeObjectSegmentMappers}","import {factory, defer} from '../../util'\nimport {vec3, mat4, Raycaster} from '../../math'\nimport {BinaryPartitionTree} from './bsp'\n\nfactory.declare('scene', (target, options) => {\n    const bsp = BinaryPartitionTree() //TODO: separate BSP for dynamic and static objects\n    //const grid = Grid()\n    const entities = []\n    \n\treturn {\n        bsp,\n        removeInstance: (base => instance => {\n            entities.remove(instance)\n            bsp.remove(instance)\n            return base(instance)\n        })(target.removeInstance),\n        createInstance: (base => options => {\n            const instance = base(options)\n            //TODO: save to queue, for removing it later, if it wasn't loaded yet\n            if(options.trackSpatial){\n                instance.delegate ? instance.delegate.loadEvent.listen(bsp.add.bind(bsp, instance)) : bsp.add(instance)\n                entities.push(instance)\n            }\n            \n            return instance\n        })(target.createInstance),\n        update: (deltaTime => {\n            bsp.update()//TODO validate performance\n        }).extend(target.update),\n        raytrace: sceenCoords => {\n            const raycaster = Raycaster.fromCamera(target.camera, sceenCoords)\n            return bsp.search(raycaster.ray, Infinity)\n            .filter(entity => raycaster.intersect(entity)) //TODO should raycaster know about modelMatrices etc?\n        },\n        get entities(){ return entities }\n\t}\n})","import {factory, defer, tie, Signal} from '../../util'\nimport {vec3, mat4, StaticClusterPartitioning} from '../../math'\n\nfactory.declare('scene', (target, options) => {\n    const clusterPartitioning = StaticClusterPartitioning({ worldScale: 100 }),\n          mutatedInstances = [],\n          mutatedClusters = [],\n          addDeferredInstance = instance => mutatedInstances.indexOf(instance) == -1 && mutatedInstances.push(instance),\n          addDeferredCluster = cluster => {\n              if(cluster.awaitEvent) return false\n              const loadQueue = cluster.pointers\n              .unique(instance => instance.delegate.id)\n              .map(instance => instance.delegate.loadEvent)\n              .filter(signal => !signal.status)\n              if(!loadQueue.length) return clusterPartitioning.dispatchEvent('complete', cluster), true\n              cluster.awaitEvent = Signal.all(loadQueue).pipe(_ => addDeferredCluster((cluster.awaitEvent = false, cluster)))\n          }\n    \n    clusterPartitioning.addEventListener('add', cluster => mutatedClusters.indexOf(cluster) == -1 && mutatedClusters.push(cluster))\n    \n    target.addEventListener('update', function(){\n        if(mutatedInstances.length){\n            mutatedInstances.forEach(instance => {\n                const worldPosition = vec3.translationFromMat4(instance.modelMatrix)\n                clusterPartitioning.add(worldPosition, instance)\n            })\n            mutatedInstances.length = 0\n            \n            mutatedClusters.forEach(addDeferredCluster)\n            mutatedClusters.length = 0\n        }\n    })\n    \n\treturn {\n        clusterPartitioning,\n        createInstance: (base => options => {\n            const instance = base(options)\n            \n            if(instance.delegate && instance.delegate.group === 'static'){\n                addDeferredInstance(instance)\n                instance.onCleanup(mutatedInstances.remove.bind(mutatedInstances, instance))\n                instance.onCleanup(clusterPartitioning.remove.bind(clusterPartitioning, instance))\n                instance.mutation.pipe(addDeferredInstance.bind(null, instance))\n            }\n            \n            return instance\n        })(target.createInstance)\n\t}\n})","import {factory, tie, Signal, Stream} from '../../util'\nimport {vec3, vec4, mat4} from '../../math'\nimport {Observable, Instance} from '../instance'\n\nfactory.declare('scene', (target, options) => {\n    const resourceManager = options.manager,\n          particleEmitters = Object.create(null)\n    \n    target.addEventListener('update', deltaTime => {\n        deltaTime = Math.min(1e3/60, 0.001 * deltaTime)\n        Object.values(particleEmitters).forEach(emitter => {\n            emitter.instances.forEach(instance => instance.advanceTime(deltaTime))\n            emitter.delegate && emitter.delegate.advanceTime(deltaTime)\n        })\n    })\n    \n\treturn {\n        defineParticleSystem: options => {\n            particleEmitters[options.name] = tie(options, {\n                instances: [],\n                texture: typeof options.texture === 'string' ? resourceManager.requestResource(options.texture) : options.texture,\n                //TODO how to specify one of defaults?\n                //TODO clear\n            })\n            return target\n        },\n        createParticleEmitter: options => {\n            const particleSystem = particleEmitters[options.type]\n            if(!particleSystem) throw new Error(`Particle System \"${options.type}\" not defined.`)\n            const instance = factory.build('particle_emitter', Object.assign({ emitter: particleSystem }, options))\n            particleSystem.instances.push(instance)\n            target.dispatchEvent('particle_emitter', instance, particleSystem)\n            instance.onCleanup(particleSystem.instances.remove.bind(particleSystem.instances, instance)) //TODO resource release(textures etc)?\n            return instance\n        }\n\t}\n})\n\nfactory.declare('particle_emitter', Observable)\nfactory.declare('particle_emitter', Instance)\nfactory.declare('particle_emitter', (target, options) => { //TODO pass delegate, put more control into this class\n    \n    \n    return {\n        time: options.timeOffset || 0,\n        frequency: options.emitter.frequency || 0,\n        visible: true,\n        get boundingSphereRadius(){ return options.emitter.delegate ? options.emitter.delegate.radius : 0 },\n        advanceTime: options.emitter.static ?\n        deltaTime => target.time += deltaTime :\n        deltaTime => {\n            target.time += deltaTime\n            let amountToSpawn = target.frequency && Math.floor(target.time / target.frequency)\n            if(amountToSpawn <= 0 || !options.emitter.delegate) return false\n            target.time -= amountToSpawn * target.frequency\n            options.emitter.delegate.emitParticles(amountToSpawn, target.modelMatrix)\n        },\n        trigger: _ => {\n            //TODO loop once and then set visible to false\n        }\n    }\n})","import { factory, tie, Signal, Stream } from '../../util'\nimport { vec3, vec4, mat4 } from '../../math'\nimport { Observable, Instance } from '../instance'\n\nfactory.declare('scene', (target, options) => {\n    const resourceManager = options.manager\n    const surfaces = []\n    \n    target.addEventListener('update', deltaTime => {\n        deltaTime *= 1e-3\n        for(let i = surfaces.length - 1; i >= 0; i--)\n            surfaces[i].advanceTime(deltaTime)\n    })\n    \n\treturn {\n        surfaces,\n        createLiquidSurface: options => {\n            const instance = factory.build('liquid_surface', options)\n            surfaces.push(instance)\n            target.dispatchEvent('liquid_surface', instance)\n            instance.onCleanup(surfaces.remove.bind(surfaces, instance))\n            return instance\n        }\n\t}\n})\n\nfactory.declare('liquid_surface', Observable)\nfactory.declare('liquid_surface', Instance)\nfactory.declare('liquid_surface', (target, options) => {\n    \n    return {\n        frequency: 0.16,\n        choppiness: 4,\n        height: 1,\n        color: vec3.copy(options.color || vec3.ZERO),\n        time: options.timeOffset || 0,\n        visible: true,\n        get boundingSphereRadius(){ return 100 * Math.max(...target.scale) },\n        advanceTime: deltaTime => target.time += deltaTime\n    }\n})","import {factory, tie, Stream} from '../../util'\nimport {mat3, mat4, vec3, vec4, quat, dualquat, greatestCommonDivisor} from '../../math'\n\nconst TIME_RESOLUTION = 1e3\n\nfactory.declare('timeline', (target, options) => {\n    const DQS = options.dualQuatSkinning,\n          frames = !DQS ? options.frames : options.frames.map(frame => Object.assign(frame, {transform: dualquat.fromRotationTranslation(frame.rotation, frame.position)})),\n          startTime = frames[0].time,\n          endTime = frames[frames.length - 1].time,\n\t\t  minInterval = Array.range(frames.length - 1)\n\t\t  .map(idx => frames[idx+1].time - frames[idx].time)\n\t\t  .map(duration => Math.floor(duration * TIME_RESOLUTION))\n\t\t  .reduce(greatestCommonDivisor) / TIME_RESOLUTION,\n          pointerArray = new Uint16Array(minInterval ? Math.floor((endTime-startTime)/minInterval) + 1 : 0),\n          interpolatedFrame = !DQS ? {position: vec3(), rotation: quat()} : {transform: dualquat()}\n    for(let p = 0, i = 0; p < pointerArray.length && i < frames.length; frames[i].time-startTime > (p+0.5)*minInterval ? pointerArray[++p] = i - 1 : pointerArray[p] = Math.min(frames.length - 2, i++));\n    \n    return {\n        sample: !DQS ? time => {\n            if(time < startTime || minInterval === 0) return frames[0]\n            if(time > endTime) return frames[frames.length - 1]\n            \n            const frameIdx = pointerArray[Math.floor((time-startTime)/minInterval)],\n                  frame = frames[frameIdx],\n                  nextFrame = frames[frameIdx+1],\n                  factor = (time - frame.time)/(nextFrame.time - frame.time)\n            vec3.lerp(frame.position, nextFrame.position, factor, interpolatedFrame.position)\n            quat.slerp(frame.rotation, nextFrame.rotation, factor, interpolatedFrame.rotation)\n            return interpolatedFrame\n        } : time => {\n            if(time < startTime || minInterval === 0) return frames[0]\n            if(time > endTime) return frames[frames.length - 1]\n            const frameIdx = pointerArray[Math.floor((time-startTime)/minInterval)],\n                  frame = frames[frameIdx],\n                  nextFrame = frames[frameIdx+1],\n                  factor = (time - frame.time)/(nextFrame.time - frame.time)\n            dualquat.lerp(frame.transform, nextFrame.transform, factor, interpolatedFrame.transform)\n            return interpolatedFrame\n        },\n        get duration(){ return endTime }\n    }\n})","import {factory, tie, Stream} from '../../util'\nimport {mat3, mat4, vec3, vec4, quat, dualquat} from '../../math'\n\nfactory.declare('animation', (target, options) => {\n    const DQS = options.dualQuatSkinning,\n          layers = options.layers.map(bones => bones.map(frames => factory.build('timeline', {frames, dualQuatSkinning: DQS}))),\n          duration = layers.map(timelines => timelines.reduce((duration, timeline) => Math.max(duration, timeline.duration), 0)),\n          accPosition = vec3(), accRotation = quat(),\n          frameTransform = !DQS ? mat4.identity() : dualquat()\n    return {\n        getLayerLength: layer => duration[layer],\n        sample: !DQS ? (boneId, mixer) => {\n            if(mixer.length === 1){\n                const clip = mixer[0],\n                      clipDuration = duration[clip.layer],\n                      sampler = layers[clip.layer][boneId]\n                if(!sampler) return false\n                const frame = sampler.sample(clip.crop(clipDuration))\n                return mat4.fromRotationTranslationScale(frame.rotation, frame.position, [1,1,1], frameTransform)\n            }else if(mixer.length > 1){\n                vec3.copy([0, 0, 0], accPosition)\n                vec4.copy([0, 0, 0, 0], accRotation)\n                mixer.forEach(clip => {\n                    const clipDuration = duration[clip.layer],\n                          frame = layers[clip.layer][boneId].sample(clip.crop(clipDuration)), //TODO if sampler is not existant?\n                          framePosition = frame.position,\n                          frameRotation = frame.rotation,\n                          weight = clip.weight || 0\n                    accPosition[0] += weight * framePosition[0]\n                    accPosition[1] += weight * framePosition[1]\n                    accPosition[2] += weight * framePosition[2]\n\n                    accRotation[0] += weight * frameRotation[0]\n                    accRotation[1] += weight * frameRotation[1]\n                    accRotation[2] += weight * frameRotation[2]\n                    accRotation[3] += weight * frameRotation[3]\n                })\n                return mat4.fromRotationTranslationScale(accRotation, accPosition, [1,1,1], frameTransform)\n            }\n        } : (boneId, mixer) => {\n            if(mixer.length === 1){\n                const clip = mixer[0],\n                      clipDuration = duration[clip.layer],\n                      sampler = layers[clip.layer][boneId]\n                if(!sampler) return false\n                const frame = sampler.sample(clip.crop(clipDuration))\n                return dualquat.copy(frame.transform, frameTransform)\n            }else if(mixer.length > 1){\n                dualquat.copy([0, 0, 0, 0, 0, 0, 0, 0], frameTransform)\n                mixer.forEach(clip => {\n                    const clipDuration = duration[clip.layer],\n                          frame = layers[clip.layer][boneId].sample(clip.crop(clipDuration)), //TODO if sampler is not existant?\n                          transform = frame.transform,\n                          weight = clip.weight || 0\n                    frameTransform[0] += weight * transform[0]\n                    frameTransform[1] += weight * transform[1]\n                    frameTransform[2] += weight * transform[2]\n                    frameTransform[3] += weight * transform[3]\n                    frameTransform[4] += weight * transform[4]\n                    frameTransform[5] += weight * transform[5]\n                    frameTransform[6] += weight * transform[6]\n                    frameTransform[7] += weight * transform[7]\n                })\n                return frameTransform\n            }\n        }\n    }\n})","import {factory, tie, Stream, snapshot} from '../../util'\nimport {mat3, mat4, vec3, vec4, quat, dualquat} from '../../math'\n\nfactory.declare('armature', (target, options) => {\n    options.dualQuatSkinning = true\n    \n    const DQS = options.dualQuatSkinning,\n          TRANSFORM_MATRIX_SIZE = !DQS ? 4 * 3 : 8,\n          bones = snapshot(options.bones.slice(1)),\n          animation = options.animation && factory.build('animation', {layers: options.animation, dualQuatSkinning: DQS}),\n          transformArray = new Float32Array(bones.length * TRANSFORM_MATRIX_SIZE),\n          transform = [],\n          worldTransform = [],\n          tempMat = mat4()\n    bones.forEach((bone, offsetId) => {\n        Object.assign(bone, {id: offsetId + 1, invBindPose: mat4.invert(bone.bindPose)})\n        transform[bone.id] = new Float32Array(transformArray.buffer, Float32Array.BYTES_PER_ELEMENT * TRANSFORM_MATRIX_SIZE * offsetId, TRANSFORM_MATRIX_SIZE)\n        mat4.copy(mat4.identity(), transform[bone.id])\n        if(DQS){\n            bone.localTransform = dualquat.fromMat4(bone.localTransform)\n            bone.invBindPose = dualquat.fromMat4(bone.invBindPose)\n            worldTransform[bone.id] = dualquat()\n        }else{\n            worldTransform[bone.id] = mat4.identity()\n        }\n    })\n    return {\n        get bones(){ return bones },\n        get animation(){ return animation },\n        get worldTransform(){ return worldTransform },\n        get transform(){ return transform },\n        update: !DQS ? mixer => {\n            bones.forEach(bone => {\n                const boneId = bone.id,\n                      parentBoneId = bone.parent,\n                      frameTransform = animation.sample(boneId, mixer) || bone.localTransform\n                      \n                mat4.copy(frameTransform, worldTransform[boneId])\n                \n                if(parentBoneId > 0)\n                    mat4.multiply(worldTransform[parentBoneId], worldTransform[boneId], worldTransform[boneId])\n                \n                mat4.transpose(mat4.multiply(worldTransform[boneId], bone.invBindPose, tempMat), transform[boneId])\n                //For matrices *16 transpose can be omitted.\n                //mat4.multiply(worldTransform[boneId], bone.invBindPose, transform[boneId])\n            })\n        } : mixer => {\n            bones.forEach(bone => {\n                const boneId = bone.id,\n                      parentBoneId = bone.parent,\n                      frameTransform = animation.sample(boneId, mixer) || bone.localTransform\n                      \n                dualquat.copy(frameTransform, worldTransform[boneId])\n                \n                if(parentBoneId > 0)\n                    dualquat.multiply(worldTransform[parentBoneId], worldTransform[boneId], worldTransform[boneId])\n                \n                dualquat.multiply(worldTransform[boneId], bone.invBindPose, transform[boneId])\n            })\n        },\n        get jointMatrixArray(){ return transformArray }\n    }\n})","const AnimationClip = (layer, repeat = -1, scale = 1) => Object.setPrototypeOf({\n    layer, repeat, scale,\n    time: 0.0,\n    weight: 1.0\n}, AnimationClip.prototype)\n\nAnimationClip.prototype = {\n    crop: function(duration){\n        if(this.time > duration){\n            if(this.repeat != -1) this.repeat = Math.max(this.repeat - Math.floor(this.time / duration), 0)\n            this.time = this.time % duration\n        }\n        return this.time\n    }\n}\n\nexport {AnimationClip}","import {factory} from '../util'\nimport {AnimationClip} from './clip'\n\n\n\nfactory.declare('instance', (target, options) => {\n    if(options.group !== 'skinned') return null\n    const mixerStack = []\n\n    return {\n        get animationClip(){ return mixerStack },\n        update: (deltaTime => {\n            for(let i = mixerStack.length - 1; i >= 0; i--){\n                let clip = mixerStack[i]\n                clip.time += clip.scale * deltaTime/1000\n                if(clip.repeat == 0) mixerStack.splice(i, 1)\n            }\n        }).extend(target.update),\n        insertClip: (layer, repeat, scale) => { //TODO blending\n            mixerStack.push(AnimationClip(layer, repeat, scale))\n        }\n    }\n})\n\nfactory.declare('scene', target => {\n    target.addEventListener('update', deltaTime => {\n        target.fetchInstancesByGroup('skinned').forEach(mesh => mesh.instances.forEach(instance => instance.update(deltaTime)))\n    })\n})","import { factory } from '../util'\nimport {mat3, mat4, vec3, vec4, quat, dualquat} from '../math'\n\nconst defaultTransform = mat4.identity()\nconst tempTransform = mat4()\n\nfactory.declare('instance', (target, options) => {\n    if(options.group !== 'skinned') return null\n    \n    let boundRagdoll = null\n    target.onCleanup(function(){\n        if(boundRagdoll) boundRagdoll.delete()\n        boundRagdoll = false\n    })\n    function findImposter(bones, bone){\n        while(bone){\n            let imposter = boundRagdoll.imposterMap[bone.id]\n            if(imposter) return imposter\n            bone = bones[bone.parent - 1]\n        }\n    }\n    \n    return {\n        bindRagdoll(builder){\n            target.delegate.loadEvent.listen(function(){\n                if(boundRagdoll !== null) return\n                const data = target.delegate.data\n                const bones = data.armature.bones\n\n                boundRagdoll = builder(bones)\n            })\n        },\n        update: (deltaTime => {\n            if(boundRagdoll && target.ragdollEnabled){\n                target.position = boundRagdoll.position\n                if(target.parent) vec4.transform(target.position, mat4.invert(target.parent.modelMatrix), target.position)\n            }\n        }).extend(target.update),\n        applyTransform: armature => {\n            if(!boundRagdoll || !target.ragdollEnabled) return\n            const invModelMatrix = mat4.invert(target.modelMatrix)\n            \n            //TODO only works for DQS\n            for(let i = armature.bones.length - 1; i >= 0; i--){\n                let bone = armature.bones[i]\n                const boneId = bone.id\n                let frameTransform = defaultTransform\n                \n                const imposter = findImposter(armature.bones, bone)\n                if(imposter){\n                    const localTransform = mat4.fromRotationTranslationScale(imposter.quaternion, imposter.position, vec3.ONE, tempTransform)\n                    mat4.multiply(invModelMatrix, localTransform, localTransform)\n                    mat4.multiply(localTransform, imposter.invBindPose, localTransform)\n                    frameTransform = localTransform\n                }\n\n                dualquat.fromMat4(frameTransform, armature.transform[boneId])\n            }\n        }\n    }\n})","import {factory, Signal} from '../util'\n\nfactory.declare('interaction', (target, options) => {\n    \n    return {\n    }\n})","import {factory, Signal, Stream} from '../util'\nimport {vec2} from '../math'\n\nconst MOUSE = {\n    LEFT_CLICK: 0,\n    MIDDLE_CLICK: 1,\n    RIGHT_CLICK: 2\n}\n\nfactory.declare('interaction', (target, options) => { //TODO event propagation\n    const capture = options.capture || window,\n          position = vec2(),\n          prevPosition = vec2(),\n          mouseState = []\n    \n    capture.addEventListener('mousedown', event => {\n\t\tif(event.gesture) return\n        mouseState[event.button] = true\n    })\n    \n    capture.addEventListener('mouseup', event => {\n        mouseState[event.button] = false\n    })\n    \n    capture.addEventListener('mousemove', event => {\n        //const mousePosition = vec2(evt.offsetX, evt.offsetY),\n        //      direction = vec2.subtract(mousePosition, position)\n        //move.onSuccess({direction})\n        \n        if(target.pointerLocked){\n            let sensitivity = 0.5\n            position[0] += sensitivity * (event.movementX || event.mozMovementX || event.webkitMovementX || 0)\n            position[1] += sensitivity * (event.movementY || event.mozMovementY || event.webkitMovementY || 0)\n        }else{\n            position[0] = event.clientX //offsetX\n            position[1] = event.clientY\n        }\n    })\n    \n    capture.addEventListener('mousewheel', event => {\n        event.preventDefault()\n        event.stopPropagation()\n    }, { passive: false })   \n\n    return {\n        mouse: {\n            get position(){\n                const screenSpaceCoords = vec2.copy(position)\n                screenSpaceCoords[0] = (screenSpaceCoords[0] / window.innerWidth) * 2 - 1 //use capture width/height?\n                screenSpaceCoords[1] = -(screenSpaceCoords[1] / window.innerHeight) * 2 + 1\n                return screenSpaceCoords\n            },\n            get left(){ return mouseState[MOUSE.LEFT_CLICK] },\n            get middle(){ return mouseState[MOUSE.MIDDLE_CLICK] },\n            get right(){ return mouseState[MOUSE.RIGHT_CLICK] },\n            get hold(){ return mouseState[MOUSE.LEFT_CLICK] },//TODO remove\n            get delta(){\n                const direction = vec2.subtract(position, prevPosition)\n                vec2.copy(position, prevPosition)\n                return direction\n            }\n        }\n    }\n})","import {factory, Signal, Stream} from '../util'\n\nconst KEY_BINDINGS = {\n    'W': 87,\n    'A': 65,\n    'S': 83,\n    'D': 68,\n    \n    'UP': 38,\n    'DOWN': 40,\n    'LEFT': 37,\n    'RIGHT': 39,\n    \n    'CTRL': 17,\n    'SPACE': 32\n}\n\nfactory.declare('interaction', (target, options) => {\n    const keys = []\n    \n    window.addEventListener('keydown', evt => {\n        const key = evt.which || evt.keyCode || 0\n        keys[key] = true\n    })\n\n    window.addEventListener('keyup', evt => {\n        const key = evt.which || evt.keyCode || 0\n        keys[key] = false\n    })\n    \n    return {\n        keyboard: {\n            getKey: keyName => keys[KEY_BINDINGS[keyName]]\n        }\n    }\n})\n\nexport {KEY_BINDINGS}","import {factory, Signal, Stream} from '../util'\nimport {vec2} from '../math'\n\nfactory.declare('interaction', (target, options) => {\n    const capture = options.capture || window\n    \n    return {\n        \n    }\n})","import {factory, Signal, Stream, unCapitalize} from '../util'\n\n\n//TODO isn't that more of the device screen functionality? like fullscreen, should be bound to canvas element?\nfactory.declare('interaction', (target, options) => {\n    const prefix = ['', 'ms', 'moz', 'webkit'].find(prefix => (unCapitalize(prefix + 'PointerLockElement') in window.document))\n    if(prefix == null) return false\n    \n    let pointerLocked = false\n    \n    window.document.addEventListener(prefix + 'pointerlockchange', event => {\n        pointerLocked = !pointerLocked\n    }, false)\n    window.document.addEventListener(prefix + 'pointerlockerror', event => {\n        \n    }, false)\n    //TODO change\n    const requestPointerlock = _ => {\n        let f = unCapitalize(prefix + 'RequestPointerLock')\n        window.document.body[f]()\n    }\n    //TODO temporary remove \n    window.document.addEventListener('mousedown', event => {\n        if(pointerLocked) return\n        requestPointerlock()\n\t\tevent.gesture = 'pointerlock'\n    }, false)\n    \n    return {\n        get pointerLocked(){ return pointerLocked }\n    }\n})","export * from './interaction'\nexport * from './mouse'\nexport * from './keyboard'\nexport * from './touchpad'\nexport * from './pointerlock' //TODO is that interaction?\n","import {tie, factory} from '../util'\nimport {EventEmitter} from '../events'\n\nfactory.declare('application', target => {\n    const ctx = factory.build('gl_context', {manager: target}),\n          interaction = factory.build('interaction', {element: ctx.canvas}),\n          scene = factory.build('scene', {manager: target}),\n          audio = factory.build('audio_context', { scene }),\n          physics = factory.build('physics'),\n          screen = factory.build('screen'),\n          time = factory.build('time')\n    \n    window.document.body.appendChild(ctx.canvas)\n    \n    screen.resize.pipe(event => {\n        ctx.resize(event.screen.width, event.screen.height)\n        scene.camera.resize(event.screen)\n    }).fix(e => console.error(e))\n    \n    screen.focus.pipe(event => {\n        audio.pause = !event.focus\n    })\n    \n    time.start().pulse.pipe(event => {\n        target.dispatchEvent('update', event.deltaTime)\n        physics.update(1/60)\n        scene.update(event.deltaTime)\n        ctx.render(scene)\n    }).fix(e => console.error(e))\n    \n    return tie({ ctx, audio, screen, time, scene, physics, interaction }, EventEmitter())\n})","import {factory, Queue, Signal} from '../util'\n\nfactory.declare('application', target => {\n    const time = target.time,\n          tasks = Queue(),\n          maxInterval = 1000 / 60,\n          thresholdStep = 250 / 60\n    let elapsedTime = 0,\n        threshold = 0,\n        task = null\n    \n    time.pulse.pipe(event => {\n        let prevTimestamp = event.timestamp\n        elapsedTime = time.timestamp - prevTimestamp - threshold\n        threshold = Math.max(0, threshold + (elapsedTime > maxInterval ? thresholdStep : -thresholdStep))\n        while(elapsedTime < maxInterval && (task = tasks.shift())) elapsedTime = (task(), time.timestamp - prevTimestamp)\n    }).fix(e => console.error(e))\n    \n    return {\n        get tasks(){ return tasks },\n        schedule: (task, duplicate = true) => duplicate ? tasks.push(task) : (tasks.hasElement(task) || tasks.push(task)),\n        deferIteration: (processor, end, begin = 0, chunkMaxSize = Number.MAX_SAFE_INTEGER, out) => Signal(done => {\n            for(let offset = begin; offset < end; offset += chunkMaxSize)\n                target.schedule(target.iterateChunk.bind(target, processor, offset + Math.min(chunkMaxSize, end - offset), offset))\n            target.schedule(done.bind(null, out))\n        }),\n        iterateChunk: (processor, end, begin = 0) => { for(let i = begin; i < end; processor(i++)); },\n        deferredMap: (processor, array, chunkMaxSize, out = []) => target.deferIteration(i => out[i] = processor(array[i], i, array), array.length, 0, chunkMaxSize, out),\n        runGenerator: generator => Signal(done => {\n            const next = _ => {\n                const generatorState = generator.next()\n                generatorState.done ? done(generatorState.value) : target.schedule(next)\n            }\n            target.schedule(next)\n        })\n    }\n})\n\nconst immediateInvoker = { schedule: task => task() }\n\nexport {immediateInvoker}","import {factory, Queue, Signal, path} from '../util'\n\nfactory.declare('application', target => {\n    const loader = factory.build('loader', {manager: target}),\n          GLContext = target.ctx,\n          audioContext = target.audio,\n          resources = Object.create(null)\n    \n    return {\n        unloadResource: url => { //TODO handle resource management, defer\n            if(!resources[url].loaded) return false\n            if(resources[url].data.unload) resources[url].data.unload() //TODO save timestamp for threshold to delete resource?\n            delete resources[url]\n        },\n        requestResource: url => resources[url] || (resources[url] = {\n            loaded: false,\n            unload: target.unloadResource.bind(target, url),\n            loadEvent: loader.fetch(url).split(\n                resource => {\n                    if(resource.type !== loader.RESOURCE_TYPE.MESH) return null\n                    return GLContext.uploadMeshData(resource.data, null, false)\n                        .pipe(mesh => (mesh.materials.forEach(material => material.textures = material.textures || material.textureNames\n                                                .filter(x => x)\n                                                .map(filename => path(url).base + filename)\n                                                .map(fullpath => target.requestResource(fullpath))), mesh))\n                },\n                resource => {\n                    if(resource.type !== loader.RESOURCE_TYPE.TEXTURE) return null\n                    return GLContext.uploadTexture(resource.data)\n                },\n                resource => {\n                    if(resource.type !== loader.RESOURCE_TYPE.AUDIO) return null\n                    return audioContext.uploadAudioBuffer(resource.data)\n                },\n                any => {\n                    if(!loader.pending.length) GLContext.deferredDataUpload()\n                    return null\n                }\n            ).pipe(responses => responses.find(x => x))\n            .pipe(resource => {\n                resources[url].loaded = true\n                resources[url].data = resource\n                return true\n            })\n        })\n    }\n})","import {factory} from '../util'\nimport {passes} from '../graphics'\n\nfactory.declare('application', target => {\n    const GLContext = target.ctx,\n          scene = target.scene\n    \n    GLContext.pipeline\n    .pass(passes.SkyboxPass(GLContext, scene))\n    .pass(passes.StaticGeometryPass(GLContext, scene, true))\n    .pass(passes.SkinnedGeometryPass(GLContext, scene))\n    .pass(passes.RealtimeLightingPass(GLContext, scene))\n    .pass(passes.DecalGeometryPass(GLContext, scene, true))\n    .pass(passes.LiquidSurfacePass(GLContext, scene))\n    .pass(passes.ParticleEffectPass(GLContext, scene))\n    //TODO dynamic pipeline management\n\n    return {\n\n    }\n})","import {vglsl} from '../../graphics/vglsl'\n\nconst flat_color = {\n    vert: vglsl.createShader()\n    .attribute('vec3', 'position')\n    .attribute('vec3', 'normal')\n    .uniform('mat4', 'projectionMatrix')\n    .uniform('mat4', 'modelViewMatrix')\n    .varying('vec3', 'normalPass')\n    \n    .main([\n        'vec4 viewPosition = modelViewMatrix * vec4(position, 1.0);',\n        'vec4 viewNormal = modelViewMatrix * vec4(normal, 0.0);',\n        'normalPass = viewNormal.xyz;',\n        'gl_Position = projectionMatrix * viewPosition;'\n    ]),\n    frag: vglsl.createShader()\n    .varying('vec3', 'normalPass')\n    .uniform('vec3', 'color')\n    .main([\n        'vec3 normal = normalize(normalPass);',\n        'vec3 lightDirection = normalize(vec3(-1,1,1));',\n        'float lightFactor = 0.5 + 0.5 * dot(normal, lightDirection);',\n        'gl_FragColor = vec4(lightFactor * color, 1.0);'\n    ])\n}\n\nexport {flat_color}","import {tie, factory, URLQuery} from '../../util'\nimport {vec3, quat, mat4, mat3} from '../../math'\nimport {flat_color} from './shader'\n\nconst createVisualRepresentation = (submeshes, options = {}) => {\n    const vertices = [],\n          indices = []\n    let indexOffset = 0\n    submeshes.forEach(submesh => {\n        indices.push.apply(indices, submesh.indices.map(index => index + indexOffset))\n        vertices.push.apply(vertices, Array.range(submesh.vertices.length).map(index => [...submesh.vertices[index], ...submesh.normals[index]]).flatten())\n        indexOffset += submesh.vertices.length\n    })\n    \n    const position = options.position || vec3(0),\n          quaternion = options.quaternion || quat(),\n          scale = options.scale || vec3(1)\n    return Object.assign({\n        vertexArray: new Float32Array(vertices),\n        indexArray: new Uint16Array(indices),\n        dataFormat: [{type: 'position', size: 3, byteSize: 4}, {type: 'normal', size: 3, byteSize: 4}],\n        stride: 6,\n        color: vec3(0.5),\n        position, quaternion, scale,\n        modelMatrix: mat4.fromRotationTranslationScale(quaternion, position, scale, mat4())\n    }, options)\n}\n\nfactory.declare('application', target => {\n    const ctx = target.ctx,\n          gl = ctx.gl,\n          scene = target.scene,\n          physics = target.physics\n    target.debugOptions = URLQuery()\n    \n    const deferredVisuals = [],\n          debugPasses = []\n    \n    scene.addEventListener('update', _ => {\n        if(!deferredVisuals.length) return false\n        deferredVisuals.forEach(visual => visual.uploadEvent = ctx.uploadMeshData(visual, null, false).listen(mesh => visual.data = mesh))\n        ctx.deferredDataUpload()\n        deferredVisuals.length = 0\n    })    \n    \n    const shader = ctx.compileShader(flat_color)\n    \n    const renderVisual = visual => {\n        if(!visual.data) return false\n        ctx.enableVAO(visual.data)\n        \n        shader.uao.modelViewMatrix = mat4.multiply(scene.camera.viewMatrix, visual.modelMatrix, shader.uao.modelViewMatrix)\n        shader.uao.color = vec3.copy(visual.color, shader.uao.color)\n        shader.uao.update()\n        if(visual.wireframe)\n            gl.drawElements(gl.LINES, visual.data.totalSize, gl.UNSIGNED_SHORT, Uint16Array.BYTES_PER_ELEMENT * visual.data.offset)\n        else\n            ctx.drawElements(visual.data.totalSize, visual.data.offset)\n    }\n    \n    ctx.pipeline.pass((ctx, scene, next, frame) => {\n        ctx.saveState()\n        shader.use()\n        \n        shader.uao.projectionMatrix = mat4.copy(scene.camera.projectionMatrix, shader.uao.projectionMatrix) \n        debugPasses.forEach(pass => pass.call(ctx, ctx, renderVisual))\n        \n        ctx.restoreState()\n        next()\n    })\n    \n    return {\n        addDebugVisuals: (submeshes, options) => {\n            const mesh = createVisualRepresentation(submeshes, options)\n            deferredVisuals.push(mesh)\n            return mesh\n        },\n        removeDebugVisuals: mesh => {\n            deferredVisuals.remove(mesh)\n            if(mesh.uploadEvent) mesh.uploadEvent.listen(_ => ctx.unloadData(mesh.data))\n        },\n        addDebugPass: debugPasses.push.bind(debugPasses)\n    }\n})\n\nexport {createVisualRepresentation}","import {tie, factory} from '../../util'\nimport {vec3, quat, mat4, mat3} from '../../math'\nimport {SHAPE_TYPE} from '../../physics/shape'\nimport {SphereGeometry, PlaneGeometry, BoxGeometry, ConvexPolyhedronGeometry} from '../../geometry'\n\nconst shapeGeometry = {\n    [SHAPE_TYPE.PLANE]: shape => PlaneGeometry({\n        halfWidth: 1e4, \n        halfHeight: 1e4\n    }),\n    [SHAPE_TYPE.SPHERE]: shape => SphereGeometry({\n        radius: shape.radius\n    }),\n    [SHAPE_TYPE.BOX]: shape => BoxGeometry({\n        halfX: shape.halfExtents[0],\n        halfY: shape.halfExtents[1],\n        halfZ: shape.halfExtents[2]\n    }),\n    [SHAPE_TYPE.CONVEX]: shape => ConvexPolyhedronGeometry({\n        corners: shape.vertices,\n        faces: shape.faces\n    })\n}\n\nfactory.declare('application', target => {\n    if(!target.debugOptions.physics) return false\n    const scene = target.scene,\n          physics = target.physics\n    \n    const visuals = []\n    \n    physics.addEventListener('bodyAdded', body => {\n        if(!body.visual) return false\n        const mesh = target.addDebugVisuals(body.shapes.map((shape, idx) => {\n            const geometry = shapeGeometry[shape.type](shape),\n                  offset = body.shapeOffsets[idx],\n                  orientation = body.shapeOrientations[idx]\n            geometry.normals.forEach(normal => vec3.transformQuat(normal, orientation, normal))\n            geometry.vertices.forEach(vertex => vec3.add(vec3.transformQuat(vertex, orientation, vertex), offset, vertex))\n            return geometry\n        }), { color: vec3(0.5, 0.5, 0.5), position: body.position, quaternion: body.quaternion })\n        visuals.push([body, mesh])\n    })\n    \n    physics.addEventListener('bodyRemoved', body => {\n        let idx = visuals.findIndex(pair => pair[0] === body)\n        if(idx == -1) return false\n        let mesh = visuals[idx][1]\n        visuals.splice(idx, 1)\n        target.removeDebugVisuals(mesh)\n    })\n    \n    physics.addEventListener('postStep', _ => {\n        for(let i = visuals.length - 1; i >= 0; i--){\n            let visual = visuals[i][1],\n                imposter = visuals[i][0]\n            vec3.copy(imposter.dynamic ? [0.5, 0.5, 0.5] : [0.2, 0.2, 0.2], visual.color)\n            vec3.copy(imposter.position, visual.position)\n            quat.copy(imposter.quaternion, visual.quaternion)\n            mat4.fromRotationTranslationScale(visual.quaternion, visual.position, vec3.ONE, visual.modelMatrix)\n        }\n    })\n    \n    target.addDebugPass((ctx, render) => {\n        ctx.depthTest = true\n        ctx.culling = 'back'\n        visuals.forEach(pair => render(pair[1]))\n    })\n    \n})","import {tie, factory} from '../../util'\nimport {vec3, quat, mat4, mat3} from '../../math'\nimport {BoxGeometry} from '../../geometry'\n\nfactory.declare('application', target => {\n    if(!target.debugOptions.lights) return false\n    const scene = target.scene,\n          physics = target.physics\n    \n    const visuals = []\n    \n    scene.addEventListener('light', light => {\n        if(!light.position) return\n        //TODO  rotate for spotlights, etc\n        const mesh = target.addDebugVisuals([\n            BoxGeometry({ halfX: 0.2, halfY: 0.2, halfZ: 0.2 })\n        ], { color: light.color, position: light.camera.position, quaternion: quat() })\n        \n        light.onCleanup(function(){\n            target.removeDebugVisuals(mesh)\n            const index = visuals.findIndex(pair => pair[0] === light)\n            if(index != -1) visuals.splice(index, 1)\n        })\n        visuals.push([light, mesh])\n    })\n    \n    //TODO clear when light is removed\n    \n    scene.addEventListener('update', function(){\n        for(let i = visuals.length - 1; i >= 0; i--){\n            let visual = visuals[i][1],\n                imposter = visuals[i][0]\n            vec3.copy(imposter.color, visual.color)\n            vec3.copy(imposter.camera.position, visual.position)\n            mat4.fromRotationTranslationScale(visual.quaternion, visual.position, vec3.ONE, visual.modelMatrix)\n        }\n    })\n    \n    target.addDebugPass((ctx, render) => {        \n        ctx.depthTest = true\n        ctx.culling = 'back'\n        visuals.forEach(pair => render(pair[1]))\n    })\n})","import {tie, factory} from '../../util'\nimport {vec3, quat, mat4, mat3} from '../../math'\nimport {BoxGeometry} from '../../geometry'\n\nconst WireframeBox = options => Object.assign(BoxGeometry(options), {\n    indices: [\n        0,1, 1,2, 2,3, 3,0,\n        4,5, 5,6, 6,7, 7,4,\n        8,9, 9,10, 10,11, 11,8,\n        12,13, 13,14, 14,15, 15,12,\n        16,17, 17,18, 18,19, 19,16,\n        20,21, 21,22, 22,23, 23,20\n    ]\n})\n\nfactory.declare('application', target => {\n    if(!target.debugOptions.decals) return false\n    const scene = target.scene,\n          physics = target.physics\n    \n    const visual = target.addDebugVisuals([\n        WireframeBox({ halfX: 0.5, halfY: 0.5, halfZ: 0.5 })\n    ], { color: [0.7, 0.75, 0.8, 1], wireframe: true })\n\n    target.addDebugPass((ctx, render) => {        \n        ctx.depthTest = true\n        ctx.culling = 'back'\n        app.scene.fetchInstancesByGroup('decal').forEach(({ instances }) => instances.forEach(instance => {\n            mat4.copy(instance.modelMatrix, visual.modelMatrix)\n            render(visual)\n        }))\n    })\n})","import {tie, factory} from '../../util'\nimport {vec3, quat, mat4, mat3} from '../../math'\nimport {BoxGeometry} from '../../geometry'\n\nfactory.declare('application', target => {\n    if(!target.debugOptions.raycast) return false\n    const scene = target.scene,\n          physics = target.physics\n    \n    const visual = target.addDebugVisuals([\n        BoxGeometry({ halfX: 0.5, halfY: 0.5, halfZ: 0.5 })\n    ], { color: [1, 0, 0], position: [0, 0, 0], quaternion: [0, 0, 0, 1] })\n\n    scene.addEventListener('update', function(){\n        const origin = app.scene.camera.position\n        const target = vec3.add(origin, vec3.scale(app.scene.camera.forward, 1000))\n        const ray = V.physics.Ray(origin, target)\n        const result = physics.raycast(ray, { skipBackFaces: true, nearest: true })\n\n        if(result[0])\n            visual.position = result[0].intersectionPoint\n\n        mat4.fromRotationTranslationScale(visual.quaternion, visual.position, vec3.ONE, visual.modelMatrix)\n    })\n\n    target.addDebugPass((ctx, render) => {        \n        ctx.depthTest = true\n        ctx.culling = 'back'\n        render(visual)\n    })\n})","import {tie, factory} from '../../util'\nimport {vec3, quat, mat4, mat3} from '../../math'\nimport {ConvexPolyhedronGeometry} from '../../geometry'\n\nfactory.declare('application', target => {\n    if(!target.debugOptions.navigation) return false\n    const scene = target.scene,\n          physics = target.physics\n    const offset = vec3(0, 0, 0)\n    \n    let navigationWireframe = null\n    let navigationMesh = null\n    \n    scene.addEventListener('navigation', navigationMeshGeometry => {        \n        if(navigationWireframe) target.removeDebugVisuals(navigationWireframe)\n        const wireframeGeometry = navigationMeshGeometry.groups.map(group => ({\n            vertices: group.vertices,\n            normals: Array(group.vertices.length).fill(vec3.AXIS_Y),\n            indices: group.polygons.map(polygon => {\n                let indices = []\n                for(let i = polygon.indices.length - 1, j = 0; i >= 0; j = i--)\n                    indices.push(polygon.indices[i], polygon.indices[j])\n                return indices\n            }).flatten()\n        }))\n        navigationWireframe = target.addDebugVisuals(wireframeGeometry, { color: [0.0, 0.7, 0.4], wireframe: true, position: offset })\n        \n        \n        if(navigationMesh) target.removeDebugVisuals(navigationMesh)\n        const geometry = navigationMeshGeometry.groups.map(group => ConvexPolyhedronGeometry({\n            corners: group.vertices,\n            faces: group.polygons.map(polygon => polygon.indices),\n            faceNormals: group.polygons.map(polygon => polygon.normal)\n        }))\n        navigationMesh = target.addDebugVisuals(geometry, { color: [0.0, 0.2, 0.0], position: offset })\n    })\n    \n    target.addDebugPass((ctx, render) => {\n        if(!navigationWireframe || !navigationMesh) return false \n        ctx.depthTest = true\n        ctx.culling = false\n        render(navigationWireframe)\n        \n        ctx.blendMode = 'add'\n        render(navigationMesh)\n    })\n})","export * from './renderer'\nexport * from './physics'\nexport * from './lights'\nexport * from './decals'\nexport * from './raycast'\nexport * from './navigation'\n\nimport {tie, factory} from '../../util'\nimport {shaders} from '../../graphics/vglsl'\nimport {ATTRIBUTE_LOCATIONS} from '../../graphics/glutil'\n\nfactory.declare('application', target => {\n    const ctx = target.ctx,\n          gl = ctx.gl,\n          scene = target.scene\n    \n    const shader = ctx.compileShader(shaders.fullscreen)\n    const quadVBO = factory.build('vbo', { ctx }).staticUpload(new Float32Array([0,0,1,0,1,1,0,1]), new Uint16Array([0,1,2,0,2,3]))\n    shader.uao.sampler = 0\n    \n    let debugTexture = null\n    \n    ctx.pipeline.pass((ctx, scene, next, frame) => {\n        if(!debugTexture) return next()\n        \n        ctx.saveState()\n        \n        shader.use()\n        quadVBO.bind()\n        \n        ctx.bindArrayAttribute(ATTRIBUTE_LOCATIONS['uv'], 2, gl.FLOAT, false, 2*4, 0)\n        debugTexture.bind(0)\n        \n        gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0)\n        \n        ctx.restoreState()\n        next()\n    })\n    \n    window.setDebugTexture = value => debugTexture = value\n    //setDebugTexture(app.ctx.renderShadowMap(app.scene.lights[0], { shared: false, blur: false }))\n})","import {vec3, quat} from '../../math' //TODO wrong place for game logic?\n\nconst FlyingCameraController = (camera, interaction) => { //TODO\n    return dt => {\n    }\n}\n\nconst WalkingCameraController = (camera, interaction, options) => {\n    options = Object.assign({\n        initialPosition: vec3(0),\n        initialRotation: quat(),\n        speedScale: 1,\n        walkingPlane: vec3(0, 1, 0)\n    }, options || {})\n    const movement = vec3(0),\n          forward = vec3(),\n          left = vec3()\n    camera.position = options.initialPosition || vec3.ZERO\n    camera.rotation = options.initialRotation || quat()\n    \n    return dt => {\n        const speed = dt * options.speedScale\n        \n        vec3.copy(vec3.ZERO, movement)\n        \n        vec3.scale(options.walkingPlane, vec3.dot(camera.forward, options.walkingPlane), forward)\n        vec3.subtract(camera.forward, forward, forward)\n        vec3.normalize(forward, forward)\n        \n        vec3.scale(options.walkingPlane, vec3.dot(camera.left, options.walkingPlane), left)\n        vec3.subtract(camera.left, left, left)\n        vec3.normalize(left, left)\n        \n        if(interaction.keyboard.getKey('S')) vec3.subtract(movement, forward, movement)\n        else if(interaction.keyboard.getKey('W')) vec3.add(movement, forward, movement)\n\n        if(interaction.keyboard.getKey('D')) vec3.subtract(movement, left, movement)\n        else if(interaction.keyboard.getKey('A')) vec3.add(movement, left, movement)\n        \n        vec3.normalize(movement, movement)\n        vec3.scale(movement, speed, movement)\n        \n        //if(interaction.keyboard.getKey('SPACE'))\n        \n        vec3.add(camera.position, movement, camera.position)\n        \n        const delta = interaction.mouse.delta\n        if(interaction.pointerLocked) camera.rotate(0.01 * delta[0], 0.01 * delta[1])\n        \n        return movement\n    }\n}\n\nexport {FlyingCameraController, WalkingCameraController}","import {tie} from '../../util'\n\nconst defaultColors = ['#FFF', '#F77', '#7FF', '#7F0']\n\nconst DomElement = tagName => {\n\tconst dom = window.document.createElement(tagName)\n\t\n\treturn {\n\t\tget dom(){ return dom },\n\t\tadd: element => dom.appendChild(element.dom || element),\n\t\tset visible(value){ value ? dom.style.removeProperty('display') : dom.style.setProperty('display', 'none') },\n\t\tset text(value){ dom.innerHTML = value }\n\t}\n}\n\nconst Canvas = _ => {\n\tconst element = DomElement('canvas'),\n          canvas = element.dom,\n          context = canvas.getContext('2d'),\n          dpr = Math.round(window.devicePixelRatio || 1)\n\t\n\tcontext.imageSmoothingEnabled = false\n\t\n\treturn Object.assign(element, {\n\t\tget context(){ return context },\n\t\tresize: (width, height) => {\n\t\t\tcanvas.width = width * dpr\n\t\t\tcanvas.height = height * dpr\n\t\t\tcanvas.style.width = width + 'px'\n\t\t\tcanvas.style.height = height + 'px'\n\t\t},\n\t\tclear: _ => context.clearRect(0, 0, canvas.width, canvas.height),\n\t\tfill: (offsetX, offsetY, width, height, color) => {\n\t\t\tcontext.globalCompositeOperation =  'source-over'\n\t\t\tcontext.fillStyle = color\n\t\t\tcontext.fillRect(offsetX * dpr, offsetY * dpr, width * dpr, height * dpr)\n\t\t},\n\t\tblit: (sourceOffsetX, sourceOffsetY, sourceWidth, sourceHeight,\n               offsetX, offsetY, width, height) => {\n\t\t\tcontext.globalCompositeOperation = 'copy'\n\t\t\tcontext.drawImage(canvas, \n                              sourceOffsetX * dpr, sourceOffsetY * dpr, sourceWidth * dpr, sourceHeight * dpr,\n                              offsetX * dpr, offsetY * dpr, width * dpr, height * dpr)\n\t\t}\n\t})\n}\n\nconst Graph = ({\n    label = '',\n\tcolors = defaultColors,\n\twidth = 72,\n\theight = 36,\n\trange = 64,\n    precision = 0\n} = {}) => {\n\tconst element = DomElement('div'),\n          header = DomElement('div'),\n          canvas = Canvas()\n\telement.add(header)\n\telement.add(canvas)\n\t\n\tcanvas.dom.style.cssText = `\n\tmargin: auto;\n\toutline: 1px solid ${ colors[0] };\n    outline-offset: -1px;`\n\t\n\telement.dom.style.cssText = `\n\tcolor: ${ colors[0] };\n\tpadding: 4px;\n\tfont-size: ${ Math.floor(height/4) }px;\n\tdisplay: inline-block;\n\twidth: ${ width }px;`\n\t\n\tcanvas.resize(width, height)\n\theader.text = label\n\n\tconst step = Math.round(width/range) || 1,\n          heights = new Float32Array(range)\n\tlet max = 0, cursor = 0\n\t\n\treturn Object.assign(element, {\n\t\tupdate: (values, maxScale) => {\n\t\t\tif(!(values instanceof Array)) values = [values]\n\t\t\tconst value = values.reduce((sum, v) => sum + v, 0)\n\t\t\t\n\t\t\tcursor = (cursor || range) - 1\n\t\t\theights[cursor] = value\n\t\t\tfor(let i = 1; i < range; i++){\n\t\t\t\tlet ii = (cursor + i) % range\n\t\t\t\tif(heights[ii] > value) break\n\t\t\t\theights[ii] = value\n\t\t\t}\n\t\t\tlet edgeMax = maxScale || heights[(cursor || range) - 1]\n\t\t\tlet scaleY = max / edgeMax || 1\n\t\t\tmax = edgeMax\n\t\t\t\n\t\t\tcanvas.blit(step, 0, width, height,\n\t\t\t0, (1 - scaleY) * height, width, height * scaleY)\n\t\t\t\n\t\t\tfor(let offset = 0, i = 0; i < values.length; i++){\n\t\t\t\tlet y = Math.ceil(values[i]/max * height * 0.8)\n\t\t\t\tcanvas.fill(width - step, height - y - offset, step, y, colors[i % colors.length])\n\t\t\t\toffset += y\n\t\t\t}\n\t\t\t\n\t\t\theader.text = `${label} ${ value.toFixed(precision) }/${ max.toFixed(precision) }`\n\t\t}\n\t})\n}\n\nconst Indicator = ({\n\tlabel = '',\n\tcolors = defaultColors,\n\twidth = 72,\n\theight = 36,\n    precision = 0\n} = {}) => {\n\tconst element = DomElement('div'),\n          header = DomElement('div'),\n          canvas = Canvas()\n\telement.add(header)\n\telement.add(canvas)\n\t\n\tcanvas.dom.style.cssText = `\n\toutline: 1px solid ${ colors[0] };\n    outline-offset: -1px;`\n\t\n\telement.dom.style.cssText = `\n\tcolor: ${ colors[0] };\n\tpadding: 4px;\n\tfont-size: ${ Math.floor(height/4) }px;\n\tdisplay: inline-block;\n\twidth: ${ width }px;`\n\t\n\tcanvas.resize(width, height)\n\theader.text = label\n\t\n\treturn Object.assign(element, {\n\t\tupdate: (values, threshold) => {\n\t\t\t\n\t\t\tcanvas.context.globalAlpha = 0.96\n\t\t\tcanvas.blit(0, 0, width, height, 0, 0, width, height)\n\t\t\tcanvas.context.globalAlpha = 1\n\t\t\t\n\t\t\tfor(let barWidth = height / values.length, i = 0; i < values.length; i++){\n\t\t\t\tlet x = Math.ceil(values[i]/threshold * width * 0.9)\n\t\t\t\tcanvas.fill(width - x, height - barWidth*(i+1), x, barWidth, colors[i % colors.length])\n\t\t\t}\n\t\t\t\n\t\t\theader.text = `${label} ${ values.reduce((acc, v) => acc + v, 0).toFixed(precision) }`\n\t\t}\n\t})\n}\n\nconst Display = ({\n\tbackground = 'rgba(0, 0, 0, 0.5)'\n} = {}) => {\n\tconst element = DomElement('div')\n\telement.dom.style.cssText = `\n\tbackground-color: ${ background };\n\tposition:fixed;\n\ttop:0;\n\tleft:0;\n\toverflow: hidden;\n\twhite-space: nowrap;\n\tcursor: default;\n\tuser-select: none;\n\tfont-weight: bold;\n\tfont-family: Verdana, Geneva, sans-serif;\n\tz-index:10000';`\n\t\n\telement.dom.addEventListener('click', event => {\n\t\tevent.preventDefault()\n\t}, false)\n\t\n\treturn Object.assign(element, {\n\t})\n}\n\nconst MonitoringToolkit = options => {\n\tconst display = Display()\n\t\n\tconst fpsDisplay = Graph({ label: 'FPS', range: 32 }),\n          msDisplay = Graph({ label: 'MS', precision: 1 }),\n          memoryDisplay = Graph({ label: 'MB' }),\n          queueDisplay = Graph({ label: 'TASKS', range: 32 }),\n          drawCallDisplay = Indicator({ label: 'DRAWS' })\n\t\n\tdisplay.add(fpsDisplay)\n\tdisplay.add(msDisplay)\n\tdisplay.add(queueDisplay)\n    display.add(drawCallDisplay)\n\tdisplay.add(memoryDisplay)\n\t\n\tlet prevTimestamp = performance.now(),\n        frameCounter = 0\n\t\n\twindow.document.body.appendChild(display.dom)\n\treturn {\n\t\tcaptureFrame: ({\n            drawCalls,\n            tasks,\n            ms\n        }) => {\n\t\t\tlet timestamp = performance.now(),\n\t\t\tdeltaTime = timestamp - prevTimestamp\n\t\t\tframeCounter++\n            \n            drawCallDisplay.update(drawCalls, 100)\n            queueDisplay.update(tasks)\n\t\t\t\n\t\t\tmsDisplay.update(ms)\n\t\t\t\n\t\t\tif(deltaTime >= 1000){\n\t\t\t\tfpsDisplay.update(frameCounter * 1000 / deltaTime, 60)\n\t\t\t\tprevTimestamp = timestamp\n\t\t\t\tframeCounter = 0\n\t\t\t\tif(performance.memory)\n                    memoryDisplay.update(performance.memory.usedJSHeapSize / 1048576, performance.memory.jsHeapSizeLimit / 1048576)\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport {Display, Indicator, Graph, MonitoringToolkit}","import {factory} from '../../util'\nimport {MonitoringToolkit} from './toolkit'\n\nconst sharedData = {\n    drawCalls: 0,\n    ms: []\n}\n\nfactory.declare('gl_context', target => ({ \n    drawElements: (_ => ++sharedData.drawCalls).extend(target.drawElements),\n    drawArrays: (_ => ++sharedData.drawCalls).extend(target.drawArrays),\n    render: (base => (...args) => {\n        sharedData.ms[0] = window.performance.now()\n        const out = base(...args)\n        out.listen(_ => sharedData.ms[0] = window.performance.now() - sharedData.ms[0], null, false)\n        return out\n    })(target.render)\n}))\n\nfactory.declare('pipeline', target => {\n    const drawCalls = []\n    let passId = 0\n    \n    return {\n        run: (_ => drawCalls.length = passId = 0).extend(target.run),\n        get drawCalls(){ return drawCalls },\n        pass: (base => callable => base((ctx, scene, next, ...args) => callable(ctx, scene, (_ => {\n            drawCalls[passId++] = sharedData.drawCalls\n            sharedData.drawCalls = 0\n        }).extend(next), ...args)))(target.pass)\n    }\n})\n\nfactory.declare('scene', target => ({\n    update: (base => (...args) => {\n        sharedData.ms[2] = window.performance.now()\n        const out = base(...args)\n        sharedData.ms[2] = window.performance.now() - sharedData.ms[2]\n        return out\n    })(target.update)\n}))\n\nfactory.declare('application', target => {\n    //if(!target.debugOptions.monitor) return false\n    const monitoring = MonitoringToolkit(),\n          frameEvent = {\n              drawCalls: target.ctx.pipeline.drawCalls,\n              tasks: 0,\n              ms: sharedData.ms\n          }\n    \n    target.physics.addEventListener('preStep', _ => sharedData.ms[1] = window.performance.now())\n    target.physics.addEventListener('postStep', _ => sharedData.ms[1] = window.performance.now() - sharedData.ms[1])\n    \n    target.time.pulse.attach(event => {\n        frameEvent.tasks = target.tasks.length\n        monitoring.captureFrame(frameEvent)\n    }, null, false)\n})","export * from './logger'\nexport * from './visualization'\nexport * from './control'\nexport * from './monitoring'\n\nwindow.DEBUG = true","const setupParticleEffects = app => {\n    let RangeSampler = V.graphics.RangeSampler,\n        vec3 = V.math.vec3,\n        quat = V.math.quat\n    \n    app.scene.defineParticleSystem({\n        name: 'fire',\n        group: 'billboarded',\n        blend: 'add',\n        texture: null,\n        static: true,\n        colorRamp: [\n            [1, 1, 1, 1],\n            [0.2, 0.8, 1, 1],\n            [0, 0.2, 1, 1],\n            [0, 0, 0.5, 0.5],\n            [0, 0, 0, 0]\n        ],\n        count: 64,\n        emitter: {\n            worldVelocity: [0, 0, 0],\n            worldAcceleration: [0, -9.8, 0]\n        },\n        particle: {\n            lifeTime: 2,\n            position: [0, 0, 0],\n            startTime: (i, count, conf) => i * conf.lifeTime / count,\n            velocity: RangeSampler([0, 1, 0], [0.8, 1.5, 0.8]),\n            startSize: 1.2,\n            acceleration: [0, 12, 0],\n            endSize: 6,\n            spinStart: 0,\n            spinSpeed: RangeSampler(0, 4),\n            color: [0.75, 0.75, 0.5, 1]\n        }\n    })\n    \n    app.scene.defineParticleSystem({\n        name: 'fog',\n        group: 'billboarded',\n        blend: 'blend',\n        texture: 'assets/effects/fog.png',\n        colorRamp: [\n            [0.8, 0.8, 0.8, 0],\n            [0.8, 0.8, 0.8, 0.25],\n            [0.8, 0.8, 0.8, 0.25],\n            [0, 0, 0, 0]\n        ],\n        static: true,\n        count: 36,\n        frequency: 1,\n        emitter: {\n            worldVelocity: [0, 0, 0],\n            worldAcceleration: [0, 0, 0]\n        },\n        particle: {\n            lifeTime: 8,\n            position: RangeSampler([0,5,0], [10,10,10]),\n            startTime: (i, count, conf) => i * conf.lifeTime / count,\n            velocity: RangeSampler([-0.1,-0.1,-0.1], [0.1,0.1,0.1]),\n            startSize: RangeSampler(16, 24),\n            acceleration: [0, 0, 0],\n            endSize: RangeSampler(20, 30),\n            spinStart: RangeSampler(0, 2 * Math.PI),\n            spinSpeed: RangeSampler(-0.2, 0.2),\n            color: [1, 1, 1, 1]\n        }\n    })\n    \n    app.scene.defineParticleSystem({\n        name: 'projectile',\n        group: 'oriented',\n        blend: 'add',\n        texture: 'assets/effects/projectile.png',\n        colorRamp: [\n            [1, 1, 1, 1],\n            [1, 1, 1, 1],\n            [1, 0, 0, 1],\n            [0, 0, 0, 0]\n        ],\n        count: 64,\n        frequency: 0.1,\n        emitter: {\n            worldVelocity: [0, 0, 0],\n            worldAcceleration: [0, 0, 0],\n            timeRange: 4 * 128, //TODO equals lifeTime ? loop params etc?  default?\n            frameCount: 8,\n            frameDuration: 0.36 * 1/8, //TODO again? lifetime/frameCount? - default\n        },\n        particle: {\n            lifeTime: 1,\n            frameStart: 0,\n            position: [0,0,0],\n            startTime: (i, count, conf) => i * conf.lifeTime / count,\n            velocity: [0, 0, 0],\n            startSize: 4,\n            acceleration: [0, 0, 0],\n            endSize: 0,\n            spinStart: RangeSampler(0, Math.PI),\n            spinSpeed: RangeSampler(0, 0.1),\n            orientation: _ => quat.normalize([Math.random(), Math.random(), Math.random(), Math.random()]),\n\t\t\t//quat.setAxisAngle(vec3.AXIS_Y, Math.PI / 2),\n            color: [1, 1, 1, 1]\n        }\n    }) \n}\n\nexport {setupParticleEffects}","const setupPhysics = app => {\n    defineMaterials: {\n        const materials = V.physics.materialLibrary\n        \n        materials.obstacleMaterial = materials.createMaterial({name: 'obstacles'}) //TODO move to physics settings\n        materials.ragdollMaterial = materials.createMaterial({name: 'ragdoll'})\n        materials.playerMaterial = materials.createMaterial({name: 'player'})\n\n        materials.createContactMaterial(materials.playerMaterial, materials.defaultContactMaterial, {\n            collisionResponse: false\n        })\n        materials.createContactMaterial(materials.obstacleMaterial, materials.defaultContactMaterial, {\n        })\n        materials.createContactMaterial(materials.obstacleMaterial, materials.playerMaterial, {\n            friction: 0.0,\n            restitution: 0.0\n        })\n        \n        materials.createContactMaterial(materials.ragdollMaterial, materials.ragdollMaterial, {\n            collisionResponse: false\n        })\n    }\n}\n\nexport {setupPhysics}","import {setupParticleEffects} from './particleEffects'\nimport {setupPhysics} from './physics'\n\nconst setupConfiguration = app => {\n    setupPhysics(app)\n    setupParticleEffects(app)\n}\n\nexport {setupConfiguration}","const World = app => { //TODO evaluate if that needs to be in core or is it game specific?\n    const scene = app.scene,\n          physics = app.physics,\n          entities = [],\n          procedures = []\n    \n    app.addEventListener('update', deltaTime => procedures.forEach(regulation => regulation.update(deltaTime)))\n    scene.addEventListener('update', _ => procedures.forEach(regulation => regulation.synchronize()))\n    \n    function deserializeVisuals(options){\n        const { nodes = [], className } = options\n        options = Object.assign(Object.create(null), options)\n        delete options.nodes\n        delete options.className\n        \n        switch(className){\n            case 'instance': return app.scene.createInstance(options).addElement(...nodes.map(deserializeVisuals))\n            case 'light': return app.scene.createLight(options)\n            case 'emitter': return app.scene.createParticleEmitter(options)\n            case 'liquid': return app.scene.createLiquidSurface(options)\n            case 'audio': return app.scene.createAudioSource(options)\n            default: throw new Error(`Class \"${className}\" not defined!`)\n        }\n    }\n    \n    return {\n        addEntity: entity => {\n            entity.visual = deserializeVisuals(entity.visual)\n            entity.solidGeometry = scene.addSolidGeometry(entity.imposter)\n            entity.imposter = V.physics.deserialize(entity.imposter).map(body => physics.addBody(body)) //TODO physics initiation somewhere else?\n            entity.behavior = entity.behavior.map(initRegulation => initRegulation(entity))\n            entity.behavior.forEach(regulation => regulation.synchronize())\n            procedures.push(...entity.behavior)\n            entities.push(entity)\n            //entity.remove = _ => {} //TODO\n            //TODO add into physics world only here?, same for visuals?, have this a main factory function\n            \n            return entity\n        },\n        removeEntity: entity => {\n            let idx = entities.indexOf(entity)\n            if(idx == -1) return false\n            entities.splice(idx, 1)\n            entity.behavior.forEach(regulation => {\n                procedures.remove(regulation)\n                regulation.clear()\n            })\n            entity.imposter.forEach(imposter => physics.removeBody(imposter))\n            entity.visual && entity.visual.delete()\n            entity.solidGeometry && scene.removeSolidGeometry(entity.solidGeometry)\n        }\n    }\n}\n\nexport {World}","import {WalkingCameraController} from '../../modules/debug'\nimport {vec3, quat} from '../../modules/math'\nimport {Ray, RigidBody, Spring} from '../../modules/physics'\n\n\nconst GroundPin = (target, physics, options) => {\n    options = Object.assign({\n        detachThreshold: 5,\n        rayLength: 1e2\n    }, options || {})\n    \n    const rayTarget = vec3()\n    const rayNormal = vec3.copy(vec3.AXIS_Y)\n    \n    let pinned = false\n    let ground = null\n    const pin = RigidBody({\n        mass: 0,\n        position: vec3.copy(target.position),\n        quaternion: quat()\n    })\n    \n    const spring = Spring(target, pin, {\n        restLength: 1,\n        stiffness: 1e4,\n        damping: 1e3\n    })\n    \n    function hitTestGround(){\n        const { contactEquations } = physics.narrowphase\n        const normal = vec3()\n        vec3.negate(vec3.AXIS_Y, normal)\n        for(let minY = Infinity, i = contactEquations.length - 1; i >= 0; i--){\n            let { bodyA, bodyB, contactPointA, contactPointB, contactNormal } = contactEquations[i]\n\n            if(bodyA === target && contactPointA[1] < minY){\n                minY = contactPointA[1]\n                vec3.negate(contactNormal, normal)\n                ground = bodyB\n            }else if(bodyB === target && contactPointB[1] < minY){\n                minY = contactPointB[1]\n                vec3.copy(contactNormal, normal)\n                ground = bodyA\n            }\n        }\n        let dot = vec3.dot(vec3.AXIS_Y, normal)\n        return dot > 0\n    }\n    \n    return {\n        normal: rayNormal,\n        position: pin.position,\n        get ground(){ return ground },\n        get pinned(){ return pinned },\n        detach(){\n            pinned = false\n            physics.subsystems.remove(spring)\n        },\n        update(deltaTime){\n            vec3.scale(vec3.AXIS_Y, -options.rayLength, rayTarget)\n            vec3.add(target.position, rayTarget, rayTarget)\n            const ray = Ray(target.position, rayTarget)\n            const [ rayIntersection ] = physics.raycast(ray, { skipBackFaces: true, nearest: true })\n            \n            if(rayIntersection){\n                const { intersectionPoint, intersectionNormal } = rayIntersection\n                vec3.copy(intersectionNormal, rayNormal)\n                vec3.copy(intersectionPoint, pin.position)\n            }\n            \n            const grounded = hitTestGround()\n            \n            if(!pinned && grounded){\n                pinned = true\n                physics.subsystems.push(spring)\n            }else if(pinned && vec3.difference(ray.origin, pin.position) > options.detachThreshold){\n                pinned = false\n                physics.subsystems.remove(spring)\n            }\n            \n        }\n    }\n}\n\nconst Player = (camera, interaction, app, handlers) => entity => { //TODO remove app dependency\n    const imposter = entity.imposter[0],\n          visual = entity.visual,\n          floorNormal = vec3(0, 1, 0),\n          processCameraMovement = WalkingCameraController(camera, interaction, { walkingPlane: floorNormal }),\n          groundPin = GroundPin(imposter, app.physics),\n          cameraOffset = vec3(0, 0.8, 0)\n    camera.rotation = quat.conjugate(imposter.quaternion)\n    \n    const footsteps = {\n        timeElapsed: 0,\n        concrete: visual.elements[1],\n        metal: visual.elements[2],\n        playing: null\n    }\n    \n    return {\n        update: (deltaTime, updateContext) => {\n            groundPin.update(deltaTime)\n            vec3.copy(groundPin.normal, floorNormal)\n            let direction = processCameraMovement(deltaTime) //TODO change to be more generic (movement speed etc) (that will also fix vibration floating point error caused one)\n            vec3.scale(direction, 0.16, direction)\n            \n            vec3.add(groundPin.position, direction, groundPin.position)\n            \n            if(groundPin.pinned){\n                vec3.copy(vec3.ZERO, imposter.velocity)\n            }else{\n                imposter.velocity[0] = direction[0]\n                imposter.velocity[2] = direction[2]\n            }\n            \n            if(!vec3.equals(direction, vec3.ZERO) && groundPin.ground){\n                const cover = groundPin.ground.cover\n                if(footsteps.playing != cover){\n                    if(footsteps.playing) footsteps[footsteps.playing].stop()\n                    footsteps.playing = cover\n                    if(footsteps[footsteps.playing]) footsteps[footsteps.playing].play()\n                }\n                footsteps.timeElapsed += deltaTime\n            }else if(footsteps.playing){\n                footsteps[footsteps.playing].stop()\n                footsteps.playing = null\n                footsteps.timeElapsed = 0\n            }\n            \n            \n            //TODO attach to ground?\n            //imposter.velocity[1] = Math.min(0, imposter.velocity[1])\n            \n            if(interaction.mouse.left && !visual.elements[0].animationClip.length){\n                visual.elements[0].insertClip(0, 1, 1)\n\t\t\t\tconst origin = vec3.add(imposter.position, cameraOffset)\n\t\t\t\tconst direction = vec3.transformQuat(vec3.AXIS_Z, visual.rotation)\n                handlers.weapon.use(vec3.add(origin, vec3.scale(direction, -0.5)), direction)\n                visual.elements[4].play()\n            }\n            \n            //if(interaction.keyboard.getKey('SPACE')){\n            //    //imposter.velocity[1] += 46\n            //    imposter.position[1] += 1\n            //    groundPin.detach()\n            //}\n        },\n        synchronize: _ => {\n            camera.position = vec3.add(imposter.position, cameraOffset, vec3.temp)\n            \n            visual.position = camera.position\n            visual.position[1] += 0.012 * Math.sin(0.01 * footsteps.timeElapsed)\n            visual.rotation = quat.conjugate(camera.rotation, quat.temp)\n        },\n        clear: _ => {\n            //TODO\n        }\n    }\n}\n\nexport {Player}","import {vec3, quat} from '../../modules/math'\n\nexport const Weapon = world => ({\n\tuse(position, velocity){\n\t\tconst projectile = world.addEntity({\n\t\t\tvisual: {\n\t\t\t\tclassName: 'instance',\n\t\t\t\tnodes: [{\n\t\t\t\t\tclassName: 'emitter', type: 'projectile', timeOffset: 0, position: [0, 0, 0], frequency: 0.4\n\t\t\t\t}]\n\t\t\t},\n\t\t\tbehavior: [entity => {\n\t\t\t\tvec3.scale(velocity, -20, velocity)\n\t\t\t\tvec3.copy(velocity, entity.imposter[0].velocity)\n\t\t\t\tlet lifespan = 5000\n\t\t\t\treturn {\n\t\t\t\t\tupdate: deltaTime => {\n\t\t\t\t\t\tlifespan -= deltaTime\n\t\t\t\t\t\tif(lifespan < 0) world.removeEntity(projectile)\n\t\t\t\t\t},\n\t\t\t\t\tsynchronize: () => (entity.visual.position = entity.imposter[0].position),\n\t\t\t\t\tclear: () => {}\n\t\t\t\t}\n\t\t\t}],\n\t\t\timposter: [{\n\t\t\t\tmaterial: 'playerMaterial',\n\t\t\t\tmass: 1,\n\t\t\t\tposition: vec3.copy(position),\n\t\t\t\tquaternion: quat(0,0,0,1),\n\t\t\t\tshapes: [{ type: 'sphere', radius: 0.5 }]\n\t\t\t}]\n\t\t})\n\t}\n})","import {vec2, vec3, quat} from '../../modules/math'\n\nconst buildLadder = (name, position, quaternion) => [\n    ...Array.range(8).map(idx => ({\n        material: 'obstacleMaterial',\n        cover: 'metal',\n        mass: 0,\n        position: [54.4, -32.6 + idx * 4, idx % 2 ? -113 : -117],\n        quaternion: quat.setAxisAngle(vec3.AXIS_Y, idx % 2 ? Math.PI : 0),\n        shapes: [{\n            type: 'convex',\n            vertices: [[0,0,0],[0,4,0],[0,0,4],[2,0,0],[2,4,0],[2,0,4]],\n            faces: [[2,1,0],[4,5,3],[2,5,4,1],[3,5,2,0],[1,4,3,0]]\n        }]\n    })),\n    ...Array.range(8).map(idx => ({\n        material: 'obstacleMaterial',\n        cover: 'metal',\n        mass: 0,\n        position: [54.4, -30.8 + idx * 4 + 0.2, idx % 2 ? -112: -118],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [2, 2, 1] }]\n    })), {\n        name: 'ladder-center',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [54.6, -14.6, -115],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [0.2, 18, 2] }]\n    } ,{\n        name: 'ladder-front-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [57.4, -14.6, -115],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [1, 18, 4] }]\n    }, {\n        name: 'ladder-back-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [51.6, -14.6, -115],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [1.2, 14, 4] }]\n    }, {\n        name: 'ladder-right-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [54.4, -14.6, -120],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [4, 18, 1] }]\n    }, {\n        name: 'ladder-left-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [54.4, -14.6, -110],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [4, 18, 1] }]\n    }\n]\n\nconst buildWalls = () => [\n    {\n        name: 'lower-floor',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [74, -42.6, -114],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [40, 10, 40] }]\n    },\n    {\n        name: 'upper-entrance-floor',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [16.2, -5.6, -114],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [34.2, 5, 40] }]\n    }, {\n        name: 'upper-entrance-ledge',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-14, 0.7, -114],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [4, 1.3, 8] }]\n    }, {\n        name: 'upper-entrance-left-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-16.2, 5.4, -114 + 4.5],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [1.8, 6, 3.5] }]\n    }, {\n        name: 'upper-entrance-right-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-16.2, 5.4, -114 - 4.5],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [1.8, 6, 3.5] }]\n    }, {\n        name: 'upper-entrance-right-ramp',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-10, -0.6, -114 - 8],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{\n            type: 'convex',\n            vertices: [[0,0,0],[0,2.6,0],[4,0,0],[0,0,4],[0,2.6,4],[4,0,4]],\n            faces: [[0,1,2],[3,5,4],[1,4,5,2],[0,2,5,3],[0,3,4,1]]\n        }]\n    }, {\n        name: 'upper-entrance-left-ramp',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-10, -0.6, -114 + 8 - 4],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{\n            type: 'convex',\n            vertices: [[0,0,0],[0,2.6,0],[4,0,0],[0,0,4],[0,2.6,4],[4,0,4]],\n            faces: [[0,1,2],[3,5,4],[1,4,5,2],[0,2,5,3],[0,3,4,1]]\n        }]\n    }, {\n        name: 'upper-left-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [10, 5.4, -90],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [28, 6, 16] }]\n    }, {\n        name: 'upper-right-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [10, 5.4, -138],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [28, 6, 16] }]\n    }, \n    ...Array.range(8).map((idx, index, array) => {\n        const center = [74, 3.4, -114]\n        const distance = 38\n        let angle = Math.PI + 2 * Math.PI * idx / array.length\n        let direction = vec2.direction(angle, distance)\n\n        center[0] += direction[0]\n        center[2] += direction[1]\n\n        const edge = 2 * (distance+2) * Math.tan(Math.PI / array.length)\n        \n        return {\n            material: 'obstacleMaterial',\n            mass: 0,\n            position: center,\n            quaternion: quat.setAxisAngle(vec3.AXIS_Y, -angle),\n            shapes: [{ type: 'box', halfExtents: [2, 36, 0.5 * edge] }]\n        }\n    }).slice(1),\n    ...Array.range(8).map((idx, index, array) => {\n        const center = [74, -5.6, -114]\n        const distance = 30\n        let angle = Math.PI + 2 * Math.PI * idx / array.length\n        let direction = vec2.direction(angle, distance)\n\n        center[0] += direction[0]\n        center[2] += direction[1]\n        \n        const edge = 2 * (distance+8) * Math.tan(Math.PI / array.length)\n\n        return {\n            material: 'obstacleMaterial',\n            cover: 'concrete',\n            mass: 0,\n            position: center,\n            quaternion: quat.setAxisAngle(vec3.AXIS_Y, -angle),\n            shapes: [{ type: 'box', halfExtents: [8, 5, 0.5 * edge] }]\n        }\n    }).slice(1),\n    ...buildLadder(),                    \n    {\n        name: 'lower-entrance-floor',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [16,-46.6,-114.1],\n        quaternion: [0,0,0,1],\n        shapes: [{ type: 'box', halfExtents: [18, 6, 3.9] }]\n    },          \n    {\n        name: 'lower-entrance-ramp',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [0, -40.6, -118],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{\n            type: 'convex',\n            vertices: [[0,0,0],[34,8,0],[34,0,0],[0,0,7.8],[34,8,7.8],[34,0,7.8]],\n            faces: [[0,1,2],[3,5,4],[1,4,5,2],[0,2,5,3],[0,3,4,1]]\n        }]\n    },\n    {\n        name: 'lower-entrance-left-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-1, -26.3, -111.6],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [1, 15.7, 1.4] }]\n    },\n    {\n        name: 'lower-entrance-right-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-1, -26.3, -116.6],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [1, 15.7, 1.4] }]\n    },                                        \n    {\n        name: 'A1_wall_lower_right',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [18, -31.6, -136],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [20, 21, 18] }]\n    },\n    {\n        name: 'A1_wall_lower_left',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [18, -31.6, -92.1],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [20, 21, 18.1] }]\n    }\n]\n\nexport const chamberA = {\n    visual: {\n        className: 'instance',\n        position: [0,0,0],\n        rotation: [0,0,0,1],\n        nodes: [\n            { className: 'instance', group: 'static', url: 'assets/environment/chamber-a.vmf', position:[0,0,0], scale: vec3(1) },\n            { className: 'instance', group: 'static', url: 'assets/environment/scaffolding-a.vmf', position:[0,0,0], scale: vec3(1) },\n            { className: 'instance', group: 'static', url: 'assets/environment/hob.vmf', position:[0,0,0], scale: vec3(1) },\n            { className: 'light', type: 'spotlight', position: [-13, 10, -114], destination: [50, 2, -114], color: [1.0,0.3,0.3], angle: 0.45 * Math.PI, radius: 24.0, castShadow: false },\n            { className: 'light', type: 'spotlight', position: [100, 64, -114], destination: [50, -30, -114], color: [0.5,0.54,0.6], angle: 0.45 * Math.PI, radius: 56.0, castShadow: true },\n            { className: 'light', type: 'omnilight', position: [-6, 8, -114], color: [0.9,0.2,0.2], radius: 8.0, castShadow: false },\n            { className: 'light', type: 'omnilight', position: [74.5, -30, -114.5], color: [0.36,1.0,1.6], radius: 24.0, castShadow: true },\n            { className: 'emitter', type: 'fire', timeOffset: 0, position: [74.5, -32, -114.5] },\n            { className: 'audio', url: 'assets/sounds/gas.mp3', position: [74.5, -32, -114.5], volume: 1.6, loop: true, startTime: 0 },\n            \n            { className: 'instance', group: 'decal', url: 'assets/effects/blood-a.png', position: [74.5, -32.6, -114.5], scale: vec3(2*14, 2*14, 2*14), rotation: quat.setAxisAngle(vec3.AXIS_X, 0.5 * Math.PI) },\n            \n            { className: 'instance', group: 'dynamic', url: 'assets/environment/cargo.vmf', position: [0, 0, 0], scale: [4,4,4] },\n            { className: 'instance', group: 'dynamic', url: 'assets/environment/cargo.vmf', position: [0, 0, 0], scale: [4,4,4] },\n            { className: 'instance', group: 'dynamic', url: 'assets/environment/cargo.vmf', position: [0, 0, 0], scale: [4,4,4] },\n            { className: 'instance', group: 'dynamic', url: 'assets/environment/cargo.vmf', position: [0, 0, 0], scale: [4,4,4] },\n            { className: 'instance', group: 'dynamic', url: 'assets/environment/cargo.vmf', position: [0, 0, 0], scale: [4,4,4] }\n        ]\n    },\n    behavior: [],\n    imposter: [\n        ...buildWalls(),\n        ...[\n            [98, 4, -93],\n            [102, 4, -102],\n            [101.5, 8, -101.5],\n            [93, 4, -96],\n            [93.5, 8, -95.5]\n        ].map(position => ({\n            name: 'box',\n            mass: 1,\n            material: 'defaultContactMaterial',\n            position: position,\n            quaternion: [0, 0, 0, 1],\n            shapes: [{ type: 'box', halfExtents: [2, 2, 2] }]\n        }))\n    ],\n    metaData: {\n        connectors: [{\n            position: [-2+1,-40.6,-114-0.5],\n            normal: [-1,0,0]\n        }, {\n            position: [-18+1,2,-114],\n            normal: [-1,0,0]\n        }],\n        start: [88, -20, -115]\n    }\n}","import {vec2, vec3, quat} from '../../modules/math'\n\nconst buildLadder = (name, position, quaternion) => [\n    ...Array.range(4).map(idx => ({\n        material: 'obstacleMaterial',\n        cover: 'metal',\n        mass: 0,\n        position: [-8.4, idx * 4, idx % 2 ? 2 : -2],\n        quaternion: quat.setAxisAngle(vec3.AXIS_Y, idx % 2 ? Math.PI : 0),\n        shapes: [{\n            type: 'convex',\n            vertices: [[0,0,0],[0,4,0],[0,0,4],[2,0,0],[2,4,0],[2,0,4]],\n            faces: [[2,1,0],[4,5,3],[2,5,4,1],[3,5,2,0],[1,4,3,0]]\n        }]\n    })),\n    ...Array.range(4).map(idx => ({\n        material: 'obstacleMaterial',\n        cover: 'metal',\n        mass: 0,\n        position: [-8.4, 2 + idx * 4, idx % 2 ? 3: -3],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [2, 2, 1] }]\n    })), {\n        name: 'ladder-center',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-8.2, 9, 0],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [0.2, 9, 2] }]\n    },\n    {\n        name: 'ladder-back-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-5.4, 12, 0],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [1, 10, 4] }]\n    }, \n    {\n        name: 'ladder-bottom-part',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-9.2, 2, 1],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [1.2, 2, 3] }]\n    }\n]\n\nconst buildWalls = () => [\n    {\n        name: 'floor',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [42, -10, 0],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [62, 10, 35] }]\n    },\n    ...[\n        [14,7], [14,-7],\n        [18,16], [18,-16],\n        [30,5], [30,-5],\n        [40,16], [40,-16],\n        [62,16], [62,-16],\n        [73,5], [73,-5]\n    ].map(([ x, z ]) => ({\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [x, 20, z],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [3.6, 20, 2] }]\n    })),\n    {\n        name: 'upper-entrance-floor',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-15, 8, 0],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [5, 8, 35] }]\n    },\n    {\n        name: 'upper-left-wall-top',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-13.5, 20, 20],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [6.5, 4, 15] }]\n    },\n    {\n        name: 'upper-right-wall-top',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-13.5, 20, -20],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [6.5, 4, 15] }]\n    },\n    {\n        name: 'upper-left-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-8.4, 12, 19.5],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [2, 12, 15.5] }]\n    },\n    {\n        name: 'upper-right-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-8.4, 12, -19.5],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [2, 12, 15.5] }]\n    },\n    {\n        name: 'upper-entrance-left-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-17.2, 10, 4.5],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [2.8, 10, 3.5] }]\n    }, {\n        name: 'upper-entrance-right-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-17.2, 10, -4.5],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [2.8, 10, 3.5] }]\n    },\n    {\n        name: 'left-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [38, 14, 30],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [58, 14, 5] }]\n    },\n    {\n        name: 'right-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [38, 14, -30],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [58, 14, 5] }]\n    },\n    {\n        name: 'lower-left-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [97.2, 14, 18],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [6.8, 14, 17] }]\n    },\n    {\n        name: 'lower-right-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [97.2, 14, -18],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [6.8, 14, 17] }]\n    },\n    {\n        name: 'lower-entrance-ramp',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [98, 0, 0],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{\n            type: 'convex',\n            vertices: [\n                [0,0,-1],[3,2.8,-1],[6,2.8,-1],[6,0,-1],\n                [0,0,1],[3,2.8,1],[6,2.8,1],[6,0,1]\n            ],\n            faces: [[7,6,5,4],[0,1,2,3], [4,5,1,0],[5,6,2,1],[4,0,3,7],[2,6,7,3]]\n        }]\n    },\n    ...buildLadder()\n]\n\nexport const chamberB = {\n    visual: {\n        className: 'instance',\n        position: [0,0,0],\n        rotation: [0,0,0,1],\n        nodes: [\n            { className: 'instance', group: 'static', url: 'assets/environment/chamber-b.vmf', position:[0,0,0], scale: vec3(1) },\n            { className: 'instance', group: 'static', url: 'assets/environment/scaffolding-b.vmf', position:[0,0,0], scale: vec3(1) },\n            { className: 'instance', group: 'static', url: 'assets/environment/pipes-b.vmf', position:[0,0,0], scale: vec3(1) },\n            { className: 'light', type: 'spotlight', position: [16, 40, 0], destination: [16, 0, 0], color: [0.64,0.58,0.5], angle: 0.36 * Math.PI, radius: 36.0, castShadow: true },\n            { className: 'light', type: 'spotlight', position: [54, 40, -24], destination: [54, 0, -24], color: [0.64,0.58,0.5], angle: 0.36 * Math.PI, radius: 36.0, castShadow: true },\n            { className: 'light', type: 'spotlight', position: [54, 40, 24], destination: [54, 0, 24], color: [0.64,0.58,0.5], angle: 0.36 * Math.PI, radius: 36.0, castShadow: true },\n            { className: 'light', type: 'spotlight', position: [80, 40, 0], destination: [80, 0, 0], color: [0.64,0.58,0.5], angle: 0.36 * Math.PI, radius: 36.0, castShadow: true },\n            { className: 'light', type: 'omnilight', position: [48, 20, 0], color: [0.06,0.02,0.02], radius: 128.0, castShadow: false },\n            \n            { className: 'emitter', type: 'fog', timeOffset: 0, position: [40, 0, 0] },\n            { className: 'audio', url: 'assets/sounds/noise.mp3', position: [40, 0, 0], volume: 8, loop: true, startTime: 0 },\n            \n            { className: 'instance', group: 'decal', url: 'assets/effects/wall-sign-a.png', position: [91,4,3], scale: vec3(3,3,3), rotation: quat.setAxisAngle(vec3.AXIS_Y, -0.5 * Math.PI)  },\n            { className: 'instance', group: 'decal', url: 'assets/effects/wall-sign-b.png', position: [91,4,-3], scale: vec3(3,3,3), rotation: quat.setAxisAngle(vec3.AXIS_Y, -0.5 * Math.PI)  },\n            { className: 'instance', group: 'decal', url: 'assets/effects/blood-a.png', position: [30,4,-22], scale: vec3(12,12,12), rotation: quat.setAxisAngle(vec3.AXIS_X, 0.36 * Math.PI) },\n            { className: 'instance', group: 'decal', url: 'assets/effects/blood-b.png', position: [32,4,22], scale: vec3(12,12,12), rotation: quat.setAxisAngle(vec3.AXIS_X, -0.8 * Math.PI) }\n        ]\n    },\n    behavior: [],\n    imposter: [\n        ...buildWalls()\n    ],\n    metaData: {\n        connectors: [{\n            position: [104-1,2.8,0],\n            normal: [1,0,0]\n        }, {\n            position: [-20+1,16,0],\n            normal: [-1,0,0]\n        }],\n        start: [50,10,0]\n    }\n}","import {vec2, vec3, quat} from '../../modules/math'\n\nconst buildWalls = () => [\n    {\n        name: 'floor',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-50, -17.8, -0.1],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [20, 6.2, 26.7] }]\n    },\n    {\n        name: 'front-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-30+1, -14, -1.1],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [1, 10, 27.7] }]\n    },\n    {\n        name: 'corridor-floor',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-58.5, -18.4, 59],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [11.5, 5.6, 32.4] }]\n    },\n    {\n        name: 'corridor-upper-floor',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-52, -11.3, 59],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [5, 1.5, 32.4] }]\n    },\n    {\n        name: 'back-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-84, -12, 45],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [14, 12, 64] }]\n    },\n    {\n        name: 'back-passage-ramp',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-87, -21, -26.8],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{\n            type: 'convex',\n            vertices: [[0,0,0],[17,9.4,0],[17,0,0],[0,0,7.8],[17,9.4,7.8],[17,0,7.8]],\n            faces: [[0,1,2],[3,5,4],[1,4,5,2],[0,2,5,3],[0,3,4,1]]\n        }]\n    },\n    {\n        name: 'back-passage-floor',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-84, -22.5, -22.9],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [14, 1.5, 3.9] }]\n    },\n    {\n        name: 'back-passage-door-right',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-96, -10.5, -20.4],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [2, 10.5, 1.4] }]\n    },\n    {\n        name: 'back-passage-door-left',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-96, -10.5, -25.4],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [2, 10.5, 1.4] }]\n    },\n    {\n        name: 'back-left-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-64, -12, -27.8],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [34, 12, 1] }]\n    },\n    {\n        name: 'left-side',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-47.1, -12, -21.4],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [17.1, 12, 5.4] }]\n    },\n    {\n        name: 'right-side',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-47.1, -12, 20.6],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [17.1, 12, 6] }]\n    },\n    {\n        name: 'corridor-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-49, -4.9, 56.5],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [2, 4.9, 29.9] }]\n    },\n    {\n        name: 'corridor-wall-corner',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-49, -4.9, 90],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [2, 4.9, 1.4] }]\n    },\n    {\n        name: 'corridor-end',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-58.5, -12, 100.2],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [11.5, 12, 8.8] }]\n    },\n    {\n        name: 'corridor-ramp',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-70, -12.8, 26.6+1],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{\n            type: 'convex',\n            vertices: [[0,0,0],[0,1.2,-1],[0,0,-1],[9.8,0,0],[9.8,1.2,-1],[9.8,0,-1]],\n            faces: [[0,1,2],[3,5,4],[1,4,5,2],[0,2,5,3],[0,3,4,1]]\n        }]\n    },\n    {\n        name: 'corridor-left-ramp',\n        cover: 'metal',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-57-3.2, -12.8, 27.6],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{\n            type: 'convex',\n            vertices: [[0,0,0],[3.2,3,0],[3.2,0,0],[0,0,4.4],[3.2,3,4.4],[3.2,0,4.4]],\n            faces: [[0,1,2],[3,5,4],[1,4,5,2],[0,2,5,3],[0,3,4,1]]\n        }]\n    },\n    {\n        name: 'corridor-right-ramp',\n        cover: 'metal',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-57-3.2, -12.8, 86.6],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{\n            type: 'convex',\n            vertices: [[0,0,0],[3.2,3,0],[3.2,0,0],[0,0,4.8],[3.2,3,4.8],[3.2,0,4.8]],\n            faces: [[0,1,2],[3,5,4],[1,4,5,2],[0,2,5,3],[0,3,4,1]]\n        }]\n    },\n    {\n        name: 'corridor-divider',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-57.9, -6.4, 59.3],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [0.9, 6.4, 27.3] }]\n    },\n    {\n        name: 'corridor-divider-part',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-58.6, -6.4, 27.1],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [1.6, 6.4, 0.5] }]\n    }\n]\n\nexport const chamberC = {\n    visual: {\n        className: 'instance',\n        position: [0,0,0],\n        rotation: [0,0,0,1],\n        nodes: [\n            { className: 'instance', group: 'static', url: 'assets/environment/chamber-c.vmf', position:[0,0,0], scale: vec3(1) },\n            { className: 'instance', group: 'static', url: 'assets/environment/scaffolding-c.vmf', position:[0,0,0], scale: vec3(1) },\n            { className: 'instance', group: 'static', url: 'assets/environment/pipes-c.vmf', position:[0,0,0], scale: vec3(1) },\n            \n            { className: 'liquid', position: [-2, -14, -2], scale: [0.4, 0.4, 0.4], color: [0,0.05,0.05] },\n            { className: 'audio', url: 'assets/sounds/water.mp3', position: [-2, -14, -2], volume: 8, loop: true, startTime: 0 },\n            \n            { className: 'light', type: 'spotlight', position: [10,40,0], destination: [-20,-10,0], color: [0.4,0.5,0.56], angle: 0.42 * Math.PI, radius: 78, castShadow: true },\n            { className: 'light', type: 'spotlight', position: [-90,4,-23], destination: [-90,-20,-23], color: [0.72,0.3,0.26], angle: 0.25 * Math.PI, radius: 64, castShadow: false },\n            { className: 'light', type: 'spotlight', position: [-66, -2, 90], destination: [-54, -10, 30], color: [1,0.8,0.4], angle: 0.3 * Math.PI, radius: 36, castShadow: true },\n            \n            { className: 'light', type: 'spotlight', position: [-68, 0, 30], destination: [-60, -20, 34], color: [0.5,0.4,0.2], angle: 0.25 * Math.PI, radius: 24, castShadow: false },\n            { className: 'light', type: 'spotlight', position: [-68, 0, 90], destination: [-60, -20, 90], color: [0.5,0.4,0.2], angle: 0.25 * Math.PI, radius: 24, castShadow: false },\n            \n            { className: 'light', type: 'omnilight', position: [-60, 0, -5], color: [0.2,0.18,0.1], radius: 24, castShadow: true },\n            \n            { className: 'instance', group: 'decal', url: 'assets/effects/blood-a.png', position: [-60, -11, 74], scale: vec3(8,8,8), rotation: quat.fromEulerOrdered(-0.5 * Math.PI, -0.42 * Math.PI, 0) }\n        ]\n    },\n    behavior: [],\n    imposter: [\n        ...buildWalls()\n    ],\n    metaData: {\n        connectors: [{\n            position: [-98+1+1,-21,-22.9],\n            normal: [-1,0,0]\n        }, {\n            position: [-47-1,-9.8,87.5],\n            normal: [1,0,0]\n        }],\n        start: [-33, -5, 5]\n    }\n}","import {vec2, vec3, quat} from '../../modules/math'\n\nconst buildWalls = () => [\n    {\n        name: 'floor',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-146.1, -5, -186.4],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [20.7, 5, 63.6] }]\n    },\n    {\n        name: 'floor-ladder',\n        cover: 'metal',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-171.5, -5, -186.4],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [4.7, 5, 63.6] }]\n    },\n    {\n        name: 'ramp',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-166.8, 0, -200.4],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{\n            type: 'convex',\n            vertices: [[0,0,0],[0,14.8,-22.4],[0,0,-22.4],[8.6,0,0],[8.6,14.8,-22.4],[8.6,0,-22.4]],\n            faces: [[0,1,2],[3,5,4],[1,4,5,2],[0,2,5,3],[0,3,4,1]]\n        }]\n    },\n    {\n        name: 'room-center-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-142.1, 10, -211.6],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [16.7, 10, 11.2] }]\n    },\n    {\n        name: 'room-left-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-171.5, 10, -222.3],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [4.7, 10, 27.7] }]\n    },\n    {\n        name: 'room-upper-floor',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-150.8, 7.4, -236.4],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [25.4, 7.4, 13.6] }]\n    },\n    {\n        name: 'room-upper-back-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-155.6, 17.4, -241.5],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [20.6, 2.6, 8.5] }]\n    },\n    {\n        name: 'platform-inner-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-167.9, 10, -159.9],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [4.3, 10, 24.9] }]\n    },                    \n    {\n        name: 'upper-entrance-left-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-133.1, 17.4, -248.5],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [1.9, 2.6, 1.5] }]\n    },\n    {\n        name: 'upper-entrance-right-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-127.3, 17.4, -248.5],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [1.9, 2.6, 1.5] }]\n    },\n    {\n        name: 'central-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-144.5, 10, -159.9],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [19.1, 10, 24.9] }]\n    },\n    {\n        name: 'right-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-123.4, 5, -186.4],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [2, 15, 63.6] }]\n    },\n    {\n        name: 'left-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-178.2, 5, -185.2],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [2, 15, 64.8] }]\n    },\n    {\n        name: 'front-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-150.8, 5, -118.4],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [29.4, 15, 2] }]\n    },\n    {\n        name: 'front-left-corner',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-166.6, 10, -124.1],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [9.6, 10, 3.7] }]\n    },\n    {\n        name: 'front-left-corner-part',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-169.9, 10, -129.2],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [6.3, 10, 1.4] }]\n    },\n    {\n        name: 'front-right-corner',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-138.2, 10, -126.7],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [12.8, 10, 3.9] }]\n    },\n    {\n        name: 'front-right-corner-part',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-132.1, 10, -132.8],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [6.7, 10, 2.2] }]\n    },\n    {\n        name: 'passage-floor',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-148.8, -7.5, -121.6],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [27.4, 2.5, 1.2] }]\n    },\n    {\n        name: 'passage-upper-floor',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-163.6, -2.5, -121.6],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [12.6, 2.5, 1.2] }]\n    },\n    {\n        name: 'front-platform-ladder',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-151, -5, -122.8],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{\n            type: 'convex',\n            vertices: [[0,0,0],[0,5,0],[12,0,0],[0,0,2.4],[0,5,2.4],[12,0,2.4]],\n            faces: [[0,1,2],[3,5,4],[1,4,5,2],[0,2,5,3],[0,3,4,1]]\n        }]\n    }\n]\n\nexport const chamberD = {\n    visual: {\n        className: 'instance',\n        position: [0,0,0],\n        rotation: [0,0,0,1],\n        nodes: [\n            { className: 'instance', group: 'static', url: 'assets/environment/chamber-d.vmf', position:[0,0,0], scale: vec3(1) },\n            { className: 'instance', group: 'static', url: 'assets/environment/scaffolding-d.vmf', position:[0,0,0], scale: vec3(1) },\n            { className: 'instance', group: 'static', url: 'assets/environment/pipes-d.vmf', position:[0,0,0], scale: vec3(1) },\n            \n            { className: 'liquid', position: [-200, -10, -160], scale: [0.4,0.4,2], color: [0,0.1,0] },\n            \n            { className: 'audio', url: 'assets/sounds/water.mp3', position: [-200, -10, -160], volume: 8, loop: true, startTime: 0 },\n            \n            { className: 'audio', url: 'assets/sounds/noise.mp3', position: [-150, 4, -128], volume: 8, loop: true, startTime: 0 },\n            \n            { className: 'light', type: 'spotlight', position: [-128, 25, -188], destination: [-128, 0, -230], color: [0.5,0.44,0.3], angle: 0.36 * Math.PI, radius: 48, castShadow: true },\n            { className: 'light', type: 'spotlight', position: [-144, 25, -188], destination: [-144, 0, -230], color: [0.5,0.44,0.3], angle: 0.36 * Math.PI, radius: 48, castShadow: true },\n            { className: 'light', type: 'omnilight', position: [-143, 20, -213], color: [0.16,0.14,0.1], radius: 48.0, castShadow: false },\n            \n            { className: 'light', type: 'spotlight', position: [-200, 20, -190], destination: [-160, -10, -180], color: [0.4,0.6,0.6], angle: 0.25 * Math.PI, radius: 128, castShadow: true },\n            { className: 'light', type: 'spotlight', position: [-200, 20, -132], destination: [-160, -10, -120], color: [0.4,0.6,0.6], angle: 0.25 * Math.PI, radius: 128, castShadow: true },\n            { className: 'light', type: 'omnilight', position: [-180, 0, -160], color: [0.2,0.3,0.3], radius: 28.0, castShadow: false },\n            \n            { className: 'light', type: 'spotlight', position: [-158, 12, -128], destination: [-155, 0, -134.5], color: [0.6,0.6,0.4], angle: 0.3 * Math.PI, radius: 48, castShadow: true },\n            \n            { className: 'light', type: 'omnilight', position: [-153, 8, -120], color: [0.2,0.18,0.1], radius: 32.0, castShadow: false },\n            \n            \n            { className: 'instance', group: 'decal', url: 'assets/effects/wall-sign-a.png', position: [-150, 4, -128], scale: vec3(4,4,4), rotation: quat.setAxisAngle(vec3.AXIS_Y, -0.5 * Math.PI)  },\n            \n            { className: 'instance', group: 'dynamic', url: 'assets/environment/cargo.vmf', position: [0, 0, 0], scale: [4,4,4] },\n            { className: 'instance', group: 'dynamic', url: 'assets/environment/cargo.vmf', position: [0, 0, 0], scale: [4,4,4] },\n            { className: 'instance', group: 'dynamic', url: 'assets/environment/cargo.vmf', position: [0, 0, 0], scale: [4,4,4] }\n        ]\n    },\n    behavior: [],\n    imposter: [\n        ...buildWalls(),\n        ...[\n            [-131, 3, -195],\n            [-131.5, 6, -194.5],\n            [-136, 3, -191]\n        ].map(position => ({\n            name: 'box',\n            mass: 1,\n            material: 'defaultContactMaterial',\n            position: position,\n            quaternion: [0, 0, 0, 1],\n            shapes: [{ type: 'box', halfExtents: [2, 2, 2] }]\n        }))\n    ],\n    metaData: {\n        connectors: [{\n            position: [-121-1.4,-5,-121.6],\n            normal: [1,0,0]\n        }, {\n            position: [-130.2,14.8,-250+1],\n            normal: [0,0,-1]\n        }],\n        start: [-174, 2, -160]\n    }\n}","import {vec2, vec3, quat} from '../../modules/math'\n\nconst buildWalls = () => [\n    {\n        name: 'floor',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-41.5, -2, -134],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [28.7, 4, 60] }]\n    },\n    {\n        name: 'left-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-68.2, 14, -134],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [2, 12, 60] }]\n    },\n    {\n        name: 'right-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-14.8, 14, -134],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [2, 12, 60] }]\n    },\n    {\n        name: 'platform-floor',\n        cover: 'metal',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-41.5, 8.2, -173.5],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [2.7, 6.2, 20.5] }]\n    },\n    {\n        name: 'platform-left-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-57.2, 14, -178.6],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [13, 12, 15.4] }]\n    },\n    {\n        name: 'platform-right-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-25.8, 14, -178.6],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [13, 12, 15.4] }]\n    },\n    {\n        name: 'entrance-right-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-39.7, 20.2, -191.7],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [0.9, 5.8, 2.3] }]\n    },\n    {\n        name: 'entrance-left-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-43.3, 20.2, -191.7],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [0.9, 5.8, 2.3] }]\n    },\n    {\n        name: 'front-ramp-corners',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-41.5, 5.3, -160.3],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [28.7, 3.3, 2.9] }]\n    },\n    {\n        name: 'back-left-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-56.3, 2 + 12, -76.8],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [13.9, 12, 2.8] }]\n    },\n    {\n        name: 'back-right-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-26.7, 2 + 12, -76.8],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [13.9, 12, 2.8] }]\n    },\n    {\n        name: 'back-center-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-41.5, 17.3, -76.8],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [0.9, 8.7, 2.8] }]\n    },\n    {\n        name: 'back-ramp-left-corner',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-56.3, 5.3, -83.1],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [13.9, 3.3, 3.5] }]\n    },\n    {\n        name: 'back-ramp-right-corner',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-26.7, 5.3, -83.1],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [13.9, 3.3, 3.5] }]\n    },\n    {\n        name: 'back-ramp-center',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-41.5, 11.5, -83.1],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [2.7, 2.9, 3.5] }]\n    },                   \n    {\n        name: 'front-lower-left-ramp',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-66.2, 2, -144.8],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{\n            type: 'convex',\n            vertices: [[0,0,0],[0,6.6,-12.6],[0,0,-12.6],[6.2,0,0],[6.2,6.6,-12.6],[6.2,0,-12.6]],\n            faces: [[0,1,2],[3,5,4],[1,4,5,2],[0,2,5,3],[0,3,4,1]]\n        }]\n    },\n    {\n        name: 'front-lower-right-ramp',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-23, 2, -144.8],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{\n            type: 'convex',\n            vertices: [[0,0,0],[0,6.6,-12.6],[0,0,-12.6],[6.2,0,0],[6.2,6.6,-12.6],[6.2,0,-12.6]],\n            faces: [[0,1,2],[3,5,4],[1,4,5,2],[0,2,5,3],[0,3,4,1]]\n        }]\n    },\n    {\n        name: 'back-lower-left-ramp',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-66.2, 2, -86.6],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{\n            type: 'convex',\n            vertices: [[0,0,0],[0,6.6,0],[0,0,-12.6],[6.2,0,0],[6.2,6.6,0],[6.2,0,-12.6]],\n            faces: [[0,1,2],[3,5,4],[1,4,5,2],[0,2,5,3],[0,3,4,1]]\n        }]\n    },\n    {\n        name: 'back-lower-right-ramp',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-23, 2, -86.6],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{\n            type: 'convex',\n            vertices: [[0,0,0],[0,6.6,0],[0,0,-12.6],[6.2,0,0],[6.2,6.6,0],[6.2,0,-12.6]],\n            faces: [[0,1,2],[3,5,4],[1,4,5,2],[0,2,5,3],[0,3,4,1]]\n        }]\n    },\n    {\n        name: 'back-upper-left-ramp',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-60, 8.6, -86.6],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{\n            type: 'convex',\n            vertices: [[0,0,0],[15.8,5.8,0],[15.8,0,0],[0,0,7],[15.8,5.8,7],[15.8,0,7]],\n            faces: [[0,1,2],[3,5,4],[1,4,5,2],[0,2,5,3],[0,3,4,1]]\n        }]\n    },\n    {\n        name: 'back-upper-right-ramp',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-38.8, 8.6, -86.6],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{\n            type: 'convex',\n            vertices: [[0,0,0],[0,5.8,0],[15.8,0,0],[0,0,7],[0,5.8,7],[15.8,0,7]],\n            faces: [[0,1,2],[3,5,4],[1,4,5,2],[0,2,5,3],[0,3,4,1]]\n        }]\n    },\n    {\n        name: 'front-upper-left-ramp',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-60, 8.6, -163.2],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{\n            type: 'convex',\n            vertices: [[0,0,0],[15.8,5.8,0],[15.8,0,0],[0,0,5.8],[15.8,5.8,5.8],[15.8,0,5.8]],\n            faces: [[0,1,2],[3,5,4],[1,4,5,2],[0,2,5,3],[0,3,4,1]]\n        }]\n    },\n    {\n        name: 'front-upper-right-ramp',\n        cover: 'concrete',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-38.8, 8.6, -163.2],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{\n            type: 'convex',\n            vertices: [[0,0,0],[0,5.8,0],[15.8,0,0],[0,0,5.8],[0,5.8,5.8],[15.8,0,5.8]],\n            faces: [[0,1,2],[3,5,4],[1,4,5,2],[0,2,5,3],[0,3,4,1]]\n        }]\n    },\n    {\n        name: 'front-platform-ladder',\n        cover: 'metal',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-41.5-1.3, 14.4, -153],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{\n            type: 'convex',\n            vertices: [[0,0,0],[0,3.8,0],[0,0,-4],[2*1.3,0,0],[2*1.3,3.8,0],[2*1.3,0,-4]],\n            faces: [[0,1,2],[3,5,4],[1,4,5,2],[0,2,5,3],[0,3,4,1]]\n        }]\n    },\n    {\n        name: 'back-platform-ladder',\n        cover: 'metal',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-41.5-1.3, 14.4, -86.6],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{\n            type: 'convex',\n            vertices: [[0,0,0],[0,3.8,-4],[0,0,-4],[2*1.3,0,0],[2*1.3,3.8,-4],[2*1.3,0,-4]],\n            faces: [[0,1,2],[3,5,4],[1,4,5,2],[0,2,5,3],[0,3,4,1]]\n        }]\n    },\n    {\n        name: 'platform-bridge',\n        cover: 'metal',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-41.5, 16.3, -121.8],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [1.3, 1.9, 31.2] }]\n    },\n    {\n        name: 'platform-bridge-left-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-43.5, 14.4+4, -122],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [0.7, 4, 35.4] }]\n    },\n    {\n        name: 'platform-bridge-right-wall',\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-39.5, 14.4+4, -122],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [0.7, 4, 35.4] }]\n    },\n    {\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-25.4, 22, -123],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [3, 20, 5.4] }]\n    },\n    {\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-57.8, 22, -123],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [3, 20, 5.4] }]\n    },\n    {\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-56, 22, -151.1],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [4, 20, 6.3] }]\n    },\n    {\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-27.2, 22, -151.1],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [4, 20, 6.3] }]\n    },\n    {\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-56, 22, -86.6-6.3],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [4, 20, 6.3] }]\n    },\n    {\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-27.2, 22, -86.6-6.3],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [4, 20, 6.3] }]\n    },\n    {\n        mass: 0,\n        material: 'obstacleMaterial',\n        position: [-41.6, 2+6.2, -123],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [13.2, 6.2, 12+4.6] }]\n    }\n]\n\nexport const chamberE = {\n    visual: {\n        className: 'instance',\n        position: [0,0,0],\n        rotation: [0,0,0,1],\n        nodes: [\n            { className: 'instance', group: 'static', url: 'assets/environment/chamber-e.vmf', position:[0,0,0], scale: vec3(1) },\n            { className: 'instance', group: 'static', url: 'assets/environment/scaffolding-e.vmf', position:[0,0,0], scale: vec3(1) },\n            { className: 'light', type: 'omnilight', position: [-42, -5, -123], color: [0.2,0.1,0.1], radius: 24.0, castShadow: false },\n            \n            { className: 'liquid', position: [-40,0,-140], scale: [0.4,0.4,0.6], color: [0.3,0,0] },\n            \n            { className: 'audio', url: 'assets/sounds/water.mp3', position: [-42, -4, 123], volume: 20, loop: true, startTime: 0 },\n            \n            { className: 'light', type: 'spotlight', position: [-42, 32, -135], destination: [-42, 0, -135], color: [0.6,0.4,0.3], angle: 0.36 * Math.PI, radius: 48, castShadow: true },\n            { className: 'light', type: 'spotlight', position: [-42, 32, -110], destination: [-42, 0, -110], color: [0.6,0.4,0.3], angle: 0.36 * Math.PI, radius: 48, castShadow: true },\n            \n            { className: 'light', type: 'spotlight', position: [-42, 24, -186], destination: [-42, 10, -158], color: [0.6,0.4,0.4], angle: 0.2 * Math.PI, radius: 48, castShadow: true },\n            { className: 'light', type: 'omnilight', position: [-42, 0, -178], color: [0.2,0.1,0.1], radius: 32.0, castShadow: false },\n        ]\n    },\n    behavior: [],\n    imposter: [\n        ...buildWalls()\n    ],\n    metaData: {\n        connectors: [{\n            position: [-41.5,14.4,-194+1],\n            normal: [0,0,-1]\n        }, {\n            position: [-41.5,2,-74-1],\n            normal: [0,0,1]\n        }],\n        start: [-24, 5, -134]\n    }\n}","export const SynchronizeDynamic = entity => {\n    const imposters = entity.imposter.filter(imposter => imposter.mass > 0)\n    const visuals = entity.visual.elements.filter(instance => instance.delegate && instance.delegate.group === 'dynamic')\n    visuals.forEach(instance => instance.parent = null)\n    \n    return {\n        update: (deltaTime, updateContext) => null,\n        synchronize: _ => {\n            for(let i = imposters.length - 1; i >= 0; i--){\n                const imposter = imposters[i]\n                const visual = visuals[i]\n                \n                visual.position = imposter.position\n                visual.rotation = imposter.quaternion\n            }\n        },\n        clear: _ => null\n    }\n}","import { snapshot, genRandomInt } from '../../modules/util'\nimport { rngSimple, vec2, vec3, vec4, quat, mat4 } from '../../modules/math'\nimport { logger } from '../../modules/debug/logger'\n\nimport { chamberA } from './chamberA'\nimport { chamberB } from './chamberB'\nimport { chamberC } from './chamberC'\nimport { chamberD } from './chamberD'\nimport { chamberE } from './chamberE'\n\nimport { SynchronizeDynamic } from './synchronizeDynamic'\n\nconst genRandomChar = rng => String.fromCharCode(genRandomInt('A'.charCodeAt(0), 'Z'.charCodeAt(0), rng))\n\nconst chambers = [\n    chamberA,\n    chamberB,\n    chamberC,\n    chamberD,\n    chamberE\n]\n\nconst cloneConfiguration = index => Object.assign(snapshot(chambers[index]), {\n    behavior: [SynchronizeDynamic]\n})\n\nexport const ZoneGenerator = (app, world, player) => {\n    let head = {\n        entity: world.addEntity(cloneConfiguration(0)),\n        identifier: '0',\n        neighbours: []\n    }\n        \n    function unloadZone(zone){\n        logger.info('spatial', `Unloading Zone: ${zone.identifier}`)\n        world.removeEntity(zone.entity)\n        \n        for(let i = zone.neighbours.length; i >= 0; i--){\n            let neighbour = zone.neighbours[i]\n            if(!neighbour) continue\n            let index = neighbour.neighbours.indexOf(zone)\n            neighbour.neighbours[index] = null\n        }\n    }\n    \n    function loadZone(parent, connector){\n        const rng = rngSimple(connector.position[0] + 0xFFFF0000 * connector.position[2] + 0x0f) //TODO how to go back?\n        const zoneOptions = cloneConfiguration(genRandomInt(0, chambers.length - 1, rng))\n        const zoneConnector = zoneOptions.metaData.connectors[genRandomInt(0, 1, rng)]\n        const identifier = Array.range(5).map(i => i < 2 ? genRandomChar(rng) : genRandomInt(0, 9, rng)).join('')\n        \n        logger.info('spatial', `Loading Zone: ${identifier}`)\n        const normal = vec3.negate(connector.normal)\n        const angle = vec2.angle([normal[0], normal[2]], [zoneConnector.normal[0], zoneConnector.normal[2]])\n        const orientation = quat.setAxisAngle(vec3.AXIS_Y, angle)\n        \n        applyRotation: {\n            vec3.transformQuat(zoneOptions.visual.position, orientation, zoneOptions.visual.position)\n            quat.multiply(orientation, zoneOptions.visual.rotation, zoneOptions.visual.rotation)\n\n            zoneOptions.imposter.forEach(body => vec3.transformQuat(body.position, orientation, body.position))\n            zoneOptions.imposter.forEach(body => quat.multiply(orientation, body.quaternion, body.quaternion))\n\n            zoneOptions.metaData.connectors.forEach(connector => vec3.transformQuat(connector.position, orientation, connector.position))\n            zoneOptions.metaData.connectors.forEach(connector => vec3.transformQuat(connector.normal, orientation, connector.normal))\n        }\n        \n        const offset = vec3.subtract(connector.position, zoneConnector.position)\n        \n        applyTranslation: {\n            vec3.add(offset, zoneOptions.visual.position, zoneOptions.visual.position)\n\n            zoneOptions.imposter.forEach(body => vec3.add(offset, body.position, body.position))\n\n            zoneOptions.metaData.connectors.forEach(connector => vec3.add(offset, connector.position, connector.position))\n        }\n        \n        let zone = {\n            entity: world.addEntity(zoneOptions),\n            identifier,\n            neighbours: []\n        }\n\n        zone.neighbours[zoneOptions.metaData.connectors.indexOf(zoneConnector)] = parent\n        return zone\n    }\n    \n    const radius = {\n        upperBound: Math.pow(75, 2),\n        lowerBound: Math.pow(50, 2)\n    }\n    \n    \n    /*\n    window.pp = vec3.copy(player.visual.position)\n    //vec3.copy(app.scene.camera.position, window.pp)\n    var p1 = [9.946831703186035, -36.47526168823242, -113.07559967041016]\n    var p2 = [105.90489959716797, -30.81569480895996, -110.06048583984375]\n    var i = 0\n    var id = setInterval(() => {\n    i++\n    if(i % 2 == 0) vec3.copy(p1, window.pp)\n    else vec3.copy(p2, window.pp)\n    \n    if(i > 100) clearInterval(id)\n    \n    }, 100)\n    */\n    \n    app.scene.addEventListener('update', function(){\n        const position = player.visual.position  //window.pp//\n        \n        const connectors = head.entity.metaData.connectors\n        let minDistance = Infinity,\n            minIndex = 9\n        for(let i = connectors.length - 1; i >= 0; i--){\n            let connector = connectors[i]\n            \n            let distance = vec3.differenceSquared(position, connector.position)\n            if(head.neighbours[i] && distance > radius.upperBound)\n                unloadZone(head.neighbours[i])\n            \n            if(distance > minDistance) continue\n            minDistance = distance\n            minIndex = i\n        }\n        \n        if(!head.neighbours[minIndex] && minDistance < radius.lowerBound)\n            head.neighbours[minIndex] = loadZone(head, connectors[minIndex])\n        let side = vec3.dot(connectors[minIndex].normal, vec3.subtract(connectors[minIndex].position, position))\n        //TODO: in case of jumps zone will be unloaded before we are allowed to enter\n        if(side < 0 && head.neighbours[minIndex]){\n            head = head.neighbours[minIndex]\n            logger.info('spatial', `Entering Zone: ${head.identifier}`)\n        }\n        \n    })\n}","import { vec3, vec4, mat4, dualquat, quat } from '../../modules/math'\nimport { deserialize, ConeTwistConstraint, LockConstraint, Transform } from '../../modules/physics'\n\n    //0 body\n    //1 pelvis\n    //2 chest\n    //3 upper right leg\n    //4 upper left leg\n    //5 lower left leg\n    //6 lower right legt\n    //7 right shoulder\n    //8 left shoulder\n    //9 head\n    //10 right arm\n    //11 left foot\n    //12 left arm\n    //13 right foot\n    //14 right hand\n    //15 left hand\nexport function buildRagdoll(app, target, bones){\n    const boneOrigins = bones.map(bone => vec4.transform(vec3.ZERO, bone.bindPose, vec3()))\n    const boneWidth = 0.4\n    \n    function boneFromTo(origin, target){\n        const center = vec3.add(origin, target, vec3())\n        vec3.scale(center, 0.5, center)\n        \n        const difference = vec3.subtract(target, origin, vec3())\n        const angle = Math.atan2(difference[1], difference[0])\n        \n        return {\n            position: center,\n            quaternion: quat.setAxisAngle(vec3.AXIS_Z, 0.5 * Math.PI + angle),\n            shapes: [{\n                type: 'box', halfExtents: [0.5 * boneWidth, 0.5 * vec3.distance(difference), 0.5 * boneWidth]\n            }]\n        }\n    }\n    \n    const worldTransform = target.modelMatrix\n    const worldOrientation = quat.fromMat4(worldTransform, quat())\n    const imposters = deserialize([\n    Object.assign({\n        name: 'lower left leg',\n        boneIndex: 11,\n        mass: 1\n    }, boneFromTo(boneOrigins[5], boneOrigins[11])),\n    Object.assign({\n        name: 'lower right leg',\n        boneIndex: 13,\n        mass: 1\n    }, boneFromTo(boneOrigins[6], boneOrigins[13])),\n    Object.assign({\n        name: 'upper left leg',\n        boneIndex: 5,\n        mass: 1,\n    }, boneFromTo(boneOrigins[4], boneOrigins[5])),\n    Object.assign({\n        name: 'upper right leg',\n        boneIndex: 6,\n        mass: 1,\n    }, boneFromTo(boneOrigins[3], boneOrigins[6])),\n    {\n        name: 'pelvis',\n        boneIndex: 1,\n        mass: 1,\n        position: boneOrigins[1],\n        quaternion: [0, 0, 0, 1],\n        shapes: [{ type: 'box', halfExtents: [0.3, 0.3, 0.2] }]\n    }, {\n        name: 'upper body',\n        boneIndex: 2,\n        mass: 1,\n        position: boneOrigins[2],\n        quaternion: quat.setAxisAngle(vec3.AXIS_X, Math.PI),\n        shapes: [{ type: 'box', halfExtents: [0.3, 0.3, 0.2] }]\n    }, {\n        name: 'head',\n        boneIndex: 9,\n        mass: 1,\n        position: vec3.add(boneOrigins[9], [0, 0.4, 0]),\n        quaternion: quat.setAxisAngle(vec3.AXIS_X, Math.PI),\n        shapes: [{ type: 'box', halfExtents: [0.4,0.4,0.4] }]\n    },\n    Object.assign({\n        name: 'upper left arm',\n        boneIndex: 12,\n        mass: 1\n    }, boneFromTo(boneOrigins[8], boneOrigins[12])),\n    Object.assign({\n        name: 'upper right arm',\n        boneIndex: 10,\n        mass: 1\n    }, boneFromTo(boneOrigins[7], boneOrigins[10])),\n    Object.assign({\n        name: 'lower left arm',\n        boneIndex: 15,\n        mass: 1\n    }, boneFromTo(boneOrigins[12], boneOrigins[15])),\n    Object.assign({\n        name: 'lower right arm',\n        boneIndex: 14,\n        mass: 1\n    }, boneFromTo(boneOrigins[10], boneOrigins[14]))\n    ].map(function(body){\n        body.bindPose = mat4.fromRotationTranslationScale(body.quaternion, body.position, vec3.ONE, mat4())\n        body.invBindPose = mat4.invert(body.bindPose, mat4())\n        \n        vec4.transform(body.position, worldTransform, body.position)\n        quat.multiply(worldOrientation, body.quaternion, body.quaternion)\n        quat.normalize(body.quaternion, body.quaternion)\n        return Object.assign(body, {\n            material: 'ragdollMaterial'\n        })\n    }))\n    .map(body => app.physics.addBody(body))\n    \n    const imposterMap = Object.create(null)\n    imposters.forEach(imposter => imposterMap[imposter.boneIndex + 1] = imposter)\n    \n    function linkBodies(imposter, parentImposter, axis){\n        const boneHalfLength = imposter.shapes[0].halfExtents[1]\n        const jointPivot = vec3(0, boneHalfLength, 0)\n        const jointAxis = vec3(0, 1, 0)\n        \n        const parentJointPivot = vec3.copy(jointPivot, vec3())\n        const parentJointAxis = vec3.copy(jointAxis, vec3())\n        \n        Transform.pointToWorldFrame(parentJointPivot, imposter.position, imposter.quaternion, parentJointPivot)\n        Transform.pointToLocalFrame(parentJointPivot, parentImposter.position, parentImposter.quaternion, parentJointPivot)\n        \n        Transform.vectorToWorldFrame(parentJointAxis, imposter.position, imposter.quaternion, parentJointAxis)\n        Transform.vectorToLocalFrame(parentJointAxis, parentImposter.position, parentImposter.quaternion, parentJointAxis)\n        \n        return ConeTwistConstraint(imposter, parentImposter, {\n            pivotA: jointPivot,\n            pivotB: parentJointPivot,\n            axisA: jointAxis,\n            axisB: parentJointAxis,\n            angle: 0.24 * Math.PI,\n            twistAngle: 0 * Math.PI\n        })\n    }\n    \n    function traverseBoneHierarchy(bones, boneId, callback){\n        let bone = bones[boneId - 1]\n        while(bone){\n            let output = callback(bone)\n            if(output) return output\n            bone = bones[bone.parent - 1]\n        }\n    }\n    \n    const constraints = imposters.map(imposter => {\n        const { boneIndex } = imposter\n        const parentImposter = traverseBoneHierarchy(bones, boneIndex + 1, (\n            bone => bone.id != boneIndex + 1 && imposterMap[bone.id]\n        ))\n        if(!parentImposter) return\n        return linkBodies(imposter, parentImposter)\n    }).filter(constraint => constraint)\n    .map(constraint => app.physics.addConstraint(constraint))\n    \n    return {\n        get position(){ return imposters[4].position },\n        imposters,\n        constraints,\n        imposterMap,\n        delete(){\n            constraints.forEach(constraint => app.physics.removeConstraint(constraint))\n            imposters.forEach(imposter => app.physics.removeBody(imposter))\n        }\n    }\n} ","import { vec3, vec4, mat4, dualquat, quat } from '../../modules/math'\nimport { deserialize } from '../../modules/physics'\nimport { buildRagdoll } from './ragdoll'\nimport { genRandomInt, genRandomFloat } from '../../modules/util'\nimport { Boid, FollowObjective } from '../../modules/behavior'\n\nconst RandomRepeat = (cooldown, callback) => {\n    let timeRemaining = typeof cooldown == 'function' ? cooldown() : cooldown\n    return function update(deltaTime){\n        timeRemaining -= 0.001 * deltaTime\n        if(timeRemaining >= 0) return\n        \n        callback(timeRemaining)\n        timeRemaining = typeof cooldown == 'function' ? cooldown() : cooldown\n    }\n}\n\nconst STATES = {\n    DEAD: -1,\n    FOLLOW: 0,\n    RAGDOLL: 1\n}\n\nexport const StalkerAI = (app, world, player) => entity => {\n    entity.state = STATES.FOLLOW\n    const visual = entity.visual\n    const harness = visual.elements[0]\n    \n    harness.insertClip(0, -1, 1)\n    \n    const boid = Boid({ position: visual.position, maxSpeed: 0.016, maxForce: 0.001 }) //TODO should be updated from scene separately (since it needs list of near objects, etc)\n    const followPlayer = FollowObjective(app.scene, player.visual) //TODO inject as a dependecy\n    const traversePath = (path, index) => { //TODO switch from follow - random wander mode\n        if(index < path.length - 1) boid.wander(0.004, Math.PI * 0.1)\n        return boid.followPath(index, path, false)\n    }\n    \n    const sounds = [\n         visual.elements[1],\n         visual.elements[2]\n    ]\n    let randomNoise = RandomRepeat(genRandomFloat.bind(null, 5, 20), function(){\n        sounds[genRandomInt(0, sounds.length - 1)].play()\n    })\n    \n    entity.switchToRagdoll = function(){\n        if(entity.state !== STATES.FOLLOW) return\n        entity.state = STATES.RAGDOLL\n        //TODO load event listener in wrong place\n        \n        harness.bindRagdoll(bones => buildRagdoll(app, harness, bones))\n        harness.ragdollEnabled = true\n    }\n    \n    return {\n        update: (deltaTime, updateContext) => {\n            if(entity.state === STATES.FOLLOW){\n                followPlayer(visual.position, traversePath)\n                boid.update(deltaTime)\n                randomNoise(deltaTime)\n            }\n        },\n        synchronize: _ => {\n            if(entity.state === STATES.FOLLOW){\n                visual.position = boid.position\n                visual.rotation = boid.rotation\n            }\n        },\n        clear: _ => {\n            entity.state = STATES.DEAD\n        }\n    }\n}\n\nexport const Stalker = options => ({\n    visual: {\n        className: 'instance',\n        position: options.position,\n        nodes: [{\n            className: 'instance',\n            trackSpatial: true,\n            group: 'skinned',\n            url: 'assets/critters/stalker.vmf',\n            position: [0, 1.36, 0],\n            scale: [1, 1, 1],\n            rotation: quat.setAxisAngle(vec3.AXIS_Y, Math.PI)\n        }, {\n            className: 'audio', url: 'assets/sounds/stalker-a.mp3', position: [0, 0, 0], volume: 1, loop: false\n        }, {\n            className: 'audio', url: 'assets/sounds/stalker-b.mp3', position: [0, 0, 0], volume: 1, loop: false\n        }]\n    },\n    behavior: [options.behavior],\n    imposter: []\n})","import { snapshot, genRandomInt } from '../../modules/util'\nimport { rngSimple, vec2, vec3, vec4, quat, mat4 } from '../../modules/math'\nimport { logger } from '../../modules/debug/logger'\n\nimport {Stalker, StalkerAI} from './stalker'\n\nexport const CritterSpawner = (app, world, player) => {\n    const critters = []\n    const tempPosition = vec3()\n    const navigationLayer = 'default'\n    \n    app.scene.addEventListener('navigation', layer => {\n        for(let i = critters.length - 1; i >= 0; i--){\n            vec3.translationFromMat4(critters[i].visual.modelMatrix, tempPosition)\n            let node = app.scene.navigationMesh.detectNearestNode(tempPosition, navigationLayer, { checkBounds: true })\n            let distance = vec3.distance(vec3.subtract(tempPosition, player.visual.position))\n            if(node && distance < 124) continue\n\n            logger.info('ai', `Eliminate entity. ${i}/${critters.length}`)\n            world.removeEntity(critters[i])\n            critters.splice(i, 1)\n        }\n        \n        for(let i = critters.length; i < 1; i++){\n            const position = vec3.add(player.visual.position, [genRandomInt(-10, 10), 0, genRandomInt(-10, 10)])\n            const tile = app.scene.navigationMesh.detectNearestNode(position, navigationLayer)\n            position[1] = tile.centroid[1]\n            console.log(tile)\n            \n            const critter = world.addEntity(Stalker({ position, behavior: StalkerAI(app, world, player) }))\n\n            logger.info('ai', `Spawn entity. ${position}`)\n            critters.push(critter)\n        }\n    })\n    app.scene.addEventListener('update', function(){\n        app.scene.entities.forEach(entity =>  entity.highlight = [1, 1, 1])\n        \n        const entities = app.scene.raytrace(app.interaction.mouse.position)\n        let closest, minDistance = Infinity\n        for(let i = entities.length - 1; i >= 0; i--){\n            let entity = entities[i]\n            vec3.translationFromMat4(entity.modelMatrix, tempPosition)\n            let distance = vec3.distance(vec3.subtract(tempPosition, player.visual.position))\n            if(distance >= minDistance) continue\n            minDistance = distance\n            closest = entity\n        }\n\t\t\n        if(closest && !closest.ragdollEnabled && minDistance < 8){\n            closest.highlight = [1, 0.8, 0.8]\n            const entity = critters.find(entity => entity.visual.elements[0] === closest)\n            entity.switchToRagdoll()\n        }\n    })\n}","import {setupConfiguration} from './settings'\nimport {World} from './core'\nimport {Player, Weapon} from './player'\nimport {ZoneGenerator} from './environment'\nimport {CritterSpawner, Stalker, StalkerAI} from './critters'\n\nexport const DemoGame = app => { //TODO create container?\n        window.app = app\n        window.vec3 = V.math.vec3\n        window.quat = V.math.quat\n        window.physics = V.physics\n    \n    setupConfiguration(app)\n    \n    const world = World(app)\n    \n    setupEnvironment: {\n        app.physics.gravity[1] = -9.81\n\n        app.scene.createLight({type: 'hemisphere', up: [0,1,0], skyColor: [0.05,0.3,0.3], groundColor: [0.1,0.1,0]})\n\n        app.scene.environment.fogDensity = 0.0064\n        app.scene.environment.fogColor = [0.2,0.2,0.2]\n    }\n    \n    const player = world.addEntity({ //TODO evaluate if it needs to be in engine or is it game-specific?\n        visual: {\n            className: 'instance',\n            nodes: [\n                { className: 'instance', group: 'skinned', url: 'assets/critters/arms.vmf', position: [0.5, -0.2, -0.6], rotation: quat.setAxisAngle(vec3.AXIS_Y, 1.04 * Math.PI), scale: [1, 1, 1] },\n                { className: 'audio', url: 'assets/sounds/footsteps-concrete.mp3', position: [0, 0, 0], volume: 1, loop: true },\n                { className: 'audio', url: 'assets/sounds/footsteps-metal.mp3', position: [0, 0, 0], volume: 1, loop: true },\n                { className: 'audio', url: 'assets/sounds/dark-ambience.mp3', position: [0, 0, 0], volume: 0.5, loop: true },\n                { className: 'audio', url: 'assets/sounds/projectile.mp3', position: [0, 0, 0], volume: 0.5, loop: false }\n            ]\n        },\n        behavior: [\n            Player(app.scene.camera, app.interaction, app, {\n\t\t\t\tweapon: Weapon(world)\n\t\t\t})\n        ],\n        imposter: [{\n            material: 'playerMaterial',\n            angularDamping: 1,\n            linearDamping: 0,\n            mass: 16,\n            fixedRotation: true,\n            visual: !true,\n            position: \n            [88, -20, -115],\n            quaternion: quat.setAxisAngle(vec3.AXIS_Y, Math.PI/2),\n            shapes: [{ type: 'sphere', radius: 0.5 }]\n        }]\n    })\n\tconst ambience = player.visual.elements[3]\n\tambience.play()\n    \n    ZoneGenerator(app, world, player)\n    CritterSpawner(app, world, player)\n}","import {DemoGame} from './demo'\n\nexport default function(){\n    window.start = _ => V.init().pipe(app => DemoGame(window.app = app)).fix(error => console.error(error))\n    start()\n//    V.init().pipe(app => {\n//        DemoGame(window.app = app)\n//    }).fix(error => console.error(error))\n}"]}